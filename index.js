(()=>{"use strict";const e=class{static createElement(e,t){const a=document.createElement(e);return t&&t.forEach((e=>a.setAttribute(e.name,e.value))),a}};var t,a,n,s,r,l,o,c,i,u,d,p,m,g,v,h,b,f,y,w,E,L,x,C,S,T,k,B,M,P;!function(e){e.div="div",e.link="a",e.btn="button",e.img="img",e.par="p",e.span="span",e.nav="nav",e.input="input",e.h1="h1",e.h2="h2",e.h3="h3",e.h4="h4",e.h5="h5",e.main="main",e.header="header",e.footer="footer",e.section="section",e.label="label",e.list="ul",e.listItem="li",e.audio="audio"}(t||(t={})),function(e){e.text="text",e.password="password"}(a||(a={})),function(e){e.home="home",e.layout="layout",e.lessons="lessons",e.lesson="lesson",e.test="test",e.games="games",e.gameOne="gameOne",e.gameTwo="gameTwo",e.about="about"}(n||(n={})),function(e){e.ru="ru",e.en="en"}(s||(s={})),function(e){e.light="light",e.dark="dark"}(r||(r={})),function(e){e.users="/users",e.lessons="/lessons",e.tests="/tests",e.test="/test"}(l||(l={})),function(e){e.get="get",e.post="post",e.put="put",e.delete="delete"}(o||(o={})),function(e){e.easy="basic",e.medium="intermediate",e.hard="advanced"}(c||(c={})),function(e){e.ru="ru",e.en="en"}(i||(i={})),function(e){e.one="gameOne",e.two="gameTwo"}(u||(u={})),function(e){e.noLogin="noLogin",e.noPassword="noPassword",e.invalidLogin="invalidLogin",e.invalidPassword="invalidPassword",e.existingLogin="existingLogin",e.notRegistered="notRegistered",e.notMatchingPassword="notMatchingPassword"}(d||(d={})),function(e){e.registration="registration",e.authorisation="authorisation"}(p||(p={})),function(e){e[e.min=2]="min",e[e.max=20]="max"}(m||(m={})),function(e){e[e.min=6]="min",e[e.max=20]="max"}(g||(g={})),function(e){e[e.found=200]="found",e[e.notFound=404]="notFound"}(v||(v={})),function(e){e[e.default=1]="default",e[e.amount=12]="amount"}(h||(h={})),function(e){e.true="disabled"}(b||(b={})),function(e){e.noData="noData",e[e.noStats=0]="noStats"}(f||(f={})),function(e){e.view="view",e.edit="edit"}(y||(y={})),function(e){e.logout="logout",e.delete="delete"}(w||(w={})),function(e){e[e.one=1]="one",e[e.two=2]="two",e[e.three=3]="three",e[e.four=4]="four",e[e.five=5]="five",e[e.six=6]="six",e[e.seven=7]="seven",e[e.eight=8]="eight",e[e.nine=9]="nine",e[e.ten=10]="ten",e[e.eleven=11]="eleven",e[e.twelve=12]="twelve",e[e.thirteen=13]="thirteen",e[e.fourteen=14]="fourteen",e[e.fifteen=15]="fifteen",e[e.sixteen=16]="sixteen",e[e.seventeen=17]="seventeen",e[e.eighteen=18]="eighteen",e[e.nineteen=19]="nineteen",e[e.twenty=20]="twenty"}(E||(E={})),function(e){e.default="bg-default",e.one="bg-one",e.two="bg-two"}(L||(L={})),function(e){e.normal="font-size-normal",e.small="font-size-small",e.big="font-size-big"}(x||(x={})),function(e){e.default="font-family-sans-serif",e.serif="font-family-serif"}(C||(C={})),function(e){e[e.normal=40]="normal",e[e.small=30]="small",e[e.big=60]="big"}(S||(S={})),function(e){e.soft="sound-soft",e.hard="sound-hard",e.mech="sound-mechanical",e.silent="sound-silent"}(T||(T={})),function(e){e.default="skin-default",e.one="skin-one",e.two="skin-two",e.three="skin-three"}(k||(k={})),function(e){e[e.levels=10]="levels",e[e.spells=28]="spells",e[e.beasts=9]="beasts"}(B||(B={})),function(e){e[e.levels=10]="levels",e[e.score=2590]="score"}(M||(M={})),function(e){e[e.first=1]="first",e[e.second=2]="second",e[e.third=3]="third",e[e.fourth=4]="fourth",e[e.fifth=5]="fifth"}(P||(P={}));class A{static getPage(){return document.querySelector(".page")}static clearPage(){A.getPage().innerHTML=""}static hidePageScrollbar(){A.setPagePadding(),A.setPageOverflowHidden()}static showPageScrollbar(){A.removePagePadding(),A.setPageOverlowScroll()}static setPagePadding(){A.getPage().style.paddingRight=`${class{static countScrollbarWidth(){const a=e.createElement(t.div,[{name:"class",value:"measure-scrollbar"}]);document.body.append(a);const n=a.offsetWidth-a.clientWidth;return document.body.removeChild(a),n}}.countScrollbarWidth()}px`}static removePagePadding(){A.getPage().style.paddingRight="0"}static setPageOverflowHidden(){document.firstElementChild&&(document.firstElementChild.style.overflowY="hidden")}static setPageOverlowScroll(){document.firstElementChild&&(document.firstElementChild.style.overflowY="scroll")}}const I=A;class R{}R.notAuthorised="0login",R.defaultAvatar=h.default,R.currentUser={login:R.notAuthorised,avatar:R.defaultAvatar},R.currentPage=n.home,R.currentLang=s.en,R.currentTheme=r.light,R.currentLessonBg=L.default,R.currentLessonFontSize=x.normal,R.currentLessonFontFamily=C.default,R.currentLessonSound=T.silent,R.currentLessonSkin=k.default;const $=R,D=class{static setItem(e,t){window.localStorage.setItem(e,JSON.stringify(t))}static getItem(e){return null!==window.localStorage.getItem(e)?JSON.parse(window.localStorage.getItem(e)):null}static removeItem(e){window.localStorage.removeItem(e)}},H=class{static updateState(){const e=D.getItem("eyesUpState");e&&($.currentUser=e.currentUser,$.currentPage=e.currentPage,$.currentLang=e.currentLang,$.currentTheme=e.currentTheme,$.currentLayout=e.currentLayout,$.currentComplexity=e.currentComplexity,$.currentLessonBg=e.currentLessonBg,$.currentLessonFontSize=e.currentLessonFontSize,$.currentLessonFontFamily=e.currentLessonFontFamily,$.currentLessonSound=e.currentLessonSound,$.currentLessonSkin=e.currentLessonSkin)}static saveState(){const e={currentUser:$.currentUser,currentPage:$.currentPage,currentLang:$.currentLang,currentTheme:$.currentTheme,currentLayout:$.currentLayout,currentComplexity:$.currentComplexity,currentLessonBg:$.currentLessonBg,currentLessonFontSize:$.currentLessonFontSize,currentLessonFontFamily:$.currentLessonFontFamily,currentLessonSound:$.currentLessonSound,currentLessonSkin:$.currentLessonSkin};D.setItem("eyesUpState",e)}};class F{static changeTheme(){$.currentTheme=$.currentTheme===r.light?r.dark:r.light}static swapTheme(){const e=I.getPage();$.currentTheme===r.light?(e.classList.remove(r.dark),e.classList.add(r.light)):(e.classList.remove(r.light),e.classList.add(r.dark))}static applyTheme(){F.changeTheme(),H.saveState(),F.swapTheme()}}const W=F;class U{static changePage(e){$.currentPage=e}static applyPage(e,t){$.currentPage===e&&$.currentPage!==n.lessons&&$.currentPage!==n.test&&$.currentPage!==n.lesson||(U.changePage(e),H.saveState(),t())}}const O=U,G=class{static createMenuBtn(a,n,s){const r=e.createElement(t.btn,[{name:"class",value:"menu-btn"}]);return $.currentPage===n&&r.classList.add("menu-btn-active"),r.textContent=a,r.addEventListener("click",(()=>{I.showPageScrollbar(),O.applyPage(n,s)})),r}},N={homeLink:{en:"Home",ru:"Главная"},lessonsLink:{en:"Lessons",ru:"Уроки"},gamesLink:{en:"Games",ru:"Игры"},gameOneTitle:{en:"Typing Adventure",ru:"Typing Adventure"},gameOneDescFirst:{en:"Do you want to feel yourself like a real seeker of adventures? Then welcome to Typing Adventure!",ru:"Хотите почувствовать себя настоящим искателем приключений? Добро пожаловать в Typing Adventure!"},gameOneDescSecond:{en:"Fights with various monsters are waiting for you and the victory over them depends only on how quickly and accurately you will type spells. Your skills will grow with each level, but so will the strength of the monsters - so do not forget to combine attacks to cause more damage.",ru:"Вас ждут схватки с разнообразными монстрами, а победа над ними зависит только от того, насколько быстро и точно вы будете печатать заклинания. С каждым уровнем будут расти не только ваши навыки, но и сила монстров - поэтому не забывайте комбинировать атаки, чтобы наносить больше урона."},gameOneDescThird:{en:"Well, are you ready? Let's go on an adventure!",ru:"Ну что, готовы? Вперед, навстречу приключениям!"},gameTwoTitle:{en:"Typing Hero",ru:"Typing Hero"},gameTwoDescFirst:{en:"Always dreamed to become a hero of the stage? Your dream can come true right now in Typing Hero!",ru:"Всегда мечтали стать героем сцены? Ваша мечта может осуществиться прямо сейчас в Typing Hero!"},gameTwoDescSecond:{en:'Keyboard will take place of the guitar neck and letters will replace notes, but the result will still depend on your skill and fingers speed. You also will be able to write your own "melody" by choosing the speed, the number of "frets" and the duration of the level in a special menu.',ru:'Место гитарного грифа займет клавиатура, а буквы заменят ноты, но результат все также будет зависеть от вашего мастерства и скорости пальцев. Вы также сможете написать собственную "мелодию", самостоятельно выбрав скорость, количество "ладов" и продолжительность уровня в специальном меню.'},gameTwoDescThird:{en:"Ready to perform? The stage awaits for you!",ru:"Ну что, готовы к выступлению? Сцена вас ждет!"},aboutUsLink:{en:"About Us",ru:"О нас"},themeSwitcher:{en:"En",ru:"Ру"},headerSignUpBtn:{en:"Sign Up",ru:"Войти"},promoTitle:{en:"Typing Lessons",ru:"Уроки печати"},promoText:{en:"Always wanted to type without looking at the keyboard? Learn with us quickly and efficiently!",ru:"Давно мечтали печатать, не глядя на клавиатуру? Научитесь вместе с нами быстро и эффективно!"},promoBtn:{en:"Get Started",ru:"Продолжить"},homeLessonsTitle:{en:"Interactive Experience",ru:"Интерактивное взаимодействие"},homeLessonsText:{en:"The student experience is clean, straightforward, engaging and fun. Our gamified environment motivates students to master each lesson before proceeding to the next level",ru:"Процесс обучения простой и увлекательный. Наш игровой подход мотивирует закреплять умения по каждому уроку, прежде чем перейти к следующему"},homeGamesTitle:{en:"Unique Typing Games",ru:"Уникальные игры"},homeGamesText:{en:"EyesUP's games are unique, engaging and challenging. Each of the games focuses on building specific typing skills. You can track your progress the same as you would with any other lesson",ru:"Игры EyesUP уникальны и интересны. Каждая из игр направлена на развитие определенных навыков набора текста. Вы сможете отслеживать свой прогресс, как при любом другом уроке"},homeProgressTitle:{en:"Badges and Statistics",ru:"Значки и статистика"},homeProgressText:{en:"Badges are designed to motivate students on key objectives. Statistics allows students to track the development of their typing skills",ru:"Значки увеличивают мотивацию, a статистика позволяет отследить развитие ваших навыков набора текста"},homeRegistrationTitle:{en:"Explore all possibilities",ru:"Исследуйте все возможности"},homeRegistrationText:{en:"Create an account to track your progress and store badges",ru:"Создайте учетную запись, чтобы отслеживать свои успехи и хранить значки"},homeRegistrationBtn:{en:"Sign Up",ru:"Создать аккаунт"},lessonsTitle:{en:"Lessons",ru:"Уроки"},lessonsEnLayoutTitle:{en:"English Layout",ru:"Английская раскладка"},lessonsRuLayoutTitle:{en:"Russian Layout",ru:"Русская раскладка"},lessonsTestTitle:{en:"Test your typing Speed and Accuracy",ru:"Проверьте свою скорость и точность печати"},lessonsTestBtn:{en:"Let's Go!",ru:"Поехали!"},lessonsFilterAll:{en:"All",ru:"Все"},lessonsFilterBasic:{en:"Basic",ru:"Простые"},lessonsFilterIntermediate:{en:"Intermediate",ru:"Средние"},lessonsFilterAdvanced:{en:"Advanced",ru:"Продвинутые"},gamesTitle:{en:"Games",ru:"Игры"},modalSignUpTitle:{en:"Sign Up",ru:"Регистрация"},modalLogInTitle:{en:"Log In",ru:"Авторизация"},modalSignUpLoginInput:{en:"Login",ru:"Логин"},modalSignUpPasswordInput:{en:"Password",ru:"Пароль"},modalLogInBtn:{en:"Log In",ru:"Войти"},modalSignUpBtn:{en:"Sign Up",ru:"Создать аккаунт"},modalLogInText:{en:"Don't have an account?",ru:"Еще нет аккаунта?"},modalSignUpText:{en:"Already have an account?",ru:"Уже есть аккаунт?"},modalLogInLink:{en:"Sign Up",ru:"Создать аккаунт"},modalSignUpLink:{en:"Log In",ru:"Войти"},profileTitle:{en:"Profile",ru:"Профиль"},profileEditTitle:{en:"Edit Profile",ru:"Редактирование"},profileUsernameInput:{en:"Username",ru:"Ник"},profileUsernamePassword:{en:"Password",ru:"Пароль"},statsTitle:{en:"Statistics",ru:"Статистика"},statsLessonsCompleted:{en:"Completed lessons",ru:"Завершено уроков"},statsLessonsScore:{en:"Average score",ru:"Средняя оценка"},statsLessonsAccuracy:{en:"Average accuracy",ru:"Средняя точность"},statsReachedLevel:{en:"Reached level",ru:"Достигнутый уровень"},statsCollectedSpells:{en:"Collected spells",ru:"Собрано заклинаний"},statsEncounteredBeasts:{en:"Encountered beasts",ru:"Встречено монстров"},statsCompletedLevels:{en:"Completed levels",ru:"Пройдено уровней"},statsBestScore:{en:"Best score",ru:"Лучший результат"},statsBestAccuracy:{en:"Best accuracy",ru:"Лучшая точность"},profileBadgesTitle:{en:"Earned badges",ru:"Полученные значки"},profileBadgesLink:{en:"All badges",ru:"Все значки"},badgesTitle:{en:"Badges",ru:"Значки"},profileLogoutBtn:{en:"Logout",ru:"Выйти"},profileSaveBtn:{en:"Save Changes",ru:"Сохранить"},profileAvatarsTitle:{en:"Avatars",ru:"Аватарки"},profileDeleteBtn:{en:"Delete Account",ru:"Удалить аккаунт"},backBtn:{en:"Back",ru:"Назад"},testRibbonText:{en:"Start typing",ru:"Начните печатать"},testMistakesText:{en:"Mistakes:",ru:"Ошибки:"},testWpmText:{en:"Speed:",ru:"Скорость:"},testWpmSub:{en:"wpm",ru:"свм"},testAccuracyText:{en:"Accuracy:",ru:"Точность:"},testCorrectionsText:{en:"Corrections:",ru:"Исправления:"},testBtnsText:{en:"Text language",ru:"Язык текста"},testResultText:{en:"Result",ru:"Результат"},testTimeText:{en:"Time:",ru:"Время:"},lessonResults0:{en:"Продолжайте практиковаться!",ru:"Что ж, попробуйте еще раз!"},lessonResults1:{en:"Keep practicing!",ru:"Продолжайте практиковаться!"},lessonResults2:{en:"Keep practicing!",ru:"Продолжайте практиковаться!"},lessonResults3:{en:"Good job!",ru:"Хорошая работа!"},lessonResults4:{en:"Well done!",ru:"Отличная работа!"},lessonResults5:{en:"Excellent job!",ru:"Отличная работа!"},lessonResultsScoreText:{en:"Your score",ru:"Ваш результат"},lessonResultsReq:{en:"Lesson requirements",ru:"Требования к уроку"},lessonResultsReqSpeed:{en:"Minimum speed",ru:"Минимальная скорость"},lessonResultsReqSpeedStar:{en:"Speed for a star",ru:"Скорость для звезды"},lessonResultsReqAccuracy:{en:"Minimum accuracy",ru:"Минимальная точность"},lessonBadgeTitle:{en:"New achivment",ru:"Новое достижение"},lessonBadgeCompletedAllLessons:{en:"You've completed all lessons!",ru:"Вы завершили все уроки!"},lessonBadgeEyesUp:{en:"You've completed all EyesUp lessons!",ru:"Вы завершили все уроки EyesUp!"},lessonBadgeSpeed20:{en:"You've reached a typing speed of 20wpm!",ru:"Вы достигли скорости печати 20 слов в минуту!"},lessonBadgeSpeed60:{en:"You've reached a typing speed of 60wpm!",ru:"Вы достигли скорости печати 60 слов в минуту!"},lessonBadgeSpeed100:{en:"You've reached a typing speed of 100wpm!",ru:"Вы достигли скорости печати 100 слов в минуту!"},lessonSoundSilent:{en:"Silent",ru:"Без звука"},lessonSoundSoft:{en:"Soft Laptop",ru:"Мягкий звук"},lessonSoundHard:{en:"Hard Laptop",ru:"Громкий звук"},lessonSoundMech:{en:"Mechanical",ru:"Механический"},lessonTipNext:{en:"Next",ru:"Далее"},lessonTipSkip:{en:"Skip",ru:"Пропустить"},lessonTipFirst:{en:"Before we start... Good posture is important for your health!",ru:"Прежде, чем начнем... Правильная осанка важна для вашего здоровья!"},lessonTipSecond:{en:"Now the first thing you need to do is to find the bumps on the",ru:"Теперь, первое, что вам нужно сделать, это найти бугорки на"},lessonTipSecondMiddle:{en:"and",ru:"и"},lessonTipSecondEnd:{en:"keys.",ru:"клавишах."},lessonTipF:{en:"F",ru:"А"},lessonTipJ:{en:"J",ru:"О"},lessonTipThird:{en:"Close your eyes and find them with your index fingers.",ru:"Закройте глаза и найдите их указательными пальцами."},lessonTipFourth:{en:"And this is the base position for your fingers, which you should return to after each keystroke.",ru:"А это базовое положение пальцев, в которое нужно возвращаться после каждого нажатия клавиши."},lessonTipFifth1:{en:"Keep your eyes up!",ru:"Не опускайте глаза!"},lessonTipFifth2:{en:"The main rule: do not look at the keyboard again. And soon you will type like a pro.",ru:"Главное правило: не смотрите на клавиатуру. И скоро вы будете печатать как профессионал."}},j=class{static createMenu(a,s){const r=e.createElement(t.nav,[{name:"class",value:a}]),l=G.createMenuBtn(N.homeLink[$.currentLang],n.home,s),o=G.createMenuBtn(N.lessonsLink[$.currentLang],n.layout,s),c=G.createMenuBtn(N.gamesLink[$.currentLang],n.games,s),i=G.createMenuBtn(N.aboutUsLink[$.currentLang],n.about,s);return r.append(l,o,c,i),r}},Y=class{static createSmallBtn(a,n){const s=e.createElement(t.btn,[{name:"class",value:a}]);return n&&(s.textContent=n),s}};class z{static changeLang(){$.currentLang=$.currentLang===s.en?s.ru:s.en}static applyLang(e){z.changeLang(),H.saveState(),e()}}const V=z;class K{static openModal(e){I.hidePageScrollbar(),I.getPage().append(e)}static closeModal(e){I.showPageScrollbar(),e.remove()}static changeModal(e,t,a){t.remove(),e.append(a)}static switchModal(e){e.classList.add("hidden"),e.previousElementSibling&&!e.previousElementSibling.classList.contains("profile-badges-modal")&&e.previousElementSibling.classList.remove("hidden"),e.nextElementSibling&&!e.nextElementSibling.classList.contains("profile-badges-modal")&&e.nextElementSibling.classList.remove("hidden")}static showModal(e){e.classList.remove("hidden")}static hideModal(e){e.classList.add("hidden")}static clearModalContent(e){e.children&&Array.from(e.children).forEach((t=>{e.removeChild(t)}))}static closeBurgerMenu(){const e=I.getPage();e.lastElementChild&&e.lastElementChild.lastElementChild&&e.lastElementChild.lastElementChild.classList.contains("burger-menu")&&K.closeModal(e.lastElementChild)}static closeBurgerMenuHandler(){window.matchMedia("(max-width: 899px)").matches||K.closeBurgerMenu()}}const q=K,_=class{static createCloseBtn(e,t){const a=Y.createSmallBtn(e);return a.textContent="Close button",a.addEventListener("click",(()=>{q.closeModal(t)})),a}},J=class{static checkIfUserAuthorised(){return $.currentUser.login!==$.notAuthorised}static updateUserLogin(e){$.currentUser.login=e}static updateUserState(e,t){$.currentUser.login=e,$.currentUser.avatar=t}static resetUserState(){$.currentUser.login=$.notAuthorised,$.currentUser.avatar=$.defaultAvatar}};class Q{static createAvatarImagePath(e){return`${Q.path}avatar-${e}.png`}static createAvatarImage(a,n){return e.createElement(t.img,[{name:"class",value:a},{name:"src",value:n},{name:"alt",value:"Avatar image"}])}}Q.path="./assets/images/avatars/";const Z=Q,X=class{static createModalWrapper(a,n){const s=e.createElement(t.div,[{name:"class",value:"modal-wrapper"}]),r=class{static createOverlay(a){const n=e.createElement(t.div,[{name:"class",value:"overlay"}]);return n.addEventListener("click",(()=>{q.closeModal(a)})),n}}.createOverlay(s),l=a(s,n);return s.append(r,l),s}},ee=class{static createMainTitle(a){const n=e.createElement(t.h3,[{name:"class",value:"main-title"}]);return n.textContent=a,n}},te=class{static createInputLabel(a,n){const s=e.createElement(t.label,[{name:"class",value:a}]);return s.textContent=n,s}},ae=class{static createInput(e,t){const a=document.createElement(e);return t&&t.forEach((e=>a.setAttribute(e.name,e.value))),a}},ne=class{static createLoginInput(e,a){const n=ae.createInput(t.input,[{name:"class",value:e}]);return a&&n.setAttribute(a,a),n}},se=class{static createPasswordInput(e,n){const s=ae.createInput(t.input,[{name:"class",value:e},{name:"type",value:a.password}]);return n&&s.setAttribute(n,n),s}},re=class{static switchPasswordVisibility(e,t){t.getAttribute("type")===a.password?(e.classList.add("password-open"),e.classList.remove("password-close"),t.setAttribute("type",a.text)):(e.classList.add("password-close"),e.classList.remove("password-open"),t.setAttribute("type",a.password))}static hidePassword(e){e.lastElementChild&&e.lastElementChild.lastElementChild&&e.lastElementChild.lastElementChild.previousElementSibling&&e.lastElementChild.lastElementChild.previousElementSibling.getAttribute("type")===a.text&&(e.lastElementChild.lastElementChild.classList.add("password-close"),e.lastElementChild.lastElementChild.classList.remove("password-open"),e.lastElementChild.lastElementChild.previousElementSibling.setAttribute("type",a.password))}},le=class{static createPasswordVisibilityBtn(a,n){const s=e.createElement(t.btn,[{name:"class",value:a}]);return s.addEventListener("click",(()=>{re.switchPasswordVisibility(s,n)})),s}},oe={noLogin:{en:"Please enter login.",ru:"Пожалуйста, введите логин."},noPassword:{en:"Please enter password.",ru:"Пожалуйста, введите пароль."},invalidLogin:{en:"Invalid login. Hover over the icon to see more details.",ru:"Неверный логин. Коснитесь иконки, чтобы узнать детали."},invalidPassword:{en:"Invalid password. Hover over the icon to see more details.",ru:"Неверный пароль. Коснитесь иконки, чтобы узнать детали."},existingLogin:{en:"There is a user with such login already.",ru:"Пользователь с таким логином уже существует."},notRegistered:{en:"There is no user with such login. Please register first.",ru:"Пользователя с таким логином не существует. Пожалуйста, сначала зарегистрируйтесь."},notMatchingPassword:{en:"Password doesn't match.",ru:"Пароль не подходит."},loginHint:{en:"2-20 characters, latin / cyrillic letters, numbers, should start from letter.",ru:"2-20 символов, буквы латиницы / кириллицы, числа, должен начинаться с буквы."},passwordHint:{en:"6-20 characters, 1 number, 1 latin capital letter, 1 latin lowercase letter, 1 special character (!@#$%^&*).",ru:"6-20 символов, 1 число, 1 заглавная латинская буква, 1 прописная латинская буква, 1 спецсимвол (!@#$%^&*)."}},ce=class{static showHint(e){e.lastElementChild&&e.lastElementChild.classList.remove("hidden")}static hideHint(e){e.lastElementChild&&e.lastElementChild.classList.add("hidden")}},ie=class{static createErrorHintContent(a,n){const s=e.createElement(t.par,[{name:"class",value:"error-hint-content"}]),r=e.createElement(t.span,[{name:"class",value:"error-hint-mark"}]),l=e.createElement(t.span,[{name:"class",value:"error-hint-text"}]);return r.textContent=`${a}: `,l.textContent=n,s.append(r,l),s}};class ue{static wipeError(e){e.firstChild&&e.removeChild(e.firstChild)}static showError(a,n,s){ue.wipeError(a),a.append(class{static createErrorContent(a,n){const s=e.createElement(t.par,[{name:"class",value:"error-content"}]),r=class{static createErrorText(a){const n=e.createElement(t.span,[{name:"class",value:"error-text"}]);return n.textContent=oe[a][$.currentLang],n}}.createErrorText(n);if(s.append(r),a===p.registration){const a=class{static createErrorIcon(a){const n=e.createElement(t.span,[{name:"class",value:"error-icon"}]);return n.textContent="Error hint",n.addEventListener("mouseenter",(()=>{ce.showHint(a)})),n.addEventListener("mouseleave",(()=>{ce.hideHint(a)})),n}}.createErrorIcon(s),n=class{static createErrorHint(){const a=e.createElement(t.div,[{name:"class",value:"error-hint hidden"}]),n=ie.createErrorHintContent(N.modalSignUpLoginInput[$.currentLang],oe.loginHint[$.currentLang]),s=ie.createErrorHintContent(N.modalSignUpPasswordInput[$.currentLang],oe.passwordHint[$.currentLang]);return a.append(n,s),a}}.createErrorHint();s.append(a,n)}return s}}.createErrorContent(n,s))}}const de=ue,pe=class{static createPasswordRegExp(e,t,a){const n=`{${t},${a}}`,s=[...Object.values(e)],r=`${s.map((e=>`(?=.*[${e}])`)).join("")}[${s.join("")}]${n}`;return new RegExp(r,"g")}static createLoginRegExp(e,t,a){const n=`{${t-1},${a-1}}`,s=[...Object.values(e)],r=`^[${e.latin}${e.cyrillic}]+[${s.join("")}]${n}`;return new RegExp(r,"ig")}};class me{}me.login=$.notAuthorised,me.password=$.notAuthorised,me.avatar=$.defaultAvatar;const ge=me,ve={numeric:"0-9",special:"!@#$%^&*",latinLower:"a-z",latinUpper:"A-Z"},he={numeric:"0-9",latin:"a-z",cyrillic:"а-яё"};class be{static checkIfValueNotEmpty(e){return!!e}static checkIfLoginValid(e){return pe.createLoginRegExp(he,m.min,m.max).test(e)}static checkIfPasswordValid(e){return pe.createPasswordRegExp(ve,g.min,g.max).test(e)}static checkIfLoginCorrect(e,t){return be.checkIfValueNotEmpty(e)?!!be.checkIfLoginValid(e)||(de.showError(t,p.registration,d.invalidLogin),!1):(de.showError(t,p.registration,d.noLogin),!1)}static checkIfPasswordCorrect(e,t){return be.checkIfValueNotEmpty(e)?!!be.checkIfPasswordValid(e)||(de.showError(t,p.registration,d.invalidPassword),!1):(de.showError(t,p.registration,d.noPassword),!1)}static checkIfDataCorrect(e,t,a){const n=be.checkIfPasswordCorrect(t,a),s=be.checkIfLoginCorrect(e,a);return!(!n||!s)}static checkIfDataEntered(e,t,a){return be.checkIfValueNotEmpty(e)?!!be.checkIfValueNotEmpty(t)||(de.showError(a,p.authorisation,d.noPassword),!1):(de.showError(a,p.authorisation,d.noLogin),!1)}static checkIfLoginDiffer(e){return ge.login!==e.login}static checkIfUserDataDiffer(e){return ge.login!==e.login||ge.password!==e.password||ge.avatar!==e.avatar}}const fe=be;class ye{static disableSaveChangesBtn(e){e.setAttribute(b.true,b.true)}static enableSaveChangesBtn(e){e.removeAttribute(b.true)}static switchSaveChangesBtnState(e,t){fe.checkIfUserDataDiffer(e)?ye.enableSaveChangesBtn(t):ye.disableSaveChangesBtn(t)}}const we=ye,Ee=class{static updateProfileState(e){ge.login=e.login,ge.password=e.password,ge.avatar=e.avatar}static changeLoginState(e){ge.login=e}static changePasswordState(e){ge.password=e}static changeAvatarState(e){ge.avatar=e}},Le=class{static createViewProfileData(a,n,s){const r=e.createElement(t.div,[{name:"class",value:"profile-data-wrapper"}]),l=class{static createProfileAvatar(a){const n=e.createElement(t.div,[{name:"class",value:"profile-avatar-wrapper"}]),s=Z.createAvatarImage("default-avatar profile-avatar-image selected-avatar",Z.createAvatarImagePath(a));return n.append(s),n}}.createProfileAvatar(a.avatar),o=te.createInputLabel("profile-input-label profile-login-input-label",N.modalSignUpLoginInput[$.currentLang]),c=n===y.edit&&s?class{static createEditProfileLoginInput(e,t){const a=ne.createLoginInput("profile-input");return a.addEventListener("input",(()=>{Ee.changeLoginState(a.value.trim()),we.switchSaveChangesBtnState(e,t)})),a}}.createEditProfileLoginInput(a,s):ne.createLoginInput("profile-input",b.true),i=te.createInputLabel("profile-input-label profile-password-input-label",N.modalSignUpPasswordInput[$.currentLang]),u=n===y.edit&&s?class{static createEditProfilePasswordInput(e,t){const a=se.createPasswordInput("profile-input profile-password-input");return a.addEventListener("input",(()=>{Ee.changePasswordState(a.value.trim()),we.switchSaveChangesBtnState(e,t)})),a}}.createEditProfilePasswordInput(a,s):se.createPasswordInput("profile-input profile-password-input",b.true),d=le.createPasswordVisibilityBtn("password-visibility-btn profile-password-visibility-btn password-close",u);return c.value=a.login,u.value=a.password,o.append(c),i.append(u,d),r.append(l,o,i),r}},xe=class{static createBigBtn(a){const n=e.createElement(t.btn,[{name:"class",value:"big-btn"}]);return n.textContent=a,n}};var Ce=function(e,t,a,n){return new(a||(a=Promise))((function(s,r){function l(e){try{c(n.next(e))}catch(e){r(e)}}function o(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(l,o)}c((n=n.apply(e,t||[])).next())}))};class Se{static getLessonsQuery(e){return e.layout&&e.complexity?`layout=${e.layout}&complexity=${e.complexity}`:`layout=${e.layout}`}static getUsers(){return Ce(this,void 0,void 0,(function*(){const e=yield fetch(`${Se.url}${l.users}`);return yield e.json()}))}static checkUser(e){return Ce(this,void 0,void 0,(function*(){const t=yield fetch(`${Se.url}${l.users}/${e}`);return yield t.status}))}static getUser(e){return Ce(this,void 0,void 0,(function*(){const t=yield fetch(`${Se.url}${l.users}/${e}`);return yield t.json()}))}static createUser(e){return Ce(this,void 0,void 0,(function*(){const t=yield fetch(`${Se.url}${l.users}`,{method:o.post,headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return yield t.json()}))}static updateUser(e,t){return Ce(this,void 0,void 0,(function*(){const a=yield fetch(`${Se.url}${l.users}/${e}`,{method:o.put,headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return yield a.json()}))}static deleteUser(e){return Ce(this,void 0,void 0,(function*(){const t=yield fetch(`${Se.url}${l.users}/${e}`,{method:o.delete});return yield t.json()}))}static getLessons(e){return Ce(this,void 0,void 0,(function*(){const t=yield fetch(`${Se.url}${l.lessons}?${Se.getLessonsQuery(e)}`);return yield t.json()}))}static createLesson(e){return Ce(this,void 0,void 0,(function*(){const t=yield fetch(`${Se.url}${l.lessons}`,{method:o.post,headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return yield t.json()}))}static getLesson(e){return Ce(this,void 0,void 0,(function*(){const t=yield fetch(`${Se.url}${l.lessons}/${e}`);return yield t.json()}))}static updateLesson(e,t){return Ce(this,void 0,void 0,(function*(){const a=yield fetch(`${Se.url}${l.lessons}/${e}`,{method:o.put,headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return yield a.json()}))}static deleteLesson(e){return Ce(this,void 0,void 0,(function*(){const t=yield fetch(`${Se.url}${l.lessons}/${e}`,{method:o.delete});return yield t.json()}))}static getTests(){return Ce(this,void 0,void 0,(function*(){const e=yield fetch(`${Se.url}${l.tests}`);return yield e.json()}))}static getTest(e){return Ce(this,void 0,void 0,(function*(){const t=yield fetch(`${Se.url}${l.test}?language=${e}`);return yield t.json()}))}static createTest(e){return Ce(this,void 0,void 0,(function*(){const t=yield fetch(`${Se.url}${l.tests}`,{method:o.post,headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return yield t.json()}))}static updateTest(e,t){return Ce(this,void 0,void 0,(function*(){const a=yield fetch(`${Se.url}${l.tests}/${e}`,{method:o.put,headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return yield a.json()}))}static deleteTest(e){return Ce(this,void 0,void 0,(function*(){const t=yield fetch(`${Se.url}${l.tests}/${e}`,{method:o.delete});return yield t.json()}))}}Se.url="https://eyesup-backend.herokuapp.com/api/v1";const Te=Se,ke=class{constructor(e,t,a,n,s,r,l,o,c){this.login=e,this.password=t,this.avatar=a,this.testing=n,this.lessonsEn=s,this.lessonsRu=r,this.typingAdventure=l,this.typingHero=o,this.badges=c,this.login=e,this.password=t,this.avatar=a,this.testing=n,this.lessonsEn=s,this.lessonsRu=r,this.typingAdventure=l,this.typingHero=o,this.badges=c}},Be=class extends ke{constructor(e,t,a){super(e,t,a,f.noData,f.noData,f.noData,f.noData,f.noData,f.noData),this.login=e,this.password=t,this.avatar=a}},Me=class{static createUser(e,t,a,n){const s=e.value.trim(),r=t.value.trim();fe.checkIfDataCorrect(s,r,a)&&Te.checkUser(s).then((e=>{if(e===v.found&&de.showError(a,p.registration,d.existingLogin),e===v.notFound){const e=new Be(s,r,$.currentUser.avatar);Te.createUser(e).then((()=>{J.updateUserLogin(s),H.saveState(),I.showPageScrollbar(),n()}))}}))}static authoriseUser(e,t,a,n){const s=e.value.trim(),r=t.value.trim();fe.checkIfDataEntered(s,r,a)&&Te.checkUser(s).then((e=>{e===v.notFound&&de.showError(a,p.authorisation,d.notRegistered),e===v.found&&Te.getUser(s).then((e=>{r!==e.password?de.showError(a,p.authorisation,d.notMatchingPassword):(J.updateUserState(s,e.avatar),H.saveState(),I.showPageScrollbar(),n())}))}))}static logoutFromProfile(e){J.resetUserState(),H.saveState(),I.showPageScrollbar(),e()}static changeUserData(e,t,a){const n=fe.checkIfDataCorrect(ge.login,ge.password,t),s=fe.checkIfLoginDiffer(e),r=new ke(ge.login,ge.password,ge.avatar,e.testing,e.lessonsEn,e.lessonsRu,e.typingAdventure,e.typingHero,e.badges);n&&(s?Te.checkUser(ge.login).then((n=>{n===v.found&&de.showError(t,p.registration,d.existingLogin),n===v.notFound&&Te.updateUser(e._id,r).then((()=>{J.updateUserState(ge.login,ge.avatar),H.saveState(),I.showPageScrollbar(),a()}))})):Te.updateUser(e._id,r).then((()=>{J.updateUserState(ge.login,ge.avatar),H.saveState(),I.showPageScrollbar(),a()})))}},Pe=class{static changeAvatarImage(e){if(e.firstElementChild&&e.firstElementChild.firstElementChild){const t=Z.createAvatarImage("default-avatar profile-avatar-image selected-avatar",Z.createAvatarImagePath(ge.avatar));e.firstElementChild.removeChild(e.firstElementChild.firstElementChild),e.firstElementChild.append(t)}}static changeSelectedAvatar(e,t){Array.from(e.children).forEach((e=>{e.firstElementChild&&e.firstElementChild.classList.contains("selected-avatar")&&(e.firstElementChild.classList.remove("selected-avatar"),e.firstElementChild.classList.add("not-selected-avatar"))})),t.firstElementChild&&(t.firstElementChild.classList.remove("not-selected-avatar"),t.firstElementChild.classList.add("selected-avatar"))}},Ae=class{static createAvatarBtn(a,n,s,r,l){const o=e.createElement(t.btn,[{name:"class",value:"avatar-btn"}]),c=n===ge.avatar?"avatar-btn-img default-avatar selected-avatar":"avatar-btn-img default-avatar not-selected-avatar",i=Z.createAvatarImage(c,Z.createAvatarImagePath(n));return o.append(i),o.addEventListener("click",(()=>{Ee.changeAvatarState(n),Pe.changeAvatarImage(r),Pe.changeSelectedAvatar(a,o),we.switchSaveChangesBtnState(s,l)})),o}},Ie=class{static showConfirmation(e){e.firstElementChild&&e.firstElementChild.classList.remove("hidden")}static hideConfirmation(e){e.firstElementChild&&e.firstElementChild.classList.add("hidden")}},Re=class{static createSubtitle(a,n){const s=e.createElement(t.h4,[{name:"class",value:a}]);return s.textContent=n,s}},$e={btnYes:{en:"Yes",ru:"Да"},btnNo:{en:"No",ru:"Нет"},question:{en:"Are you sure?",ru:"Вы уверены?"},textLogout:{en:"Your future progress won't be saved.",ru:"Ваш будущий прогресс не будет сохранен."},textDelete:{en:"All your progress will be lost.",ru:"Весь ваш прогресс будет утерян."}},De=class{static createConfirmationText(a){const n=e.createElement(t.par,[{name:"class",value:"confirmation-text"}]);return n.textContent=a,n}},He=class{static createConfirmationYesBtn(){const a=e.createElement(t.par,[{name:"class",value:"confirmation-yes-btn"}]);return a.textContent=$e.btnYes[$.currentLang],a}},Fe=class{static createConfirmationContent(a,n,s,r,l){const o=e.createElement(t.div,[{name:"class",value:n}]),c=class{static createConfirmationQuestion(){const a=e.createElement(t.par,[{name:"class",value:"confirmation-question"}]);return a.textContent=$e.question[$.currentLang],a}}.createConfirmationQuestion(),i=r===w.delete?De.createConfirmationText($e.textDelete[$.currentLang]):De.createConfirmationText($e.textLogout[$.currentLang]),u=e.createElement(t.div,[{name:"class",value:"confirmation-btns-wrapper"}]),d=w.delete&&l?class{static createConfirmationDeleteAccountBtn(e,t){const a=He.createConfirmationYesBtn();return a.addEventListener("click",(()=>{Te.deleteUser(e._id).then((()=>{Me.logoutFromProfile(t)}))})),a}}.createConfirmationDeleteAccountBtn(l,s):class{static createConfirmationLogoutBtn(e){const t=He.createConfirmationYesBtn();return t.addEventListener("click",(()=>{Me.logoutFromProfile(e)})),t}}.createConfirmationLogoutBtn(s),p=class{static createConfirmationNoBtn(a){const n=e.createElement(t.par,[{name:"class",value:"confirmation-no-btn"}]);return n.textContent=$e.btnNo[$.currentLang],n.addEventListener("click",(()=>{Ie.hideConfirmation(a)})),n}}.createConfirmationNoBtn(a);return u.append(d,p),o.append(c,i,u),o}},We=class{static createStatsTitle(a){const n=e.createElement(t.h5,[{name:"class",value:"profile-stats-title"}]);return n.textContent=a,n}},Ue=class{static getGameData(e){return JSON.parse(e)}static setGameData(e){return JSON.stringify(e)}},Oe=class{static createStatsSubtitle(a){const n=e.createElement(t.par,[{name:"class",value:"profile-stats-subtitle"}]);return n.textContent=a,n}},Ge=class{static getGameData(e){return JSON.parse(e)}static setGameData(e){return JSON.stringify(e)}},Ne=class{static getLessons(e){return JSON.parse(e)}static setLessons(e){return JSON.stringify(e)}},je=class{static createLayoutStats(a,n){const s=a===i.en?n.lessonsEn:n.lessonsRu,r=e.createElement(t.div,[{name:"class",value:"profile-stats-subblock"}]),l=a===i.en?Oe.createStatsSubtitle(N.lessonsEnLayoutTitle[$.currentLang]):Oe.createStatsSubtitle(N.lessonsRuLayoutTitle[$.currentLang]),o=e.createElement(t.list,[{name:"class",value:"profile-stats-list"}]),c=class{static createCompletedLessons(a,n){const s=e.createElement(t.listItem,[{name:"class",value:"profile-stats-item"}]),r=e.createElement(t.par),l=e.createElement(t.par);return Te.getLessons({layout:a}).then((e=>{const t=n===f.noData?f.noStats:[...Object.keys(Ne.getLessons(n))].length,a=e.length;r.textContent=N.statsLessonsCompleted[$.currentLang],l.textContent=`${t} / ${a}`,s.append(r,l)})),s}}.createCompletedLessons(a,s),u=class{static createAverageScore(a){const n=e.createElement(t.listItem,[{name:"class",value:"profile-stats-item"}]),s=e.createElement(t.par),r=e.createElement(t.par,[{name:"class",value:"profile-stats-score-wrapper"}]),l=e.createElement(t.span,[{name:"class",value:"profile-stats-score-value"}]),o=e.createElement(t.span,[{name:"class",value:"profile-stats-score-mark"}]);let c;if(a===f.noData)c=f.noStats;else{const e=[...Object.values(Ne.getLessons(a))].map((e=>e.lastScore)).reduce(((e,t)=>e+t),0);c=Math.ceil(e/[...Object.values(Ne.getLessons(a))].length)}return s.textContent=N.statsLessonsScore[$.currentLang],l.textContent=`${c}`,r.append(l,o),n.append(s,r),n}}.createAverageScore(s),d=class{static createAverageAccuracy(a){const n=e.createElement(t.listItem,[{name:"class",value:"profile-stats-item"}]),s=e.createElement(t.par),r=e.createElement(t.par);let l;if(a===f.noData)l=f.noStats;else{const e=[...Object.values(Ne.getLessons(a))].map((e=>e.lastAccuracy)).reduce(((e,t)=>e+t),0);l=Math.floor(e/[...Object.values(Ne.getLessons(a))].length)}return s.textContent=N.statsLessonsAccuracy[$.currentLang],r.textContent=`${l} %`,n.append(s,r),n}}.createAverageAccuracy(s);return o.append(c,u,d),r.append(l,o),r}},Ye=class{static getBadges(e){return JSON.parse(e)}static setBadges(e){return JSON.stringify(e)}};class ze{static createBadgeImagePath(e){return`${ze.path}badge-${e}.svg`}static createBadgeImage(a,n){return e.createElement(t.img,[{name:"class",value:a},{name:"src",value:n},{name:"alt",value:"Badge image"}])}}ze.path="./assets/images/badges/";const Ve=ze,Ke={1:{en:{title:"The adventure begins!",text:"You have completed first level of Typing Adventure."},ru:{title:"Приключение начинается!",text:"Вы прошли первый уровень Typing Adventure."}},2:{en:{title:"You are a wizard!",text:"You have collected 10 spells in Typing Adventure."},ru:{title:"Вы волшебник!",text:"Вы собрали 10 заклинаний в Typing Adventure."}},3:{en:{title:"Almost there!",text:"You are halfway through Typing Adventure."},ru:{title:"Почти у цели!",text:"Вы прошли половину Typing Adventure."}},4:{en:{title:"The seeker of adventures!",text:"You have completed Typing Adventure."},ru:{title:"Искатель приключений!",text:"Вы прошли Typing Adventure."}},5:{en:{title:"The Thunder Lord!",text:"You have collected all thunder spells in Typing Adventure."},ru:{title:"Повелитель грома!",text:"Вы собрали все заклинания грома в Typing Adventure."}},6:{en:{title:"The Fire Lord!",text:"You have collected all fire spells in Typing Adventure."},ru:{title:"Повелитель огня!",text:"Вы собрали все заклинания огня в Typing Adventure."}},7:{en:{title:"The Water Lord!",text:"You have collected all water spells in Typing Adventure."},ru:{title:"Повелитель воды!",text:"Вы собрали все заклинания воды в Typing Adventure."}},8:{en:{title:"The Light Lord!",text:"You have collected all light spells in Typing Adventure."},ru:{title:"Повелитель света!",text:"Вы собрали все заклинания света в Typing Adventure."}},9:{en:{title:"The Wind Lord!",text:"You have collected all wind spells in Typing Adventure."},ru:{title:"Повелитель ветра!",text:"Вы собрали все заклинания ветра в Typing Adventure."}},10:{en:{title:"I am a hero!",text:"You have completed Typing Hero."},ru:{title:"Я - герой!",text:"Вы прошли Typing Hero."}},11:{en:{title:"I Am Legend!",text:"You have earned maximum score at each level of Typing Hero."},ru:{title:"Я - легенда!",text:"Вы заработали максимум очков в каждом уровне Typing Hero."}},12:{en:{title:"Gotta Catch 'Em All (En)!",text:"You have completed all lessons for the En layout with at least 1 star."},ru:{title:"Собери их всеx (En)!",text:"Вы завершили все уроки для En раскладки минимум на 1 звезду."}},13:{en:{title:"Gotta Catch 'Em All (Ru)!",text:"You have completed all lessons for the Ru layout with at least 1 star."},ru:{title:"Собери их всеx (Ru)!",text:"Вы завершили все уроки для Ru раскладки минимум на 1 звезду."}},14:{en:{title:"First steps (En)!",text:"You have reached typing speed of 20 wpm at the En layout."},ru:{title:"Первые шаги (En)!",text:"Вы достигли скорости печати 20 свм у на En раскладке."}},15:{en:{title:"First steps (Ru)!",text:"You have reached typing speed of 20 wpm at the Ru layout."},ru:{title:"Первые шаги (Ru)!",text:"Вы достигли скорости печати 20 свм на Ru раскладке."}},16:{en:{title:"The Typing Machine (En)!",text:"You have reached typing speed of 60 wpm at the En layout."},ru:{title:"Печатная машина (En)!",text:"Вы достигли скорости печати 60 свм на En раскладке."}},17:{en:{title:"The Typing Machine (Ru)!",text:"You have reached typing speed of 60 wpm at the Ru layout."},ru:{title:"Печатная машина (Ru)!",text:"Вы достигли скорости печати 60 свм на Ru раскладке."}},18:{en:{title:"Fast fingers (En)!",text:"You have reached typing speed of 100 wpm at the En layout."},ru:{title:"Быстрые пальцы (En)!",text:"Вы достигли скорости печати 100 свм на En раскладке."}},19:{en:{title:"Fast fingers (Ru)!",text:"You have reached typing speed of 100 wpm at the Ru layout."},ru:{title:"Быстрые пальцы (Ru)!",text:"Вы достигли скорости печати 100 свм на Ru раскладке."}},20:{en:{title:"Eyes Up!",text:"You have completed all EyesUp lessons with at least 1 star."},ru:{title:"Не опуская глаз!",text:"Вы прошли все уроки EyesUp минимум на 1 звезду."}}},qe=class{static createProfileBadgeItem(a,n){const s=e.createElement(t.listItem,[{name:"class",value:"profile-badge-item"}]),r=Ve.createBadgeImage(a,Ve.createBadgeImagePath(n)),l=class{static createProfileBadgeDesc(a,n){const s=e.createElement(t.div,[{name:"class",value:"profile-badge-desc"}]),r=class{static createProfileBadgeTitle(a){const n=e.createElement(t.h5,[{name:"class",value:"profile-badge-title"}]);return n.textContent=a,n}}.createProfileBadgeTitle(a),l=class{static createProfileBadgeText(a){const n=e.createElement(t.par,[{name:"class",value:"profile-badge-text"}]);return n.textContent=a,n}}.createProfileBadgeText(n);return s.append(r,l),s}}.createProfileBadgeDesc(Ke[n][$.currentLang].title,Ke[n][$.currentLang].text);return s.append(r,l),s}},_e=class{static createProfileModal(a,n){const s=e.createElement(t.div,[{name:"class",value:"profile-modal"}]);return Te.getUser($.currentUser.login).then((r=>{const l=e.createElement(t.div,[{name:"class",value:"profile-modal-content hidden"}]),o=e.createElement(t.div,[{name:"class",value:"profile-modal-content profile-badges-modal hidden"}]),c=class{static createViewProfileModal(a,n,s,r,l){Ee.updateProfileState(r);const o=e.createElement(t.div,[{name:"class",value:"profile-modal-content"}]),c=Le.createViewProfileData(r,y.view),u=e.createElement(t.div,[{name:"class",value:"logout-confirmation-wrapper"}]),d=Fe.createConfirmationContent(u,"logout-confirmation-content hidden",l,w.logout),p=class{static createLogoutBtn(e){const t=xe.createBigBtn(N.profileLogoutBtn[$.currentLang]);return t.classList.add("logout-btn"),t.addEventListener("click",(()=>{Ie.showConfirmation(e)})),t}}.createLogoutBtn(u),m=class{static createViewProfileHeader(a,n,s,r,l,o,c){const i=e.createElement(t.div,[{name:"class",value:"profile-header"}]),u=_.createCloseBtn("small-btn close-btn profile-btn",o),d=ee.createMainTitle(N.profileTitle[$.currentLang]),p=class{static createEditProfileBtn(a,n,s,r,l,o){const c=e.createElement(t.btn,[{name:"class",value:"small-btn edit-btn profile-btn"}]);return c.textContent="Edit profile",c.addEventListener("click",(()=>{re.hidePassword(a),Ie.hideConfirmation(n),class{static createEditProfileModal(a,n,s){Ee.updateProfileState(n),q.clearModalContent(a);const r=class{static createEditProfileHeader(a){const n=e.createElement(t.div,[{name:"class",value:"profile-header"}]),s=class{static createCloseEditProfileBtn(a){const n=e.createElement(t.btn,[{name:"class",value:"small-btn close-btn profile-btn"}]);return n.textContent="Close button",n.addEventListener("click",(()=>{q.switchModal(a)})),n}}.createCloseEditProfileBtn(a),r=ee.createMainTitle(N.profileEditTitle[$.currentLang]),l=e.createElement(t.div,[{name:"class",value:"profile-header-plag"}]);return n.append(s,r,l),n}}.createEditProfileHeader(a),l=e.createElement(t.div,[{name:"class",value:"error-block profile-error-block"}]),o=class{static createSaveChangesBtn(e,t,a){const n=xe.createBigBtn(N.profileSaveBtn[$.currentLang]);return n.classList.add("save-changes-btn"),n.setAttribute(b.true,b.true),n.addEventListener("click",(()=>{Me.changeUserData(e,t,a)})),n}}.createSaveChangesBtn(n,l,s),c=Le.createViewProfileData(n,y.edit,o),i=Re.createSubtitle("subtitle profile-subtitle",N.profileAvatarsTitle[$.currentLang]),u=class{static createProfileAvatars(a,n,s){const r=e.createElement(t.div,[{name:"class",value:"profile-avatars-wrapper"}]);for(let e=h.default;e<=h.amount;e+=1){const t=Ae.createAvatarBtn(r,e,a,n,s);r.append(t)}return r}}.createProfileAvatars(n,c,o),d=e.createElement(t.div,[{name:"class",value:"delete-account-confirmation-wrapper"}]),p=Fe.createConfirmationContent(d,"delete-account-confirmation-content hidden",s,w.delete,n),m=class{static createDeleteAccountBtn(a){const n=e.createElement(t.btn,[{name:"class",value:"simple-account-btn"}]);return n.textContent=N.profileDeleteBtn[$.currentLang],n.addEventListener("click",(()=>{Ie.showConfirmation(a)})),n}}.createDeleteAccountBtn(d);d.append(p,m),a.append(r,c,l,i,u,d,o)}}.createEditProfileModal(s,r,l),q.switchModal(o)})),c}}.createEditProfileBtn(a,n,s,r,l,c);return i.append(u,d,p),i}}.createViewProfileHeader(c,u,a,r,l,s,o),g=Re.createSubtitle("subtitle profile-subtitle",N.statsTitle[$.currentLang]),v=class{static createProfileStats(a){const n=e.createElement(t.div,[{name:"class",value:"profile-stats-wrapper"}]),s=class{static createLessonsStats(a){const n=e.createElement(t.div,[{name:"class",value:"profile-stats-block"}]),s=We.createStatsTitle(N.lessonsTitle[$.currentLang]),r=je.createLayoutStats(i.en,a),l=je.createLayoutStats(i.ru,a);return n.append(s,r,l),n}}.createLessonsStats(a),r=class{static createGamesStats(a){const n=e.createElement(t.div,[{name:"class",value:"profile-stats-block"}]),s=We.createStatsTitle(N.gamesTitle[$.currentLang]),r=class{static createTypingAdventureStats(a){const n=a.typingAdventure,s=e.createElement(t.div,[{name:"class",value:"profile-stats-subblock"}]),r=Oe.createStatsSubtitle(N.gameOneTitle[$.currentLang]),l=e.createElement(t.list,[{name:"class",value:"profile-stats-list"}]),o=class{static createReachedLevel(a){const n=e.createElement(t.listItem,[{name:"class",value:"profile-stats-item"}]),s=e.createElement(t.par),r=e.createElement(t.par),l=a===f.noData?f.noStats:Ue.getGameData(a).userLvl;return s.textContent=N.statsReachedLevel[$.currentLang],r.textContent=`${l} / ${B.levels}`,n.append(s,r),n}}.createReachedLevel(n),c=class{static createCollectedSpells(a){const n=e.createElement(t.listItem,[{name:"class",value:"profile-stats-item"}]),s=e.createElement(t.par),r=e.createElement(t.par),l=a===f.noData?f.noStats:Ue.getGameData(a).userSpells.length;return s.textContent=N.statsCollectedSpells[$.currentLang],r.textContent=`${l} / ${B.spells}`,n.append(s,r),n}}.createCollectedSpells(n),i=class{static createEncounteredBeasts(a){const n=e.createElement(t.listItem,[{name:"class",value:"profile-stats-item"}]),s=e.createElement(t.par),r=e.createElement(t.par),l=a===f.noData?f.noStats:Ue.getGameData(a).uniqueBeasts;return s.textContent=N.statsEncounteredBeasts[$.currentLang],r.textContent=`${l} / ${B.beasts}`,n.append(s,r),n}}.createEncounteredBeasts(n);return l.append(o,c,i),s.append(r,l),s}}.createTypingAdventureStats(a),l=class{static createTypingHeroStats(a){const n=a.typingHero,s=e.createElement(t.div,[{name:"class",value:"profile-stats-subblock"}]),r=Oe.createStatsSubtitle(N.gameTwoTitle[$.currentLang]),l=e.createElement(t.list,[{name:"class",value:"profile-stats-list"}]),o=class{static createCompletedLevels(a){const n=e.createElement(t.listItem,[{name:"class",value:"profile-stats-item"}]),s=e.createElement(t.par),r=e.createElement(t.par),l=a===f.noData?f.noStats:Ge.getGameData(a).levelsDone;return s.textContent=N.statsCompletedLevels[$.currentLang],r.textContent=`${l} / ${M.levels}`,n.append(s,r),n}}.createCompletedLevels(n),c=class{static createBestScore(a){const n=e.createElement(t.listItem,[{name:"class",value:"profile-stats-item"}]),s=e.createElement(t.par),r=e.createElement(t.par),l=a===f.noData?f.noStats:Ge.getGameData(a).bestScore;return s.textContent=N.statsBestScore[$.currentLang],r.textContent=`${l} / ${M.score}`,n.append(s,r),n}}.createBestScore(n),i=class{static createBestAccuracy(a){const n=e.createElement(t.listItem,[{name:"class",value:"profile-stats-item"}]),s=e.createElement(t.par),r=e.createElement(t.par),l=a===f.noData?f.noStats:Ge.getGameData(a).bestAccuracy;return s.textContent=N.statsBestAccuracy[$.currentLang],r.textContent=`${l} %`,n.append(s,r),n}}.createBestAccuracy(n);return l.append(o,c,i),s.append(r,l),s}}.createTypingHeroStats(a);return n.append(s,r,l),n}}.createGamesStats(a);return n.append(s,r),n}}.createProfileStats(r),E=class{static createProfileBadgesTitle(a,n,s,r,l){const o=e.createElement(t.div,[{name:"class",value:"profile-badges-title"}]),c=Re.createSubtitle("subtitle profile-subtitle",N.profileBadgesTitle[$.currentLang]),i=class{static createAllBadgesBtn(a,n,s,r,l){const o=e.createElement(t.btn,[{name:"class",value:"simple-account-btn"}]);return o.textContent=N.profileBadgesLink[$.currentLang],o.addEventListener("click",(()=>{re.hidePassword(a),Ie.hideConfirmation(n),class{static createProfileBadgesModal(a,n,s){q.clearModalContent(a);const r=class{static createBadgesProfileHeader(a,n){const s=e.createElement(t.div,[{name:"class",value:"profile-header"}]),r=class{static createProfileBadgesCloseBtn(a,n){const s=e.createElement(t.btn,[{name:"class",value:"small-btn close-btn profile-btn"}]);return s.textContent="Close button",s.addEventListener("click",(()=>{q.showModal(n),q.hideModal(a)})),s}}.createProfileBadgesCloseBtn(a,n),l=ee.createMainTitle(N.badgesTitle[$.currentLang]),o=e.createElement(t.div,[{name:"class",value:"profile-header-plag"}]);return s.append(r,l,o),s}}.createBadgesProfileHeader(a,n),l=class{static createProfileBadgesList(a){const n=a.badges===f.noData?f.noData:Ye.getBadges(a.badges),s=[...Object.keys(Ke)],r=e.createElement(t.list,[{name:"class",value:"profile-badges-list"}]);for(let e=0;e<s.length;e+=1){if(n===f.noData){const t=qe.createProfileBadgeItem("all-badges-image not-earned-badge",s[e]);r.append(t)}if(n!==f.noData){if(!n.includes(parseInt(s[e],10))){const t=qe.createProfileBadgeItem("all-badges-image not-earned-badge",s[e]);r.append(t)}if(n.includes(parseInt(s[e],10))){const t=qe.createProfileBadgeItem("all-badges-image",s[e]);r.append(t)}}}return r}}.createProfileBadgesList(s);return a.append(r,l),a}}.createProfileBadgesModal(s,r,l),q.showModal(s),q.hideModal(r)})),o}}.createAllBadgesBtn(a,n,s,r,l);return o.append(c,i),o}}.createProfileBadgesTitle(c,u,n,o,r),L=class{static createProfileEarnedBadges(a){const n=a.badges===f.noData?f.noData:Ye.getBadges(a.badges),s=[...Object.keys(Ke)],r=e.createElement(t.div,[{name:"class",value:"profile-earned-badges"}]);if(n===f.noData)for(let e=0;e<5;e+=1){const t=Ve.createBadgeImage("earned-badges-image not-earned-badge",Ve.createBadgeImagePath(s[e]));r.append(t)}if(n!==f.noData){if(5===n.length)for(let e=0;e<5;e+=1){const t=Ve.createBadgeImage("earned-badges-image",Ve.createBadgeImagePath(`${n[e]}`));r.append(t)}if(n.length>5)for(let e=n.length-5;e<n.length;e+=1){const t=Ve.createBadgeImage("earned-badges-image",Ve.createBadgeImagePath(`${n[e]}`));r.append(t)}if(n.length<5){for(let e=0;e<n.length;e+=1){const t=Ve.createBadgeImage("earned-badges-image",Ve.createBadgeImagePath(`${n[e]}`));r.append(t)}for(let e=0;e<5-n.length;e+=1){const t=Ve.createBadgeImage("earned-badges-image not-earned-badge",Ve.createBadgeImagePath(s[e]));r.append(t)}}}return r}}.createProfileEarnedBadges(r);return u.append(d,p),o.append(m,c,g,v,E,L,u),o}}.createViewProfileModal(l,o,a,r,n);s.append(c,l,o)})),s}};class Je{static createProfileBtn(a,n,s,r){const l=e.createElement(t.btn,[{name:"class",value:a}]),o=Z.createAvatarImage(n,s),c=e.createElement(t.par,[{name:"class",value:r}]);return c.textContent=N.profileTitle[$.currentLang],l.append(o,c),l}static createHeaderProfileBtn(e){const t=Je.createProfileBtn("header-profile-btn","default-avatar header-profile-avatar",Z.createAvatarImagePath($.currentUser.avatar),"header-profile-text");return t.addEventListener("click",(()=>{q.openModal(X.createModalWrapper(_e.createProfileModal,e))})),t}static createBurgerMenuProfileBtn(e,t,a){const n=Je.createProfileBtn("burger-menu-profile-btn","default-avatar burger-menu-profile-avatar selected-avatar",Z.createAvatarImagePath($.currentUser.avatar),"burger-menu-profile-text");return n.addEventListener("click",(()=>{q.changeModal(e,t,a)})),n}}const Qe=Je,Ze=class{static createRegistrationModalContent(a,n,s,r,l,o){const c=e.createElement(t.div,[{name:"class",value:a}]),i=ee.createMainTitle(n),u=class{static createRegistrationDataWrapper(a,n){const s=e.createElement(t.div),r=e.createElement(t.div,[{name:"class",value:"registration-inputs-wrapper"}]),l=te.createInputLabel("registration-input-label base-text",N.modalSignUpLoginInput[$.currentLang]),o=ne.createLoginInput("registration-input"),c=te.createInputLabel("registration-input-label base-text",N.modalSignUpPasswordInput[$.currentLang]),i=se.createPasswordInput("registration-input registration-password-input"),u=le.createPasswordVisibilityBtn("password-visibility-btn registration-password-visibility-btn password-close",i),d=e.createElement(t.div,[{name:"class",value:"error-block registration-error-block"}]),p=a(o,i,d,n);return l.append(o),c.append(i,u),r.append(l,c,d),s.append(r,p),s}}.createRegistrationDataWrapper(l,o),d=class{static createRegistrationSwitchBtn(a,n,s){const r=e.createElement(t.btn,[{name:"class",value:"registration-switch-btn"}]),l=e.createElement(t.par,[{name:"class",value:"registration-switch-text"}]),o=e.createElement(t.par,[{name:"class",value:"registration-switch-action"}]);return l.textContent=a,o.textContent=n,r.append(l,o),r.addEventListener("click",(()=>{q.switchModal(s)})),r}}.createRegistrationSwitchBtn(s,r,c);return c.append(i,u,d),c}},Xe=class{static createRegistrationModal(a,n){const s=e.createElement(t.div,[{name:"class",value:"registration-modal"}]),r=_.createCloseBtn("small-btn close-btn registration-close-btn",a),l=Ze.createRegistrationModalContent("registration-modal-content",N.modalSignUpTitle[$.currentLang],N.modalSignUpText[$.currentLang],N.modalSignUpLink[$.currentLang],class{static createSignUpBtn(a,n,s,r){const l=e.createElement(t.btn,[{name:"class",value:"big-btn"}]);return l.textContent=N.modalSignUpTitle[$.currentLang],l.addEventListener("click",(()=>{Me.createUser(a,n,s,r)})),l}}.createSignUpBtn,n),o=Ze.createRegistrationModalContent("registration-modal-content hidden",N.modalLogInTitle[$.currentLang],N.modalLogInText[$.currentLang],N.modalLogInLink[$.currentLang],class{static createLogInBtn(a,n,s,r){const l=e.createElement(t.btn,[{name:"class",value:"big-btn"}]);return l.textContent=N.modalLogInTitle[$.currentLang],l.addEventListener("click",(()=>{Me.authoriseUser(a,n,s,r)})),l}}.createLogInBtn,n);return s.append(r,l,o),s}};class et{static createRegistrationBtn(){return Y.createSmallBtn("small-btn small-btn-bg registration-btn",N.headerSignUpBtn[$.currentLang])}static createHeaderRegistrationBtn(e){const t=et.createRegistrationBtn();return t.addEventListener("click",(()=>{q.openModal(X.createModalWrapper(Xe.createRegistrationModal,e))})),t}static createBurgerMenuRegistrationBtn(e,t,a){const n=et.createRegistrationBtn();return n.addEventListener("click",(()=>{q.changeModal(e,t,a)})),n}}const tt=et,at="https://rs.school/js",nt="https://github.com/IDemidova/rs-clone/pull/38",st="https://www.typingclub.com",rt="https://spectrumui.gumroad.com",lt="https://dribbble.com/alzea/shots",ot="https://ru.freepik.com/author/upklyak",ct={Oxana:{name:"Oxana",nickname:"oxanacode",gitHubLink:"https://github.com/oxanacode",avatar:"./assets/images/developers/oxana.svg"},Nikita:{name:"Nikita",nickname:"ReWired25",gitHubLink:"https://github.com/ReWired25",avatar:"./assets/images/developers/nikita.svg"},Irina:{name:"Irina",nickname:"IDemidova",gitHubLink:"https://github.com/IDemidova",avatar:"./assets/images/developers/irina.svg"}};class it{static createRssCopyWrapper(){const a=e.createElement(t.div,[{name:"class",value:"rsslink-copy-wrapper"}]),n=class{static CreateRssLink(){const a=e.createElement(t.link,[{name:"class",value:"rss-link"},{name:"href",value:at},{name:"target",value:"_blank"}]),n=e.createElement(t.par,[{name:"class",value:"rss-logo-text"}]);return n.textContent="RS logo",a.append(n),a}}.CreateRssLink(),s=class{static createCopy(){const a=e.createElement(t.par,[{name:"class",value:"copy"}]);return a.textContent="© 2022 EyesUP",a}}.createCopy();return a.append(n,s),a}static createGithubsWrapper(){const a=e.createElement(t.div,[{name:"class",value:"github-links-wrapper"}]);return a.append(...class{static createGithubLinks(){return[{link:ct.Irina.gitHubLink,name:ct.Irina.nickname},{link:ct.Nikita.gitHubLink,name:ct.Nikita.nickname},{link:ct.Oxana.gitHubLink,name:ct.Oxana.nickname}].map((a=>{const n=e.createElement(t.link,[{name:"class",value:"dev-link"},{name:"href",value:a.link},{name:"target",value:"_blank"}]);return n.textContent=a.name,n}))}}.createGithubLinks()),a}static createContentWrapper(){const a=e.createElement(t.div,[{name:"class",value:"footer-wrapper"}]),n=it.createRssCopyWrapper(),s=it.createGithubsWrapper();return a.append(n,s),a}}const ut=it,dt=class{static createHomeSection(a,n,s){const r=e.createElement(t.section,[{name:"class",value:`home-${a}`}]),l=ee.createMainTitle(n),o=e.createElement(t.par,[{name:"class",value:"home-text"}]),c=e.createElement(t.div,[{name:"class",value:`home-${a}-bg`}]),i=e.createElement(t.div,[{name:"class",value:`home-${a}-content`}]);return l.textContent=n,o.textContent=s,i.append(l,o),r.append(i,c),r}},pt=[{en:"According to Cornwell University and the University of British Columbia, the ideal typing posture is such that the keyboard is below your elbow height when seated, with your wrists straight and not planted on the surface of the desk.",ru:"По данным Корнуэллского университета и Университета Британской Колумбии, идеальной считается поза, при которой клавиатура находится ниже уровня локтя, когда вы сидите, а ваши запястья прямые и не касаются поверхности стола."},{en:"On a QWERTY keyboard, “stewardesses” is the longest 12 letter word that can be typed with the left hand and “polyphony” for the right.",ru:"На QWERTY-клавиатуре «stewardesses» — самое длинное слово из 12 букв, которое можно набрать левой рукой, а «polyphony» — правой."},{en:"The space bar is the most used key on the keyboard.  Every second, the spacebar on keyboards around the world are hit about six million times.",ru:"Пробел — самая часто используемая клавиша на клавиатуре. Каждую секунду пробел на клавиатурах по всему миру нажимается около шести миллионов раз."},{en:"CTRL ALT DEL is a famous shortcut to close a programme on your computer or shut down. This idea came from David Bradley at IBM to avoid accidental shut down when typing.",ru:"CTRL ALT DEL — известный шорткат для закрытия программы на компьютере или завершения работы. Эта идея (которая принадлежит Дэвиду Брэдли из IBM) помогла избежать случайного отключения при наборе текста."},{en:"Print Screen often abbreviated PrtScr or PrntScrn. It's original purpose was to capture the screen and print it on paper. Today it's used to capture the screen and save it to clipboard.",ru:"Print Screen часто обозначается аббревиатурой PrtScr или PrntScrn. Первоначальная цель заключалась в том, чтобы захватить экран и распечатать его на бумаге. Сегодня он используется для захвата экрана и сохранения его в буфер обмена."}];class mt{static getRandomFact(){const e=Math.floor(Math.random()*pt.length);return pt[e][$.currentLang]}static createLessonsTest(){const a=e.createElement(t.section,[{name:"class",value:"layout-fact"}]),n=e.createElement(t.div,[{name:"class",value:"fact-bg"}]),s=e.createElement(t.par,[{name:"class",value:"base-text fact-text"}]);return s.textContent=mt.getRandomFact(),a.append(n,s),a}}const gt=mt,vt=class{static createSectionBtn(a,n){const s=e.createElement(t.btn,[{name:"class",value:`${a}-btn section-btn`}]),r=class{static createSectionTitle(a){const n=e.createElement(t.h4,[{name:"class",value:"section-title"}]);return n.textContent=a,n}}.createSectionTitle(n),l=e.createElement(t.div,[{name:"class",value:`${a}-bg section-btn-bg`}]);return s.append(r,l),s}},ht=class{static createLayoutBtn(e,t,a){const s=vt.createSectionBtn(`layout-${a}`,e);return s.addEventListener("click",(()=>{$.currentLayout=a,O.applyPage(n.lessons,t)})),s}},bt=class{static createGameDesc(a){const n=e.createElement(t.par,[{name:"class",value:"base-text game-desc-text"}]);return n.textContent=a,n}},ft=class{static createGameSection(a,s,r,l,o){const c=class{static createGameSectionBtn(e,t,a,s){const r=vt.createSectionBtn(e,t);return a===n.gameOne?r.addEventListener("click",(()=>{O.applyPage(n.gameOne,s)})):a===n.gameTwo&&r.addEventListener("click",(()=>{O.applyPage(n.gameTwo,s)})),r}}.createGameSectionBtn(s,N[`${r}Title`][$.currentLang],l,o),i=e.createElement(t.section,[{name:"class",value:`${s}-desc`}]),u=bt.createGameDesc(N[`${r}DescFirst`][$.currentLang]),d=bt.createGameDesc(N[`${r}DescSecond`][$.currentLang]),p=bt.createGameDesc(N[`${r}DescThird`][$.currentLang]);i.append(u,d,p),a.append(c,i)}},yt=class{static createFilterBtn(a,s,r){const l=e.createElement(t.btn,[{name:"class",value:"filter-btn"}]);return r?l.classList.add(`filter-btn-${r}`):l.classList.add("filter-btn-all"),$.currentComplexity===r&&l.classList.add("active-filter"),l.textContent=a,l.addEventListener("click",(()=>{$.currentComplexity=r||void 0,O.applyPage(n.lessons,s)})),l}};class wt{static clearState(){wt.lessonsNumber=0,wt.inputIndex=0,wt.mistakes=[],wt.historyMistakes=[],wt.typing=!1,wt.checkTime=0,wt.typedChars=0,wt.lineHeight=S.normal}}wt.lessonsNumber=0,wt.inputIndex=0,wt.mistakes=[],wt.historyMistakes=[],wt.typing=!1,wt.checkTime=0,wt.typedChars=0,wt.lineHeight=S.normal;const Et=wt,Lt=class{static getAllLessons(e){return e.lessonsEn!==f.noData&&$.currentLayout===i.en?Ne.getLessons(e.lessonsEn):e.lessonsRu!==f.noData&&$.currentLayout===i.ru?Ne.getLessons(e.lessonsRu):{}}},xt=class{static createLessonsList(a,s){const r=e.createElement(t.div,[{name:"class",value:"lessons-list"}]);return r.append(...a.map(((a,r)=>class{static createLessonBtn(a,s,r){const l=e.createElement(t.btn,[{name:"class",value:"lesson-btn"}]),o=e.createElement(t.div,[{name:"class",value:"lesson-btn-top"}]),c=e.createElement(t.div,[{name:"class",value:`lesson-btn-index lesson-index-${a.complexity}`}]),i=e.createElement(t.div,[{name:"class",value:"lesson-btn-stars"}]);if(J.checkIfUserAuthorised()){const n=Lt.getAllLessons(Et.user);if(0!==Object.keys(n).length&&n[a.index]){const s=n[a.index].lastScore;if(5-s)for(let a=0;a<5-s;a+=1){const a=e.createElement(t.div,[{name:"class",value:"lesson-btn-star-empty"}]);i.append(a)}for(let a=0;a<s;a+=1){const a=e.createElement(t.div,[{name:"class",value:"lesson-btn-star"}]);i.append(a)}}}const u=e.createElement(t.div,[{name:"class",value:`lesson-btn-bg lesson-bg-${a.complexity}`}]),d=e.createElement(t.h5,[{name:"class",value:"lesson-btn-title"}]);return c.textContent=`${s+1}`,d.textContent=a.title,o.append(c,i),l.append(o,u,d),l.addEventListener("click",(()=>{Et.lessonData=a,O.applyPage(n.lesson,r)})),l}}.createLessonBtn(a,r,s)))),r}};class Ct{static clearState(){Ct.inputIndex=0,Ct.mistakes=[],Ct.historyMistakes=[],Ct.typing=!1,Ct.checkTime=0,Ct.typedChars=0}}Ct.lang=s.en,Ct.inputIndex=0,Ct.mistakes=[],Ct.historyMistakes=[],Ct.typing=!1,Ct.checkTime=0,Ct.typedChars=0,Ct.lineHeight=S.normal;const St=Ct;class Tt{static createTestResult(){const a=e.createElement(t.div,[{name:"class",value:"test-result-ribbon"}]),n=e.createElement(t.par,[{name:"class",value:"result-ribbon-text"}]),s=e.createElement(t.span,[{name:"class",value:"result-ribbon-speed"}]),r=e.createElement(t.span,[{name:"class",value:"result-ribbon-accuracy"}]);return n.textContent=N.testResultText[$.currentLang],s.textContent=`${N.testWpmText[$.currentLang]} ${St.speed} ${N.testWpmSub[$.currentLang]}`,r.textContent=`${N.testAccuracyText[$.currentLang]} ${Math.floor(St.accuracy)} %`,a.append(n,s,r),a}static showTestResult(){Tt.visible||(Tt.visible=!0,St.page.append(Tt.createTestResult()))}}Tt.visible=!1;const kt=Tt;class Bt{static getTime(){return((new Date).valueOf()-St.startTime.valueOf())/1e3}static startTimer(){St.startTime=new Date;const e=setInterval((()=>{Bt.stopTimer?clearInterval(e):Bt.getWpm(),St.checkTime=Bt.getTime();const t=+St.timeCount.textContent;t&&(St.timeCount.textContent=""+(t-1)),St.checkTime>=60&&(Bt.stopTimer=!0,kt.showTestResult())}),1e3)}static getWpm(){const e=St.lang===s.en?6:8,t=Math.floor(St.inputIndex/e*60/Bt.getTime());St.speed=t||0,St.wpmCount.textContent=`${St.speed} ${N.testWpmSub[$.currentLang]}`}}Bt.stopTimer=!1;const Mt=Bt;class Pt{static getTime(){return((new Date).valueOf()-Et.startTime.valueOf())/1e3}static startTimer(){Et.startTime=new Date;const e=setInterval((()=>{Pt.stopTimer?clearInterval(e):Pt.getWpm(),Et.checkTime=Pt.getTime()}),500)}static getWpm(){const e=$.currentLayout===i.en?6:8,t=Math.floor(Et.inputIndex/e*60/Pt.getTime());Et.speed=t||0,Et.wpmCount.textContent=`${Et.speed} ${N.testWpmSub[$.currentLang]}`}}Pt.stopTimer=!1;const At=Pt,It=class{static createBackBtn(a,s){const r=e.createElement(t.btn,[{name:"class",value:"back-btn"}]);return r.textContent=N.backBtn[$.currentLang],r.addEventListener("click",(()=>{$.currentPage===n.test&&(St.clearState(),Mt.stopTimer=!0),$.currentPage===n.lesson&&(Et.clearState(),At.stopTimer=!0),$.currentPage===n.lessons&&($.currentComplexity=void 0),O.applyPage(a,s)})),r}},Rt=class{static createLessonsMain(a){const s=It.createBackBtn(n.layout,a),r=e.createElement(t.main,[{name:"class",value:"lessons"}]),l=e.createElement(t.div,[{name:"class",value:"lessons-top"}]),o=ee.createMainTitle(N.lessonsTitle[$.currentLang]),i=class{static createLessonsFilters(a,n){const s=e.createElement(t.div,[{name:"class",value:"lessons-filters"}]),r=yt.createFilterBtn(N.lessonsFilterAll[$.currentLang],n),l=yt.createFilterBtn(N.lessonsFilterBasic[$.currentLang],n,c.easy),o=yt.createFilterBtn(N.lessonsFilterIntermediate[$.currentLang],n,c.medium),i=yt.createFilterBtn(N.lessonsFilterAdvanced[$.currentLang],n,c.hard);return s.append(r,l,o,i),s}}.createLessonsFilters($.currentLayout,a),u=$.currentLayout,d=$.currentComplexity;return o.classList.add("lessons-title"),l.append(o,i),r.append(s,l),J.checkIfUserAuthorised()?Te.getUser($.currentUser.login).then((e=>{Et.user=e,Te.getLessons({layout:u,complexity:d}).then((e=>{r.append(xt.createLessonsList(e,a)),Et.lessonsNumber=e.length}))})):(Et.user=class{static createEmptyUser(){const e="noData";return{_id:e,__v:0,login:e,password:e,avatar:1,testing:e,lessonsEn:e,lessonsRu:e,typingAdventure:e,typingHero:e,badges:e}}}.createEmptyUser(),Te.getLessons({layout:u,complexity:d}).then((e=>{r.append(xt.createLessonsList(e,a)),Et.lessonsNumber=e.length}))),r}},$t=class{static createTestLangBtn(a,s){const r=e.createElement(t.btn,[{name:"class",value:"test-lang-btn"}]);return a===St.lang&&r.classList.add("active-test-lang"),r.textContent=a,r.addEventListener("click",(()=>{St.lang=a,St.clearState(),Mt.stopTimer=!0,O.applyPage(n.test,s)})),r}};class Dt{static getStep(){let e;return e=$.currentLessonFontSize===x.normal?S.normal:$.currentLessonFontSize===x.small?S.small:S.big,e}static check(){const e=Et.lessonChars[Et.inputIndex].getBoundingClientRect().top,t=Et.lessonChars[Et.inputIndex].getBoundingClientRect().bottom,a=Et.contentWrapper.getBoundingClientRect().top,n=Et.contentWrapper.getBoundingClientRect().bottom,s=Dt.getStep();if(t>n){const e=parseInt(Et.charsWrapper.style.marginTop||"0px",10),a=t-n;Et.charsWrapper.style.marginTop=e-a-2*s+"px"}if(e<a){const t=parseInt(Et.charsWrapper.style.marginTop||"0px",10),n=a-e;Et.charsWrapper.style.marginTop=`${t+n+s}px`}}static adjust(){const e=Et.lessonChars[Et.inputIndex].getBoundingClientRect().top,t=Et.lessonChars[Et.inputIndex].getBoundingClientRect().bottom,a=Et.charsWrapper.getBoundingClientRect().top,n=Et.contentWrapper.getBoundingClientRect().top,s=Et.contentWrapper.getBoundingClientRect().bottom,r=Dt.getStep();if(t>s-r){const e=parseInt(Et.charsWrapper.style.marginTop||"0px",10);Et.charsWrapper.style.marginTop=e-r+"px"}if(e<n+r&&a<n){const e=parseInt(Et.charsWrapper.style.marginTop||"0px",10);Et.charsWrapper.style.marginTop=`${e+r}px`}}}const Ht=Dt;class Ft{static getCorrections(){return Math.floor(St.historyMistakes.length-St.mistakes.length)}static getAccuracy(){const e=St.typedChars+1-St.mistakes.length,t=St.historyMistakes.length-St.mistakes.length,a=Math.floor((e-t/2)/(St.typedChars+1)*100);return St.accuracy=a,a}static checkMatch(e){if(St.testChars[St.inputIndex].textContent===e)if(St.historyMistakes.includes(St.inputIndex)){St.testChars[St.inputIndex].classList.add("correction");const e=St.mistakes.indexOf(St.inputIndex);e>-1&&St.mistakes.splice(e,1)}else St.testChars[St.inputIndex].classList.add("correct");else St.mistakes.includes(St.inputIndex)||St.mistakes.push(St.inputIndex),St.historyMistakes.includes(St.inputIndex)||St.historyMistakes.push(St.inputIndex),St.testChars[St.inputIndex].classList.add("incorrect")}static createTestInput(){const a=e.createElement(t.input,[{name:"class",value:"test-input"},{name:"autocomplete",value:"off"}]);return a.addEventListener("input",(()=>{if(St.inputIndex<=St.testChars.length-1&&St.testChars[St.inputIndex].classList.remove("active-char"),St.inputIndex>St.testChars.length-1||"0"===St.timeCount.textContent)return;(class{static adjust(){const e=St.testChars[St.inputIndex].getBoundingClientRect().top,t=St.testChars[St.inputIndex].getBoundingClientRect().bottom,a=St.charsWrapper.getBoundingClientRect().top,n=St.contentWrapper.getBoundingClientRect().top,s=St.contentWrapper.getBoundingClientRect().bottom,r=Ht.getStep();if(t>s-r){const e=parseInt(St.charsWrapper.style.marginTop||"0px",10);St.charsWrapper.style.marginTop=e-r+"px"}if(e<n+r&&a<n){const e=parseInt(St.charsWrapper.style.marginTop||"0px",10);St.charsWrapper.style.marginTop=`${e+r}px`}}}).adjust(),0===St.inputIndex&&(St.ribbon.style.top="-5rem"),St.typedChars=St.typedChars>St.inputIndex?St.typedChars:St.inputIndex;const e=a.value.split("")[St.inputIndex];if(St.typing||(Mt.stopTimer=!1,St.typing=!0,Mt.startTimer()),null==e)return St.inputIndex&&(St.inputIndex-=1),St.testChars[St.inputIndex].classList.add("active-char"),void St.testChars[St.inputIndex].classList.remove("correct","incorrect","correction");Ft.checkMatch(e),St.correctionsCount.textContent=`${Math.floor(Ft.getCorrections())}`,St.accuracyCount.textContent=`${Math.floor(Ft.getAccuracy())} %`,St.mistakesCount.textContent=`${St.mistakes.length}`,St.inputIndex===St.testChars.length-1&&(Mt.stopTimer=!0,kt.showTestResult()),St.inputIndex+=1,St.inputIndex<St.testChars.length&&St.testChars[St.inputIndex].classList.add("active-char"),Mt.getTime()>60&&(Mt.stopTimer=!0,kt.showTestResult())})),a}}const Wt=Ft,Ut=e,Ot=$,Gt={lvl:"lvl.",beastTitle:["cave beast","swamp beast","sand beast","stone beast","forest beast","cloud monster","waterfall monster","lava monster","tornado monster"],layoutButton:"back to games",resetButton:"reset progress",resetModalInfo:"Are you sure you want to reset the game progress and start over?",preparation:"preparation",yourMove:"your move!",beastMove:"beast move!",resistMessage:"\nresist!",resultNewLvl:"Level has been increased!\nNew beast on the map!",resultFinalLvl:"Congratulations!\nYou completed the game!",winnerHero:"You won!",winnerBeast:"Beast won!",lowStrengthMessage:"Now you are stronger!",toMap:"back to map",doneStatus:" (DONE)",welcomeModalTitle:"Welcome to the Typing Adventure!",welcomeModalMessage:"Defeat the strongest monsters of Typiria to win the crown and the title of fast typing professional!\nThe monsters have gone berserk and are not going to calm down! Luckily, elemental magic comes to your rescue!",welcomeModalWarning:"Please register to save your progress!",welcomeModalToLayoutBtn:"back to site",welcomeModalСontinue:"continue",startModalParagOne:"Before you is a game map on which various monsters appear. With each new level, your strength increases, and a new monster appears on the map.",startModalParagTwo:"Select a monster to enter the playing field. To defeat an opponent, you need to enter the names of magic spells that appear in the top plate of the playing field. You learn an enchantment: once cast, it is transferred to your collection.\nEnchantments of various elements are available in the game: fire, water, light, wind and thunder.",startModalParagThree:"Monsters are able to attack in different ways: magical or physical attacks.\nThe monster's magic attack is much stronger, but it can be repelled.\nMoreover, in addition to monsters, monsters that have protection from certain elements may also appear, be careful with them!",startModalParagFour:"If this is your first game, carefully read the hints on the playing field.",startModalParagFive:"Collect enchantments, win and get in-game achievements!\nGood luck!",startModalButton:"start the game",gameInfoTitle:"game info",gameInfoLvl:"your lvl",gameInfoHeroSpells:"your spells",gameInfoNullSpells:"you are on your way to learning!",gameInfoAllSpells:"game spells",gameInfoButton:"back to game",fieldTutorialModalParagOne:"You are on the Typing Adventure game field!",fieldTutorialModalParagTwo:"Check out a little hint guide before you start playing.",fieldTutorialModalParagThree:"Attention!\nFor the correct input of spells, the selected language in the system must match the language of the application!",fieldTutorialModalParagButtonStart:"hints",fieldTutorialModalParagButtonEsc:"skip",fieldTutorialHintOne:"The hero and the monster alternate moves, each move preceded by a preparation stage.\nDuring preparation, it is noted whose turn it will be, what spells are available in the cloud, or what attack the monster will have.",fieldTutorialHintTwo:"Spells appear randomly in the spell cloud and can be used by typing the name of the spell.\nIf the spell is new for your hero, after use it goes into the hero's collection.",fieldTutorialHintThree:"Here you can find a collection of hero spells. You can use both spells from the cloud and spells from the collection.\nThe principle of use is the same: you need to type the name of the spell.",fieldTutorialHintFour:'The monster can attack with both physics and magic. The magic attack is much stronger, but you can defend yourself by typing "resist" during the monster\'s turn with a magic attack. If successful, you will see the word "resist" appear in the action field.',fieldTutorialHintFive:"That's it, everything is quite simple, once again check that the layout in the system matches the selected language in the application, and go!",fieldTutorialButtonNext:"next",fieldTutorialButtonDone:"get start",achievementTitle:"New achievement!",achievementTitleLvlUp:"Wirst win!",achievementTextLvlUp:"Wow, you are not so simple!",achievementTitleTenSpells:"Wizard!",achievementTextTenSpells:"You have collected 10 spells!",achievementTitleHalfGame:"Almost there!",achievementTextHalfGame:"You are halfway through the game!",achievementTitleGameDone:"Typeria Conqueror!",achievementTextGameDone:"You completed Typing Adventure!",achievementTitleThunder:"Friend of thunder!",achievementTextThunder:"You have collected all thunder spells!",achievementTitleFire:"Friend of fire!",achievementTextFire:"You have collected all fire spells!",achievementTitleWater:"Friend of water!",achievementTextWater:"You have collected all water spells!",achievementTitleLight:"Friend of light!",achievementTextLight:"You have collected all light spells!",achievementTitleWind:"Friend of wind!",achievementTextWind:"You have collected all wind spells!"},Nt={lvl:"ур.",beastTitle:["пещерное чудище","болотное чудище","песчанное чудище","каменное чудище","лесное чущиде","облачный монстр","водопадный монстр","лавовый монстр","ураганный монстр"],layoutButton:"обратно к играм",resetButton:"сбросить прогресс",resetModalInfo:"Вы действительно хотите сбросить прогресс игры и начать заново?",preparation:"подготовка",yourMove:"ваш ход!",beastMove:"ход монстра!",resistMessage:"\nзащита!",resultNewLvl:"Повышение уровня!\nНовый монстр на карте!",resultFinalLvl:"Поздравляем!\nВы прошли всю игру!",winnerHero:"Вы победили!",winnerBeast:"Монстр победил!",lowStrengthMessage:"На этот раз ты сильнее!",toMap:"вернуться на карту",doneStatus:" (Пройден)",welcomeModalTitle:"Добро пожаловать в игру Typing Adventure!",welcomeModalMessage:"Одолейте сильнейших чудищ Тайпирии, чтобы завоевать корону и звание профессионала быстрой печати!\nЧудища разбуянились и успокаиваться не собираются! К счастью, вам на помощь приходит магия стихий!",welcomeModalWarning:"Пожалуйста, пройдите регистрацию для сохранения прогресса!",welcomeModalToLayoutBtn:"назад к сайту",welcomeModalСontinue:"продолжить",startModalParagOne:"Перед вами игровая карта, на которой появляются различные чудища. С каждым новым уровнем увеличивается ваша стойкость, а на карте возникает новое чудище.",startModalParagTwo:"Выберите чудище, чтобы попасть на игровое поле. Чтобы одолеть соперника, вам нужно вводить названия магических чар, которые появляются в верхней табличке игрового поля. Вы изучаете чары: после применения они переносятся в вашу коллекцию.\nВ игре доступны чары различных стихий: огня, воды, света, ветра и грома.",startModalParagThree:"Чудища способны атаковать разными способами: магической или физической атаками.\nМагическая атака чудища намного сильнее, однако её можно отразить.\nБолее того, помимо чудищ могут появится и монстры, которые имеют защиту от определённых стихий, будте с ними осторожнее!",startModalParagFour:"Если это ваша первая игра — внимательно прочтите подсказки на игровом поле.",startModalParagFive:"Собирайте чары, побеждайте и получайте игровые достижения!\nУдачи!",startModalButton:"начать игру",gameInfoTitle:"статистика",gameInfoLvl:"ваш уровень",gameInfoHeroSpells:"ваши чары",gameInfoNullSpells:"вы на пути к изучению!",gameInfoAllSpells:"чары в игре",gameInfoButton:"вернуться к игре",fieldTutorialModalParagOne:"Вы на игровом поле Typing Adventure!",fieldTutorialModalParagTwo:"Посмотрите небольшое руководство из подсказок, прежде чем начать играть.",fieldTutorialModalParagThree:"Внимание!\nДля корректного ввода чар выбранный язык в системе должен соответствовать языку приложения!",fieldTutorialModalParagButtonStart:"подсказки",fieldTutorialModalParagButtonEsc:"пропустить",fieldTutorialHintOne:"Герой и монстр ходят поочерёдно, каждому ходу предшествует стадия подготовки.\nВо время подготовки отмечается чей будет ход, какие спеллы доступны в облаке или какая атака будет у монстра.",fieldTutorialHintTwo:"В облаке спеллов в случайном порядке появляются спеллы, которые можно использовать: нужно напечатать название спелла.\nЕсли спелл новый для вашего героя - после использования он попадает в коллекцию героя.",fieldTutorialHintThree:"Здесь вы можете найти коллекцию спеллов героя. Можно использовать как спеллы из облака, так и спеллы из коллекции.\nПринцип использования такой же: нужно напечатать название спелла.",fieldTutorialHintFour:'Монстр может атаковать как силой, так и магией. Магическая атака намного сильнее, но вы можете защититься, напечатав "отразить" во время хода монстра с магической атакой. В случае успеха, вы увидете, как в поле действий появится слово "защита".',fieldTutorialHintFive:"Вот так, всё довольно просто, ещё раз проверьте соответствие раскладки в системе выбранному языку в приложении, и вперёд!",fieldTutorialButtonNext:"далее",fieldTutorialButtonDone:"начинаем!",achievementTitle:"Новое достижение!",achievementTitleLvlUp:"Первая победа!",achievementTextLvlUp:"А вы не так просты!",achievementTitleTenSpells:"Вы маг!",achievementTextTenSpells:"Вы собрали десять чар!",achievementTitleHalfGame:"Почти у цели!",achievementTextHalfGame:"Вы прошли половину игры!",achievementTitleGameDone:"Завоеватель Тайперии!",achievementTextGameDone:"Вы прошли Typing Adventure!",achievementTitleThunder:"Друг грома!",achievementTextThunder:"Вы собрали все чары грома!",achievementTitleFire:"Друг огня!",achievementTextFire:"Вы собрали все чары огня!",achievementTitleWater:"Друг воды!",achievementTextWater:"Вы собрали все чары воды!",achievementTitleLight:"Друг света!",achievementTextLight:"Вы собрали все чары света!",achievementTitleWind:"Друг ветра!",achievementTextWind:"Вы собрали все чары ветра!"},jt={1:{fire:{name:"fire",damage:"10"},water:{name:"water",damage:"10"},wind:{name:"wind",damage:"10"}},2:{light:{name:"light",damage:"10"},tunder:{name:"thunder",damage:"10"}},3:{sunfire:{name:"sunfire",damage:"50"},"aqua vortex":{name:"aqua vortex",damage:"40"},"wind vortex":{name:"wind vortex",damage:"50"}},4:{soundwave:{name:"soundwave",damage:"40"},"fiery hail":{name:"fiery hail",damage:"50"},"ligth wall":{name:"ligth wall",damage:"40"}},5:{"thunder blow":{name:"thunder blow",damage:"40"},"rising glow":{name:"rising glow",damage:"50"},"water storm":{name:"water storm",damage:"50"}},6:{"shining vortex":{name:"shining vortex",damage:"50"},"furious flow":{name:"furious flow",damage:"50"},windspout:{name:"windspout",damage:"50"}},7:{waterspout:{name:"waterspout",damage:"50"},"massive tornado":{name:"massive tornado",damage:"70"},"lightning blast":{name:"lightning blast",damage:"70"}},8:{"fiery hurricane":{name:"fiery hurricane",damage:"100"},"furious whirlwind":{name:"furious whirlwind",damage:"150"},"luminous pillar":{name:"luminous pillar",damage:"150"}},9:{"whirlwind lightning":{name:"whirlwind lightning",damage:"150"},"burning onslaught":{name:"burning onslaught",damage:"150"},"elemental magic":{name:"elemental magic",damage:"100"}},10:{"elemental high magic":{name:"elemental high magic",damage:"250"},"elemental great magic":{name:"elemental great magic",damage:"300"}}},Yt={1:{fire:{name:"огонь",damage:"10"},water:{name:"вода",damage:"10"},wind:{name:"ветер",damage:"10"}},2:{light:{name:"свет",damage:"10"},tunder:{name:"гром",damage:"10"}},3:{sunfire:{name:"огненный вихрь",damage:"50"},"aqua vortex":{name:"водный вихрь",damage:"40"},"wind vortex":{name:"воздушный вихрь",damage:"50"}},4:{soundwave:{name:"громовая волна",damage:"40"},"fiery hail":{name:"огненный град",damage:"50"},"ligth wall":{name:"стена света",damage:"40"}},5:{"thunder blow":{name:"удар грома",damage:"40"},"rising glow":{name:"восход сияния",damage:"50"},"water storm":{name:"водяная буря",damage:"50"}},6:{"shining vortex":{name:"сияющий вихрь",damage:"50"},"furious flow":{name:"яростный поток",damage:"50"},windspout:{name:"воздушный смерч",damage:"50"}},7:{waterspout:{name:"водяной смерч",damage:"50"},"massive tornado":{name:"гигантский торнадо",damage:"70"},"lightning blast":{name:"удар молнии",damage:"70"}},8:{"fiery hurricane":{name:"огненный ураган",damage:"100"},"furious whirlwind":{name:"яростный ветер",damage:"150"},"luminous pillar":{name:"световой столп",damage:"150"}},9:{"whirlwind lightning":{name:"вихревая молния",damage:"150"},"burning onslaught":{name:"огненный натиск",damage:"150"},"elemental magic":{name:"стихийная магия",damage:"100"}},10:{"elemental high magic":{name:"высшая стихийная магия",damage:"250"},"elemental great magic":{name:"великая стихийная магия",damage:"300"}}},zt={thunderSpells:["thunder","thunder blow","soundwave","lightning blast","whirlwind lightning"],fireSpells:["fire","sunfire","fiery hail","fiery hurricane","burning onslaught"],waterSpells:["water","aqua vortex","furious flow","water storm","waterspout"],windSpells:["wind","wind vortex","windspout","massive tornado","furious whirlwind"],lightSpells:["light","ligth wall","rising glow","shining vortex","luminous pillar"]},Vt={thunderSpells:["гром","удар грома","громовая волна","удар молнии","вихревая молния"],fireSpells:["огонь","огненный вихрь","огненный град","огненный ураган","огненный натиск"],waterSpells:["вода","водный вихрь","яростный поток","водяная буря","waterspout"],windSpells:["ветер","воздушный вихрь","водяной смерч","гигантский торнадо","яростный ветер"],lightSpells:["свет","стена света","восход сияния","сияющий вихрь","световой столп"]},Kt={physics:{name:"physics",damage:"10"},magic:{name:"magic",damage:"30"}},qt={physics:{name:"сила",damage:"10"},magic:{name:"магия",damage:"30"}};class _t{static engageState(){_t.currentLang=Ot.currentLang,_t.lib="en"===_t.currentLang?Gt:Nt,_t.beastMoves="en"===_t.currentLang?Kt:qt,_t.spellsLib="en"===_t.currentLang?jt:Yt,_t.elementalSpells="en"===_t.currentLang?zt:Vt}}_t.firstAppearance=!0,_t.firstFieldAppearance=!0,_t.userLvl=1,_t.userHp=100,_t.userSpells=[],_t.currentGameBeasts=[];const Jt=_t;class Qt{static createRandomNumber(e){const t=Math.random()*e;return Math.trunc(t)}static createRandomNums(e,t){const a=[];for(let n=0;a.length<e;n+=1){const e=Qt.createRandomNumber(t);a.includes(e)||a.push(e)}return a}static randomBeastHp(e){const t=100*e,a=100*Math.random()+t;return 10*Math.trunc(a/10)}}const Zt=Qt;class Xt{}Xt.spellCapture=!1,Xt.currentMove=!0,Xt.beastTypeAction=[];const ea=Xt;var ta;!function(e){e[e.heroTimer=5]="heroTimer",e[e.beastTimer=3]="beastTimer",e[e.startTimer=5e3]="startTimer",e[e.allBeastsTypes=9]="allBeastsTypes",e[e.randomSpellsAmount=1]="randomSpellsAmount",e[e.firstAction=0]="firstAction",e[e.secondAction=1]="secondAction",e[e.thirdAction=2]="thirdAction",e[e.firstLvl=1]="firstLvl",e[e.achievementTimer=7e3]="achievementTimer",e[e.achievementStyleTop=2]="achievementStyleTop",e[e.achievementAnotherModal=17]="achievementAnotherModal"}(ta||(ta={}));const aa=ta;class na{static modalElements(e){return{overlay:Ut.createElement(t.div,[{name:"class",value:`${e}-modal-overlay`}]),modal:Ut.createElement(t.div,[{name:"class",value:`${e}-modal-window`}]),modalText:Ut.createElement(t.par,[{name:"class",value:`${e}-modal-content`}]),button:Ut.createElement(t.btn,[{name:"class",value:`${e}-modal-button`}])}}static createFieldModal(e,a){const{overlay:n,modal:s,modalText:r,button:l}=na.modalElements("field");r.textContent=e,l.textContent=Jt.lib.toMap,l.addEventListener("click",(()=>{n.remove(),ea.beastInstance.renderCallback()})),a?(Ut.createElement(t.par,[{name:"class",value:"field-modal-content-info"}]).textContent=a,s.append(r,l)):s.append(r,l),n.append(s),Jt.gameWrapper.append(n)}static createWelcomeModal(e){const{overlay:a,modal:n,modalText:s,button:r}=na.modalElements("welcome"),l=Ut.createElement(t.par,[{name:"class",value:"welcome-modal-text"}]),o=Ut.createElement(t.par,[{name:"class",value:"welcome-modal-warning"}]),c=Ut.createElement(t.par,[{name:"class",value:"welcome-modal-buttons"}]),i=Ut.createElement(t.btn,[{name:"class",value:"welcome-layout-button"}]);l.textContent=Jt.lib.welcomeModalTitle,s.textContent=Jt.lib.welcomeModalMessage,o.textContent=Jt.lib.welcomeModalWarning,i.textContent=Jt.lib.welcomeModalToLayoutBtn,r.textContent=Jt.lib["welcomeModalСontinue"],i.addEventListener("click",(()=>{Jt.appCallbacks.switchPage(Jt.appCallbacks.page,Jt.appCallbacks.render)})),r.addEventListener("click",(()=>{na.createStartModal(),a.remove()})),c.append(i,r),n.append(l,s,o,c),a.append(n),Jt.firstAppearance=!1,e(),Jt.gameWrapper.append(a)}static createStartModal(){const{overlay:e,modal:a,modalText:n,button:s}=na.modalElements("start"),r=["startModalParagOne","startModalMap","startModalParagTwo","startModalField","startModalParagThree","startModalParagFour"].map((e=>{if("startModalMap"===e)return Ut.createElement(t.img,[{name:"class",value:"start-modal-img"},{name:"alt",value:"game-map"},{name:"src",value:"./assets/games/typing-adventure/map.png"}]);if("startModalField"===e)return Ut.createElement(t.img,[{name:"class",value:"start-modal-img"},{name:"alt",value:"game-map"},{name:"src",value:"./assets/games/typing-adventure/basic-field.png"}]);const a=Ut.createElement(t.par,[{name:"class",value:"start-modal-text"}]);return a.textContent=Jt.lib[e],a}));n.textContent=Jt.lib.startModalParagFive,s.textContent=Jt.lib.startModalButton,s.addEventListener("click",(()=>{e.remove()})),a.append(...r,n,s),e.append(a),Jt.gameWrapper.append(e)}}const sa=na;class ra{static spellChecker(e,t,a){let n=+a;return e.forEach((e=>{e===t&&(n/=2)})),n}static handler(e,t){const{beastType:a}=ea.beastInstance;let n=+t;return a.includes("cloud")||a.includes("облачный")?n=ra.spellChecker(Jt.elementalSpells.thunderSpells,e,t):a.includes("lava")||a.includes("лавовый")?n=ra.spellChecker(Jt.elementalSpells.fireSpells,e,t):a.includes("waterfall")||a.includes("водопадный")?n=ra.spellChecker(Jt.elementalSpells.waterSpells,e,t):(a.includes("tornado")||a.includes("ураганный"))&&(n=ra.spellChecker(Jt.elementalSpells.windSpells,e,t)),n.toString()}}const la=ra;class oa{static heroEventHandler(e){ea.spellCapture&&(oa.inputStr+=e.key,ea.heroSpells.forEach((e=>{if(oa.inputStr.includes(e.name)){oa.totalSpells.push(e.name);const t=la.handler(e.name,e.damage);oa.totalEffects.push(t),la.handler(e.name,e.damage),ea.actionTotal.textContent=oa.totalSpells.join(" & "),oa.inputStr=""}})),oa.spells.forEach((e=>{if(oa.inputStr.includes(e.name)&&!ea.heroSpells.includes(e)){ea.heroSpells.push(e),oa.totalSpells.push(e.name);const t=la.handler(e.name,e.damage);oa.totalEffects.push(t),ea.actionTotal.textContent=oa.totalSpells.join(" & "),oa.inputStr=""}})))}static beastEventHandler(e){oa.inputStr+=e.key,(oa.inputStr.includes("resist")||oa.inputStr.includes("отразить"))&&(oa.heroShield=!0,ea.actionTotal.textContent+=Jt.lib.resistMessage,window.removeEventListener("keypress",oa.beastEventHandler))}static effectsHandler(){let e=oa.totalEffects.reduce(((e,t)=>+t+e),0);oa.heroShield&&(e=Math.trunc(e/=2),oa.heroShield=!1),"hero"===oa.whoseMove&&oa.resultMoveHandler(e,ea.beastHp),"beast"===oa.whoseMove&&oa.resultMoveHandler(e,ea.heroHp),oa.whoseMove="",oa.totalEffects=[]}static resultMoveHandler(e,t){const a=t,n=a.textContent;if(!n)return;let s=+n-e;s<0&&(s=0),oa.createResultView(e),0===s?(a.textContent=Jt.lib.lowStrengthMessage,ea.FieldStatus=!1,oa.resultHandler(oa.whoseMove)):a.textContent=s.toString()}static createResultView(e){const a=Ut.createElement(t.par,[{name:"class",value:"field-hp-result-view"}]);a.textContent=`-${e}`,setTimeout((()=>{a.remove()}),aa.startTimer),"hero"===oa.whoseMove&&ea.beastView.append(a),"beast"===oa.whoseMove&&ea.heroView.append(a)}static heroMoveAction(e){oa.whoseMove="hero",oa.spells=e,oa.inputStr="",oa.totalSpells=[],window.addEventListener("keypress",oa.heroEventHandler)}static resultHandler(e){const t=ea.beastInstance.lvl,a=Jt.userLvl;let n;if(n="hero"===e?Jt.lib.winnerHero:Jt.lib.winnerBeast,10===t&&"hero"===e){const e=Jt.lib.resultFinalLvl;ea.beastInstance.done=!0,sa.createFieldModal(n,e)}else if(a===t&&"hero"===e){const e=Jt.lib.resultNewLvl;Jt.userLvl+=1,ea.beastInstance.done=!0,sa.createFieldModal(n,e)}else sa.createFieldModal(n);ea.currentMove=!0}static beastMoveAction(){oa.whoseMove="beast",oa.inputStr="","magic"!==ea.actionTotal.textContent&&"магия"!==ea.actionTotal.textContent||window.addEventListener("keypress",oa.beastEventHandler)}static moveHandlerStop(){window.removeEventListener("keypress",oa.beastEventHandler),window.removeEventListener("keypress",oa.heroEventHandler)}}oa.inputStr="",oa.totalSpells=[],oa.totalEffects=[],oa.heroShield=!1,oa.whoseMove="";const ca=oa;class ia{static startModal(e){const{overlay:a,modal:n,modalText:s,button:r}=sa.modalElements("field-tutorial"),l=Ut.createElement(t.par,[{name:"class",value:"field-tutorial-title"}]),o=Ut.createElement(t.par,[{name:"class",value:"field-tutorial-warning"}]),c=Ut.createElement(t.btn,[{name:"class",value:"field-tutorial-button"}]),i=Ut.createElement(t.div,[{name:"class",value:"field-tutorial-buttons"}]);l.textContent=Jt.lib.fieldTutorialModalParagOne,s.textContent=Jt.lib.fieldTutorialModalParagTwo,o.textContent=Jt.lib.fieldTutorialModalParagThree,r.textContent=Jt.lib.fieldTutorialModalParagButtonStart,c.textContent=Jt.lib.fieldTutorialModalParagButtonEsc,ia.tutorialOverlay=a,r.addEventListener("click",(()=>{ia.createHintOne(),n.remove()})),c.addEventListener("click",(()=>{a.remove(),e()})),i.append(r,c),n.append(l,s,o,i),a.append(n),ia.actionFunc=e,Jt.gameWrapper.append(a)}static tutorialHint(e,t,a,n,s,r){const{modal:l,modalText:o,button:c}=sa.modalElements(e);o.textContent=t,c.textContent=s||Jt.lib.fieldTutorialButtonNext,c.addEventListener("click",(()=>{n(),l.remove(),r&&ia.tutorialOverlay.remove()})),l.append(o,c),a.append(l)}static createHintOne(){const e=Jt.lib.fieldTutorialHintOne;ia.tutorialHint("hint-one",e,ea.actionTotal,ia.createHintTwo)}static createHintTwo(){const e=Jt.lib.fieldTutorialHintTwo;ia.tutorialHint("hint-two",e,ea.spellsPanel,ia.createHintThree)}static createHintThree(){const e=Jt.lib.fieldTutorialHintThree;ia.tutorialHint("hint-three",e,ea.heroPanel,ia.createHintFour)}static createHintFour(){const e=Jt.lib.fieldTutorialHintFour;ia.tutorialHint("hint-four",e,ea.beastPanel,ia.createFinalHint)}static createFinalHint(){const e=Jt.lib.fieldTutorialHintFive,t=Jt.lib.fieldTutorialButtonDone;ia.tutorialHint("hint-five",e,ea.actionTotal,ia.actionFunc,t,!0)}}const ua=ia,da={fire:"fire",огонь:"fire",water:"water",вода:"water",wind:"wind",ветер:"wind",light:"light",свет:"light",thunder:"thunder",гром:"thunder",sunfire:"sunfire","огненный вихрь":"sunfire","aqua vortex":"aqua-vortex","водный вихрь":"aqua-vortex","wind vortex":"wind-vortex","воздушный вихрь":"wind-vortex",soundwave:"soundwave","громовая волна":"soundwave","fiery hail":"fiery-hail","огненный град":"fiery-hail","ligth wall":"ligth-wall","стена света":"ligth-wall","thunder blow":"thunder-blow","удар грома":"thunder-blow","rising glow":"rising-glow","восход сияния":"rising-glow","water storm":"water-storm","водяная буря":"water-storm","shining vortex":"shining-vortex","сияющий вихрь":"shining-vortex","furious flow":"furious-flow","яростный поток":"furious-flow",windspout:"windspout","воздушный смерч":"windspout",waterspout:"waterspout","водяной смерч":"waterspout","massive tornado":"massive-tornado","гигантский торнадо":"massive-tornado","lightning blast":"lightning-blast","удар молнии":"lightning-blast","fiery hurricane":"fiery-hurricane","огненный ураган":"fiery-hurricane","furious whirlwind":"furious-whirlwind","яростный ветер":"furious-whirlwind","luminous pillar":"luminous-pillar","световой столп":"luminous-pillar","whirlwind lightning":"whirlwind-lightning","вихревая молния":"whirlwind-lightning","burning onslaught":"burning-onslaught","огненный натиск":"burning-onslaught","elemental magic":"elemental-magic","стихийная магия":"elemental-magic","elemental high magic":"elemental-high-magic","высшая стихийная магия":"elemental-high-magic","elemental great magic":"elemental-great-magic","великая стихийная магия":"elemental-great-magic"},pa={"cave beast":"cave-beast","пещерное чудище":"cave-beast","swamp beast":"swamp-beast","болотное чудище":"swamp-beast","sand beast":"sand-beast","песчанное чудище":"sand-beast","stone beast":"stone-beast","каменное чудище":"stone-beast","forest beast":"forest-beast","лесное чудище":"forest-beast","cloud monster":"cloud-monster","облачный монстр":"cloud-monster","waterfall monster":"waterfall-monster","водопадный монстр":"waterfall-monster","lava monster":"lava-monster","лавовый монстр":"lava-monster","tornado monster":"tornado-monster","ураганный монстр":"tornado-monster"};class ma{static action(){ea.FieldStatus?Jt.firstFieldAppearance?ma.launchTutorial():(ma.viewHeroSpells(),ma.randomBeastActions(),ma.viewBeastActions(),ea.currentMove?ma.heroMove():ma.beastMove()):ma.clearPanels()}static launchTutorial(){ea.actionTotal.textContent=Jt.lib.preparation,ea.timer.textContent=Jt.lib.yourMove,ma.createCurrentSpellAction([Jt.spellsLib[aa.firstLvl].fire],ea.heroPanel),ma.createCurrentSpellAction([Jt.beastMoves.physics,Jt.beastMoves.magic],ea.beastPanel),ma.createCurrentSpellAction([Jt.spellsLib[aa.firstLvl].wind],ea.spellsPanel),Jt.firstFieldAppearance=!1,ua.startModal(ma.action)}static heroMove(){ea.timerCounter=aa.heroTimer;const e=ma.randomSpells();ma.createCurrentSpellAction(e,ea.spellsPanel),ea.actionTotal.textContent=Jt.lib.preparation,ea.timer.textContent=Jt.lib.yourMove,ea.currentMove=!1,setTimeout((()=>{ea.timer.textContent=`${ea.timerCounter}`,ea.actionTotal.textContent="",ma.timerChanger(),ea.spellCapture=!0,ca.heroMoveAction(e)}),aa.startTimer)}static beastMove(){ea.timerCounter=aa.beastTimer,ea.actionTotal.textContent=Jt.lib.preparation,ea.timer.textContent=Jt.lib.beastMove,ea.currentMove=!0,setTimeout((()=>{ea.timer.textContent=`${ea.timerCounter}`,ma.nextBeastActions(),ma.timerChanger(),ca.beastMoveAction()}),aa.startTimer)}static timerChanger(){setTimeout((()=>{ea.timerCounter-=1,ea.timer.textContent=`${ea.timerCounter}`,ea.timerCounter>=0?ma.timerChanger():(ca.effectsHandler(),ea.spellCapture=!1,ca.moveHandlerStop(),ma.action())}),1e3)}static randomSpells(){const e=ea.lvlSpells.length;return Zt.createRandomNums(aa.randomSpellsAmount,e).map((e=>ea.lvlSpells[e]))}static createCurrentSpellAction(e,a){const n=a;n.innerHTML="",e.forEach((e=>{const a=Ut.createElement(t.div,[{name:"class",value:"action-spell-wrapper"}]),s=Ut.createElement(t.div,[{name:"class",value:`action-spell-image ${da[e.name]}`}]),r=Ut.createElement(t.par,[{name:"class",value:"action-spell-name"}]);r.textContent=e.name,a.append(s,r),n.append(a)}))}static viewHeroSpells(){ea.heroSpells=Jt.userSpells,ma.createCurrentSpellAction(ea.heroSpells,ea.heroPanel)}static randomBeastActions(){const e=Jt.beastMoves.physics.name,t=Jt.beastMoves.magic.name;let a=+Jt.beastMoves.physics.damage,n=+Jt.beastMoves.magic.damage;ea.beastInstance.lvl>1&&(a+=5*ea.beastInstance.lvl,n+=5*ea.beastInstance.lvl);const s=[{name:e,damage:`${a}`},{name:t,damage:`${n}`}],r=Zt.createRandomNums(s.length,s.length).map((e=>s[e]));ea.beastTypeAction.push(...r)}static viewBeastActions(){const e=ea.beastTypeAction[aa.firstAction],t=ea.beastTypeAction[aa.secondAction];ma.createCurrentSpellAction([e,t],ea.beastPanel)}static nextBeastActions(){const e=ea.beastTypeAction[aa.firstAction],t=ea.beastTypeAction[aa.secondAction],a=ea.beastTypeAction[aa.thirdAction];ea.beastTypeAction.shift(),ea.actionTotal.textContent=e.name,ca.totalEffects.push(e.damage),ma.createCurrentSpellAction([t,a],ea.beastPanel)}static clearPanels(){ea.timer.textContent="-.-",ea.actionInput.textContent="",ea.actionTotal.textContent=""}}const ga=ma;class va{static createField(){const e=Ut.createElement(t.div,[{name:"class",value:"field-wrapper"}]),a=va.createFieldHeader(),n=va.createFieldMiddle(ea.beastInstance),s=va.createFieldFooter();e.append(a,n,s),Jt.gameWrapper.innerHTML="",Jt.gameWrapper.append(e);const r=Object.values(Jt.spellsLib[ea.beastInstance.lvl]);ea.lvlSpells=r,ea.FieldStatus=!0,ea.beastTypeAction=[],ga.action()}static createFieldHeader(){const e=Ut.createElement(t.div,[{name:"class",value:"field-header"}]);return ea.spellsPanel=Ut.createElement(t.div,[{name:"class",value:"spells-field-panel"}]),e.append(ea.spellsPanel),e}static createFieldMiddle(e){const a=Ut.createElement(t.div,[{name:"class",value:"field-middle"}]),n=Ut.createElement(t.div,[{name:"class",value:"action-field-panel"}]);ea.timer=Ut.createElement(t.div,[{name:"class",value:"field-timer"}]),ea.actionInput=Ut.createElement(t.div,[{name:"class",value:"action-field-input"}]),ea.actionTotal=Ut.createElement(t.div,[{name:"class",value:"action-field-total"}]);const s=va.createCharacterView("hero"),r=va.createCharacterView("beast",e);return n.append(ea.timer,ea.actionInput,ea.actionTotal),a.append(s,n,r),a}static createFieldFooter(){const e=Ut.createElement(t.div,[{name:"class",value:"field-footer"}]);return ea.heroPanel=Ut.createElement(t.div,[{name:"class",value:"hero-field-panel"}]),ea.beastPanel=Ut.createElement(t.div,[{name:"class",value:"beast-field-panel"}]),e.append(ea.heroPanel,ea.beastPanel),e}static createCharacterView(e,a){const n=Ut.createElement(t.div,[{name:"class",value:`${e}-field-wrapper`}]),s=Ut.createElement(t.par,[{name:"class",value:`${e}-field-hp`}]);let r;return r=a?Ut.createElement(t.par,[{name:"class",value:`${e}-field-view ${pa[a.beastType]}`}]):Ut.createElement(t.par,[{name:"class",value:`${e}-field-view`}]),a?(s.textContent=a.hp.toString(),ea.beastHp=s,ea.beastView=n):(s.textContent=(Jt.userHp*Jt.userLvl).toString(),ea.heroHp=s,ea.heroView=n),n.append(s,r),n}}const ha=va,ba=class{constructor(e,t,a,n,s){this.beastType=e,this.lvl=t,this.hp=a,this.renderCallback=n,this.done=s}createBeast(){const e=Ut.createElement(t.div,[{name:"class",value:"beast-wrapper"}]),a=Ut.createElement(t.div,[{name:"class",value:"beast-title"}]),n=Ut.createElement(t.div,[{name:"class",value:"beast"}]);return a.innerHTML=`${this.beastType}<br>${Jt.lib.lvl} ${this.lvl}`,this.done&&(a.innerHTML+=Jt.lib.doneStatus),e.append(a,n),e.addEventListener("click",(()=>{ea.beastInstance=this,ha.createField()})),e}};class fa{static setStatus(){Jt.achievementsCurrentStatus=fa.current}static createWindow(e,a,n){const s=Ut.createElement(t.div,[{name:"class",value:"achievement-modal"}]),r=Ut.createElement(t.div,[{name:"class",value:"achievement-title"}]),l=Ut.createElement(t.div,[{name:"class",value:"achievement-text"}]),o=Ut.createElement(t.img,[{name:"class",value:"achievement-img"},{name:"alt",value:"achievement-image"},{name:"src",value:n}]),c=Ut.createElement(t.div,[{name:"class",value:"achievement-text-wrapper"}]);let i=aa.achievementStyleTop;r.textContent=Jt.lib.achievementTitle,l.textContent=a,c.append(r,l),s.append(o,c);for(let e=0;e<fa.windowsCounter;e+=1)i+=aa.achievementAnotherModal;s.style.top=`${i}rem`,Jt.gameWrapper.append(s),fa.windowsCounter+=1,setTimeout((()=>{s.remove(),fa.windowsCounter-=1}),aa.achievementTimer)}static checker(){fa.current.tenSpells||fa.tenSpellsCheck(),fa.current.lvlUp||fa.lvlUpCheck(),fa.current.halfGame||fa.halfGameCheck(),fa.current.gameDone||fa.gameDoneCheck(),fa.current.thunderSpells||fa.thunderCheck(),fa.current.fireSpells||fa.fireCheck(),fa.current.waterSpells||fa.waterCheck(),fa.current.lightSpells||fa.lightCheck(),fa.current.windSpells||fa.windCheck(),fa.setStatus()}static tenSpellsCheck(){if(Jt.userSpells.length>=10){const e=Jt.lib.achievementTitleTenSpells,t=Jt.lib.achievementTextTenSpells;fa.createWindow(e,t,"./assets/games/typing-adventure/achievement.png"),fa.current.tenSpells=!0}}static lvlUpCheck(){if(2===Jt.userLvl){const e=Jt.lib.achievementTitleLvlUp,t=Jt.lib.achievementTextLvlUp;fa.createWindow(e,t,"./assets/games/typing-adventure/achievement.png"),fa.current.lvlUp=!0}}static halfGameCheck(){if(5===Jt.userLvl){const e=Jt.lib.achievementTitleHalfGame,t=Jt.lib.achievementTextHalfGame;fa.createWindow(e,t,"./assets/games/typing-adventure/achievement.png"),fa.current.halfGame=!0}}static gameDoneCheck(){if(10===Jt.userLvl){const e=Jt.lib.achievementTitleGameDone,t=Jt.lib.achievementTextGameDone;fa.createWindow(e,t,"./assets/games/typing-adventure/achievement.png"),fa.current.gameDone=!0}}static thunderCheck(){if(fa.elementalCheck("thunderSpells")){const e=Jt.lib.achievementTitleThunder,t=Jt.lib.achievementTextThunder;fa.createWindow(e,t,"./assets/games/typing-adventure/achievement.png"),fa.current.thunderSpells=!0}}static fireCheck(){if(fa.elementalCheck("fireSpells")){const e=Jt.lib.achievementTitleFire,t=Jt.lib.achievementTextFire;fa.createWindow(e,t,"./assets/games/typing-adventure/achievement.png"),fa.current.fireSpells=!0}}static waterCheck(){if(fa.elementalCheck("waterSpells")){const e=Jt.lib.achievementTitleWater,t=Jt.lib.achievementTextWater;fa.createWindow(e,t,"./assets/games/typing-adventure/achievement.png"),fa.current.waterSpells=!0}}static lightCheck(){if(fa.elementalCheck("lightSpells")){const e=Jt.lib.achievementTitleLight,t=Jt.lib.achievementTextLight;fa.createWindow(e,t,"./assets/games/typing-adventure/achievement.png"),fa.current.lightSpells=!0}}static windCheck(){if(fa.elementalCheck("windSpells")){const e=Jt.lib.achievementTitleWind,t=Jt.lib.achievementTextWind;fa.createWindow(e,t,"./assets/games/typing-adventure/achievement.png"),fa.current.windSpells=!0}}static elementalCheck(e){return Jt.elementalSpells[e].every((e=>Jt.userSpells.some((t=>t.name===e))))}}fa.current={thunderSpells:!1,fireSpells:!1,waterSpells:!1,lightSpells:!1,windSpells:!1,tenSpells:!1,lvlUp:!1,halfGame:!1,gameDone:!1},fa.achievementsNums={tenSpells:2,lvlUp:1,halfGame:3,gameDone:4,thunderSpells:5,fireSpells:6,waterSpells:7,lightSpells:8,windSpells:9},fa.windowsCounter=0;const ya=fa;class wa{static lvlSpells(e){const t=Object.keys(Jt.spellsLib[e]),a=Jt.userSpells.map((e=>e.name));return t.map((t=>Jt.spellsLib[e][t].name)).map((e=>a.includes(e)?wa.createTextWrapper(e,"info-spell available"):wa.createTextWrapper(e,"info-spell")))}static createInfoModal(){const{overlay:e,modal:t,button:a}=sa.modalElements("game-info"),n=wa.createTextWrapper(Jt.lib.gameInfoTitle,"game-info-title"),s=wa.createTextWrapper(Jt.lib.gameInfoLvl,"info-title"),r=wa.createTextWrapper(Jt.userLvl.toString(),"info-lvl"),l=wa.createTextWrapper(Jt.lib.gameInfoHeroSpells,"info-title");let o=Jt.userSpells.map((e=>wa.createTextWrapper(e.name,"info-user-spell")));o.length||(o=[wa.createTextWrapper(Jt.lib.gameInfoNullSpells,"info-user-spell")]);const c=wa.createTextWrapper(Jt.lib.gameInfoAllSpells,"lvl-spells-title");a.textContent=Jt.lib.gameInfoButton,a.addEventListener("click",(()=>{e.remove()})),t.append(n,s,r,l,...o,c,...wa.gameSpellsView(),a),e.append(t),Jt.gameWrapper.append(e)}static gameSpellsView(){return[wa.createTextWrapper(`${Jt.lib.lvl} 1`,"lvl-spells-title"),...wa.lvlSpells(1),wa.createTextWrapper(`${Jt.lib.lvl} 2`,"lvl-spells-title"),...wa.lvlSpells(2),wa.createTextWrapper(`${Jt.lib.lvl} 3`,"lvl-spells-title"),...wa.lvlSpells(3),wa.createTextWrapper(`${Jt.lib.lvl} 4`,"lvl-spells-title"),...wa.lvlSpells(4),wa.createTextWrapper(`${Jt.lib.lvl} 5`,"lvl-spells-title"),...wa.lvlSpells(5),wa.createTextWrapper(`${Jt.lib.lvl} 6`,"lvl-spells-title"),...wa.lvlSpells(6),wa.createTextWrapper(`${Jt.lib.lvl} 7`,"lvl-spells-title"),...wa.lvlSpells(7),wa.createTextWrapper(`${Jt.lib.lvl} 8`,"lvl-spells-title"),...wa.lvlSpells(8),wa.createTextWrapper(`${Jt.lib.lvl} 9`,"lvl-spells-title"),...wa.lvlSpells(9)]}static createTextWrapper(e,a){const n=Ut.createElement(t.par,[{name:"class",value:a}]);return n.textContent=e,n}}const Ea=wa;class La{static getData(e,t){if(La.userData=e,e.typingAdventure===f.noData)return;if(!e.typingAdventure)return;const a=Ue.getGameData(e.typingAdventure);if(void 0!==a.firstMapRender&&(Jt.firstAppearance=a.firstMapRender),void 0!==a.firstFieldRender&&(Jt.firstFieldAppearance=a.firstFieldRender),a.userLvl&&(Jt.userLvl=a.userLvl),a.achievements&&(Jt.achievementsCurrentStatus=a.achievements),a.gameBeasts&&(Jt.currentGameBeasts=a.gameBeasts.map((e=>new ba(e.beastType,e.lvl,e.hp,t,e.done)))),a.userSpells){const e=a.userSpells;if(Jt.userSpells=[],!Jt.spellsLib)return;e.forEach((e=>{La.engageSpell(e.name)}))}}static engageSpell(e){Object.keys(Jt.spellsLib).forEach((t=>{const a=Jt.spellsLib[+t];Object.keys(a).forEach((t=>{if(a[t].name===e){const e=a[t];Jt.userSpells.push(e)}}))}))}static badgesHandler(){if(!La.userData||!Jt.achievementsCurrentStatus)return;const{badges:e}=La.userData,t=Object.keys(Jt.achievementsCurrentStatus),a=[];if(t.forEach((e=>{Jt.achievementsCurrentStatus[e]&&a.push(ya.achievementsNums[e])})),e!==f.noData||a.length)if(e===f.noData)La.userData.badges=Ye.setBadges(a);else{const t=Ye.getBadges(e),n=Object.values(ya.achievementsNums);let s=[];const r=[];a.forEach((e=>{t.includes(e)||t.push(e)})),n.forEach((e=>{if(t.includes(e)&&!a.includes(e)){const a=t.indexOf(e);r.push(a)}})),s=a.length?t.filter(((e,t)=>!r.includes(t))):t.filter((e=>!n.includes(e))),La.userData.badges=Ye.setBadges(s)}}static uniqueBeastsCounter(){if(!Jt.currentGameBeasts)return 0;const e=Jt.currentGameBeasts,t=[];return e.forEach((e=>{!t.includes(e.beastType)&&e.done&&t.push(e.beastType)})),t.length}static setData(){if(!La.userData)return;const e=La.uniqueBeastsCounter(),t={firstMapRender:Jt.firstAppearance,firstFieldRender:Jt.firstFieldAppearance,userLvl:Jt.userLvl,userSpells:Jt.userSpells,uniqueBeasts:e,gameBeasts:Jt.currentGameBeasts,achievements:Jt.achievementsCurrentStatus},a=Ue.setGameData(t);La.badgesHandler();const n={_id:La.userData._id,__v:La.userData.__v,login:La.userData.login,password:La.userData.password,avatar:La.userData.avatar,testing:La.userData.testing,lessonsEn:La.userData.lessonsEn,lessonsRu:La.userData.lessonsRu,typingAdventure:a,typingHero:La.userData.typingHero,badges:La.userData.badges};Te.updateUser(La.userData._id,n)}}const xa=La;class Ca{static state(){Jt.firstAppearance=!0,Jt.firstFieldAppearance=!0,Jt.userLvl=1,Jt.userHp=100,Jt.userSpells=[],Jt.currentGameBeasts=[]}static resetMethod(e){const{overlay:t,modal:a,modalText:n,button:s}=sa.modalElements("reset-state");n.textContent=Jt.lib.resetModalInfo,s.textContent=Jt.lib.resetButton,s.addEventListener("click",(()=>{Ca.state(),t.remove(),e(),sa.createStartModal(),xa.setData()})),a.append(n,s),t.append(a),Jt.gameWrapper.append(t)}}const Sa=Ca;class Ta{static mapRender(){const e=Ut.createElement(t.div,[{name:"class",value:"game-map"}]),a=Ta.createMapButtons(),n=Ta.mapBeastsRender();return e.append(a,...n),e}static mapBeastsRender(){return class{static createBeasts(e){const t=Jt.userLvl,a=Zt.createRandomNums(t,aa.allBeastsTypes);for(let n=Jt.currentGameBeasts.length;n<t;n+=1){const t=a[n],s=n+1,r=Jt.lib.beastTitle[t],l=Zt.randomBeastHp(s),o=new ba(r,s,l,e,!1);Jt.currentGameBeasts.push(o)}}}.createBeasts(Ta.innerGameMapRender),Jt.currentGameBeasts.map((e=>e.createBeast()))}static innerGameMapRender(){const e=Ta.mapRender();Jt.gameWrapper.innerHTML="",Jt.gameWrapper.append(e),ya.checker(),xa.setData()}static createMapButtons(){const e=Ut.createElement(t.div,[{name:"class",value:"map-buttons-wrapper"}]),a=Ut.createElement(t.btn,[{name:"class",value:"layout-button"}]),n=Ut.createElement(t.btn,[{name:"class",value:"game-info-button"}]),s=Ut.createElement(t.btn,[{name:"class",value:"reset-state-button"}]);return a.textContent=Jt.lib.layoutButton,s.textContent=Jt.lib.resetButton,n.textContent=Jt.lib.gameInfoTitle,a.addEventListener("click",(()=>{Jt.appCallbacks.switchPage(Jt.appCallbacks.page,Jt.appCallbacks.render),Jt.gameWrapper.remove()})),n.addEventListener("click",(()=>{Ea.createInfoModal()})),s.addEventListener("click",(()=>{Sa.resetMethod(Ta.innerGameMapRender)})),e.append(a,n,s),e}}const ka=Ta,Ba=e,Ma=$,Pa=["Q","W","E","R","T","Y","U","I","O","P","A","S","D","F","G","H","J","K","L","Z","X","C","V","B","N","M"],Aa=["Й","Ц","У","К","Е","Н","Г","Ш","Щ","З","Х","Ъ","Ф","Ы","В","А","П","Р","О","Л","Д","Ж","Э","Я","Ч","С","М","И","Т","Ь","Б","Ю"],Ia={startModalTitle:"Welcome to the Typing Hero!",startModalParagOne:"Your task is to catch all the letters that appear on the playing field",startModalParagTwo:"Points are awarded for each letter caught. Throughout the level, you will also be shown your accuracy. If you have passed the level to the end - it is considered passed and falls into your thrift-box!",startModalParagThree:"Catch letters, score points, practice accuracy!",startModalButton:"Let's start!",appButton:"Back",sandboxButton:"Sandbox",resetButton:"Reset Score",resetModalInfo:"Are you sure you want to reset the game progress and start over?",closeModal:"Close",sandboxMenuTitle:"Build your own custom level!",sandboxModalText:"In the sandbox, you can choose the speed of the letters, the number of columns and the duration of the level. Sandbox points count towards the overall score, but, like levels, are overwritten with each replay.",sandboxInputSpeed:"Speed (in seconds): 1 to 10",sandboxInputDuration:"Duration (in seconds): 10 to 150",sandboxInputColumns:"Columns: 3 to 7",sandboxButtonStart:"Start",preparationContent:"Preparation!",level:"Level",levelButton:"Back",levelCompleted:"level completed!",score:"Score:",accuracy:"Accuracy:",currentScore:"Current",currentAccuracy:"Current",bestScore:"Best",bestAccuracy:"Best",total:"Total",totalScore:"Score:",average:"Average",achievementTitle:"New achievement"},Ra={startModalTitle:"Добро пожаловать в игру Typing Hero!",startModalParagOne:"Ваша задача - успеть поймать все буквы, появляющиеся на игровом поле.",startModalParagTwo:"За каждую пойманную букву начисляются очки. На протяжении уровня вам будет также выводиться ваша точность. Если вы прошли уровень до конца - он считается пройденным и падает вам в копилку!",startModalParagThree:"Ловите буквы, набирайте очки, практикуйтесь в точности!",startModalButton:"Вперёд!",appButton:"Назад",sandboxButton:"Песочница",resetButton:"Сбросить Прогресс",resetModalInfo:"Вы действительно хотите сбросить прогресс игры и начать заново?",closeModal:"Закрыть",sandboxMenuTitle:"Настройте уровень по своему!",sandboxModalText:"В песочнице вы можете сами выбрать скорость букв, количество колонок и продолжительность уровня. Очки песочницы идут в общий зачёт, но, как и у уровней, перезаписываются при каждом повторном перепрохождении.",sandboxInputSpeed:"Скорость (в секундах): от 1 до 10",sandboxInputDuration:"Продолжительность (в секундах): от 10 до 150",sandboxInputColumns:"Колонки: от 3 to 7",sandboxButtonStart:"Начать",preparationContent:"Подготовка!",level:"Уровень",levelButton:"Назад",levelCompleted:"уровень пройден!",score:"очки:",accuracy:"точность:",currentScore:"Текущие",currentAccuracy:"Текущая",bestScore:"Лучшие",bestAccuracy:"Лучшая",total:"Всего",totalScore:"очков:",average:"Средняя",achievementTitle:"Новое достижение"};class $a{static engageState(){$a.keys="en"===Ma.currentLang?Pa:Aa,$a.lib="en"===Ma.currentLang?Ia:Ra}}$a.firstAppearance=!0;const Da=$a;class Ha{}Ha.lvlScore=0,Ha.lvlAccuracy=0,Ha.currentFieldKeys=[],Ha.currentPressKeys=[],Ha.matchedKeys=[];const Fa=Ha;var Wa,Ua,Oa,Ga,Na;!function(e){e.typingPart="Typing",e.heroPart="Hero"}(Wa||(Wa={})),function(e){e[e.marginRoad=50]="marginRoad",e[e.keysStep=100]="keysStep",e[e.keyCheck=1]="keyCheck",e[e.keyCounterStep=1]="keyCounterStep",e[e.hundredPercent=100]="hundredPercent",e[e.resultTimeMultiplier=1.5]="resultTimeMultiplier",e[e.completeModal=5e3]="completeModal",e[e.msMultiplier=1e3]="msMultiplier",e[e.maxLvls=10]="maxLvls",e[e.startScore=0]="startScore",e[e.initialValue=0]="initialValue"}(Ua||(Ua={})),function(e){e.score="score",e.accuracy="accuracy",e[e.scorePoint=10]="scorePoint",e[e.basePoints=0]="basePoints",e.basePointsContent="0",e.best="best",e.total="total",e.average="average"}(Oa||(Oa={})),function(e){e[e.hero=10]="hero",e[e.legend=11]="legend",e[e.achievementStyleTop=2]="achievementStyleTop",e[e.achievementAnotherModal=17]="achievementAnotherModal",e[e.achievementTimer=7e3]="achievementTimer"}(Ga||(Ga={})),function(e){e[e.speedMin=1e3]="speedMin",e[e.speedMax=1e4]="speedMax",e[e.durationMin=1e4]="durationMin",e[e.durationMax=15e4]="durationMax",e[e.columnsMin=3]="columnsMin",e[e.columnsMax=7]="columnsMax"}(Na||(Na={}));class ja{static createArrOfPoints(e){const t=Object.keys(ja.levels).filter((t=>0!==ja.levels[t][e])),a=t.length;return{results:t.map((t=>ja.levels[t][e])),completeLvlsCount:a}}static userBestLvlPoints(e){const{results:t}=ja.createArrOfPoints(e);return Math.max(...t)}static userAllScore(){const{results:e}=ja.createArrOfPoints(Oa.score);return e.reduce(((e,t)=>e+t))}static userAverageAccuracy(){const{results:e}=ja.createArrOfPoints(Oa.accuracy),t=e.reduce(((e,t)=>e+t))/e.length;return Math.trunc(t)}static progressChecker(){const e=ja.userBestLvlPoints(Oa.score),t=ja.userBestLvlPoints(Oa.accuracy),{completeLvlsCount:a}=ja.createArrOfPoints(Oa.score),n=ja.userAllScore(),s=ja.userAverageAccuracy();ja.bestLvlScore=e,ja.bestLvlAccuracy=t,ja.lvlsDone=a,ja.totalScore=n,ja.averageAccuracy=s}static getData(e){if(ja.userData=e,e.typingHero===f.noData)return;if(!e.typingHero)return;const t=Ge.getGameData(e.typingHero);void 0!==t.firstAppearance&&(Da.firstAppearance=t.firstAppearance),t.levelsPoints&&(ja.levels=t.levelsPoints),t.levelsDone&&(ja.lvlsDone=t.levelsDone),t.bestScore&&(ja.bestLvlScore=t.bestScore),t.bestAccuracy&&(ja.bestLvlAccuracy=t.bestAccuracy),t.totalScore&&(ja.totalScore=t.totalScore),t.averageAccuracy&&(ja.averageAccuracy=t.averageAccuracy);const{badges:a}=e;if(a===f.noData)return;const n=Ye.getBadges(a),s={hero:!1,legend:!1};n.includes(Ga.hero)&&(s.hero=!0),n.includes(Ga.hero)&&(s.legend=!0),Da.achievementCurrentStatus=s}static badgeHandler(){if(!ja.userData||!Da.achievementCurrentStatus)return;const{badges:e}=ja.userData,t=[];if(Da.achievementCurrentStatus.hero&&t.push(Ga.hero),Da.achievementCurrentStatus.legend&&t.push(Ga.legend),e!==f.noData||t.length)if(e===f.noData)ja.userData.badges=Ye.setBadges(t);else{const a=Ye.getBadges(e),n=[Ga.hero,Ga.legend];let s=[];const r=[];t.forEach((e=>{a.includes(e)||a.push(e)})),n.forEach((e=>{if(a.includes(e)&&!t.includes(e)){const t=a.indexOf(e);r.push(t)}})),s=t.length?a.filter(((e,t)=>!r.includes(t))):a.filter((e=>!n.includes(e))),ja.userData.badges=Ye.setBadges(s)}}static setData(){if(!ja.userData)return;const e={firstAppearance:Da.firstAppearance,levelsPoints:ja.levels,levelsDone:ja.lvlsDone,bestScore:ja.bestLvlScore,bestAccuracy:ja.bestLvlAccuracy,totalScore:ja.totalScore,averageAccuracy:ja.averageAccuracy},t=Ge.setGameData(e);ja.badgeHandler();const a={_id:ja.userData._id,__v:ja.userData.__v,login:ja.userData.login,password:ja.userData.password,avatar:ja.userData.avatar,testing:ja.userData.testing,lessonsEn:ja.userData.lessonsEn,lessonsRu:ja.userData.lessonsRu,typingAdventure:ja.userData.typingAdventure,typingHero:t,badges:ja.userData.badges};Te.updateUser(ja.userData._id,a)}}ja.levels={1:{score:0,accuracy:0},2:{score:0,accuracy:0},3:{score:0,accuracy:0},4:{score:0,accuracy:0},5:{score:0,accuracy:0},6:{score:0,accuracy:0},7:{score:0,accuracy:0},8:{score:0,accuracy:0},9:{score:0,accuracy:0},10:{score:0,accuracy:0},sandbox:{score:0,accuracy:0}},ja.lvlsDone=0,ja.bestLvlScore=Oa.basePointsContent,ja.bestLvlAccuracy=Oa.basePointsContent,ja.totalScore=Oa.basePointsContent,ja.averageAccuracy=Oa.basePointsContent;const Ya=ja;class za{static createScoreAccuracyWrappers(){return{score:za.createCurrentPointsWrapper(Oa.score),accuracy:za.createCurrentPointsWrapper(Oa.accuracy)}}static createUserPointsWrappers(e){return{userScore:za.createUserPoints(e,"score"),userAccuracy:za.createUserPoints(e,"accuracy")}}static createPointsWrapper(e){return{wrapper:Ba.createElement(t.div,[{name:"class",value:`${e}`}]),title:Ba.createElement(t.par,[{name:"class",value:`${e}-title`}]),points:Ba.createElement(t.par,[{name:"class",value:`${e}-points`}])}}static createCurrentPointsWrapper(e){const{wrapper:t,title:a,points:n}=za.createPointsWrapper(`current-${e}`);return e===Oa.score&&(a.textContent=`${Da.lib.currentScore} ${Da.lib.score.slice(0,-1)}`,Fa.scoreWrapper=n),e===Oa.accuracy&&(a.textContent=`${Da.lib.currentAccuracy} ${Da.lib.accuracy.slice(0,-1)}`,Fa.accuracyWrapper=n),n.textContent=Oa.basePointsContent,t.append(a,n),t}static createUserPoints(e,t){const{wrapper:a,title:n,points:s}=za.createPointsWrapper("user-data"),r=Ya.levels[e][t];if(t===Oa.score&&(n.textContent=`${Da.lib.bestScore} ${Da.lib.score.slice(0,-1)}`),t===Oa.accuracy&&(n.textContent=`${Da.lib.bestAccuracy} ${Da.lib.accuracy.slice(0,-1)}`),r===Ua.startScore)s.textContent=Oa.basePointsContent;else if(r>Ua.startScore&&t===Oa.accuracy){const e=r.toString();s.textContent=`${e}%`}else s.textContent=r.toString();return a.append(n,s),a}static scoreHandler(){Fa.lvlScore+=Oa.scorePoint,Fa.scoreWrapper.textContent=Fa.lvlScore.toString()}static accuracyHandler(){const e=Fa.currentPressKeys.length,t=Fa.matchedKeys.length/e*Ua.hundredPercent,a=`${Math.trunc(t)}%`;Fa.lvlAccuracy=t,Fa.accuracyWrapper.textContent=a}static saveResult(e){const t=Fa.lvlScore,a=Fa.lvlAccuracy;Ya.levels[e].score<t&&(Ya.levels[e].score=t),Ya.levels[e].accuracy<a&&(Ya.levels[e].accuracy=Math.trunc(a)),Ya.progressChecker()}static clearPointsAndState(){Fa.lvlScore=Oa.basePoints,Fa.lvlAccuracy=Oa.basePoints,Fa.currentFieldKeys=[],Fa.currentPressKeys=[],Fa.matchedKeys=[],Fa.scoreWrapper.textContent=Oa.basePointsContent,Fa.accuracyWrapper.textContent=Oa.basePointsContent}}const Va=za,Ka={1:{speed:5500,duration:3e4,columns:5},2:{speed:5e3,duration:35e3,columns:5},3:{speed:4500,duration:45e3,columns:5},4:{speed:4e3,duration:45e3,columns:5},5:{speed:4e3,duration:7e4,columns:5},6:{speed:5500,duration:55e3,columns:7},7:{speed:5e3,duration:75e3,columns:7},8:{speed:4500,duration:8e4,columns:7},9:{speed:4e3,duration:1e5,columns:7},10:{speed:4e3,duration:15e4,columns:7}},qa={1:250,2:350,3:500,4:550,5:850,6:700,7:1050,8:1190,9:1750,10:2590};class _a{static lvlStartCompleted(e,a){const n=Ba.createElement(t.div,[{name:"class",value:"lvl-start-completed-modal"}]),s=Ba.createElement(t.par,[{name:"class",value:"lvl-start-completed-modal-content"}]);s.textContent=e,setTimeout((()=>{n.remove()}),a),n.append(s),Fa.lvlWrapper.append(n)}static lvlComplete(){const e=Ba.createElement(t.div,[{name:"class",value:"lvl-complete-modal"}]),a=Ba.createElement(t.par,[{name:"class",value:"lvl-complete-modal-content"}]);a.textContent=Da.lib.levelCompleted,setTimeout((()=>{a.remove()}),Ua.completeModal),e.append(a),Fa.lvlWrapper.append(e)}static preparationModal(e){const a=Ba.createElement(t.div,[{name:"class",value:"lvl-complete-modal"}]),n=Ba.createElement(t.par,[{name:"class",value:"lvl-complete-modal-content"}]);n.textContent=Da.lib.preparation,setTimeout((()=>{n.remove()}),e),a.append(n),Fa.lvlWrapper.append(a)}static startModal(){const e=Ba.createElement(t.div,[{name:"class",value:"hero-start-menu-overlay"}]),a=Ba.createElement(t.div,[{name:"class",value:"hero-start-menu-modal"}]),n=Ba.createElement(t.par,[{name:"class",value:"hero-start-menu-title"}]),s=Ba.createElement(t.par,[{name:"class",value:"hero-start-menu-text"}]),r=Ba.createElement(t.par,[{name:"class",value:"hero-start-menu-text"}]),l=Ba.createElement(t.par,[{name:"class",value:"hero-start-menu-text"}]),o=Ba.createElement(t.img,[{name:"class",value:"hero-start-menu-image"},{name:"alt",value:"buttons-image"},{name:"src",value:"./assets/games/typing-hero/letters-view.svg"}]),c=Ba.createElement(t.img,[{name:"class",value:"hero-start-menu-image"},{name:"alt",value:"completed-image"},{name:"src",value:"./assets/games/typing-hero/lvl-completed.svg"}]),i=Ba.createElement(t.btn,[{name:"class",value:"start-menu-button"}]);n.textContent=Da.lib.startModalTitle,s.textContent=Da.lib.startModalParagOne,r.textContent=Da.lib.startModalParagTwo,l.textContent=Da.lib.startModalParagThree,i.textContent=Da.lib.startModalButton,i.addEventListener("click",(()=>{e.remove()})),a.append(n,s,o,r,c,l,i),e.append(a),Da.firstAppearance=!1,Da.gameWrapper.append(e)}static sandboxModal(e,a){const n=Ba.createElement(t.div,[{name:"class",value:"sandbox-menu-overlay"}]),s=Ba.createElement(t.div,[{name:"class",value:"sandbox-menu-modal"}]),r=Ba.createElement(t.div,[{name:"class",value:"sandbox-modal-content"}]),l=Ba.createElement(t.div,[{name:"class",value:"sandbox-modal-buttons"}]),o=Ba.createElement(t.par,[{name:"class",value:"sandbox-menu-title"}]),c=Ba.createElement(t.btn,[{name:"class",value:"sandbox-close-modal-button"}]),i=Ba.createElement(t.par,[{name:"class",value:"sandbox-menu-title"}]),u=Ba.createElement(t.par,[{name:"class",value:"sandbox-menu-title"}]),d=Ba.createElement(t.par,[{name:"class",value:"sandbox-menu-title"}]);let p,m,g;const v=Ba.createElement(t.input,[{name:"class",value:"sandbox-input"}]),h=Ba.createElement(t.input,[{name:"class",value:"sandbox-input"}]),b=Ba.createElement(t.input,[{name:"class",value:"sandbox-input"}]),f=Ba.createElement(t.btn,[{name:"class",value:"sandbox-start-button"}]);f.disabled=!0,o.textContent=Da.lib.sandboxModalText,i.textContent=Da.lib.sandboxInputSpeed,u.textContent=Da.lib.sandboxInputDuration,d.textContent=Da.lib.sandboxInputColumns,f.textContent=Da.lib.sandboxButtonStart,c.textContent=Da.lib.closeModal,v.addEventListener("input",(()=>{p=+v.value*Ua.msMultiplier,f.disabled=_a.sandboxValidChecker(p,m,g)})),h.addEventListener("input",(()=>{m=+h.value*Ua.msMultiplier,f.disabled=_a.sandboxValidChecker(p,m,g)})),b.addEventListener("input",(()=>{g=+b.value,f.disabled=_a.sandboxValidChecker(p,m,g)})),f.addEventListener("click",(()=>{const t=e("sandbox",g,p,m,a);Da.gameWrapper.innerHTML="",Da.gameWrapper.append(t)})),c.addEventListener("click",(()=>n.remove())),l.append(c,f),r.append(o,i,v,u,h,d,b),s.append(r,l),n.append(s),Da.gameWrapper.append(n)}static sandboxValidChecker(e,t,a){return!(e>=Na.speedMin&&e<=Na.speedMax&&t>=Na.durationMin&&t<=Na.durationMax&&a>=Na.columnsMin&&a<=Na.columnsMax)}}const Ja=_a;class Qa{static createLvlButton(e,a){const n=Ba.createElement(t.btn,[{name:"class",value:"lvl-section-button"}]),s=Ba.createElement(t.par,[{name:"class",value:"lvl-section-title"}]),r=Ya.levels[e].score;if(s.textContent=`${Da.lib.level} ${e}`,n.addEventListener("click",(()=>{Da.gameWrapper.innerHTML="",Da.gameWrapper.append(Qa.createLvl(e,Ka[e].columns,Ka[e].speed,Ka[e].duration,a))})),r===Ua.startScore)n.classList.add("basic"),n.append(s);else{const t=Qa.createButtonContent(e,n);n.append(s,t)}return n}static createButtonContent(e,a){const n=Ba.createElement(t.div,[{name:"class",value:"lvl-button-content"}]),s=Ya.levels[e].score,r=Ya.levels[e].accuracy,l=Ba.createElement(t.par,[{name:"class",value:"lvl-button-score-title"}]),o=Ba.createElement(t.par,[{name:"class",value:"lvl-button-accuracy-title"}]),c=Ba.createElement(t.par,[{name:"class",value:"lvl-button-score"}]),i=Ba.createElement(t.par,[{name:"class",value:"lvl-button-accuracy"}]),u=Ba.createElement(t.div,[{name:"class",value:"lvl-button-score-wrapper"}]),d=Ba.createElement(t.div,[{name:"class",value:"lvl-button-accuracy-wrapper"}]);return l.textContent=`${Da.lib.score.slice(0,-1)}`,o.textContent=`${Da.lib.accuracy.slice(0,-1)}`,c.textContent=`${s}/${qa[e]}`,i.textContent=`${r}%`,a.classList.add("completed"),u.append(l,c),d.append(o,i),n.append(u,d),n}static createLvl(e,a,n,s,r){const l=Ba.createElement(t.div,[{name:"class",value:"lvl-wrapper"}]),o=Ba.createElement(t.div,[{name:"class",value:"lvl-field"}]),c=Ba.createElement(t.div,[{name:"class",value:"current-points-wrapper"}]),i=Ba.createElement(t.div,[{name:"class",value:"user-points-wrapper"}]),u=Ba.createElement(t.div,[{name:"class",value:"field-points-wrapper"}]),{score:d,accuracy:p}=Va.createScoreAccuracyWrappers(),{userScore:m,userAccuracy:g}=Va.createUserPointsWrappers(e),v=Ba.createElement(t.btn,[{name:"class",value:"field-menu-button"}]),h=Ba.createElement(t.div,[{name:"class",value:"field-menu-button-wrapper"}]),b=n*Ua.resultTimeMultiplier,f=[];v.textContent=Da.lib.levelButton;for(let e=0;e<a;e+=1){const e=Ba.createElement(t.div,[{name:"class",value:"lvl-field-column"}]);f.push(e)}Fa.lvlColumns=f;const y=setInterval((()=>{Qa.createKeys(n,Fa.lvlColumns)}),n);window.addEventListener("keypress",Qa.keyChecker);const w=setTimeout((()=>{clearInterval(y),setTimeout((()=>{Va.saveResult(e),Ja.lvlStartCompleted(Da.lib.levelCompleted,Ua.completeModal)}),b)}),s);return v.addEventListener("click",(()=>{clearInterval(y),clearTimeout(w),window.removeEventListener("keypress",Qa.keyChecker),r(),Va.clearPointsAndState()})),o.append(...f),h.append(v),c.append(d,p),i.append(m,g),u.append(i,c),l.append(h,u,o),Fa.lvlWrapper=l,Ja.lvlStartCompleted(Da.lib.preparationContent,n),l}static createKeys(e,a){a.forEach((a=>{setTimeout((()=>{const n=Ba.createElement(t.btn,[{name:"class",value:"column-key"}]),s=Qa.getKeyValue(),r=e+500;n.textContent=s,n.classList.add(s),Fa.currentFieldKeys.push(n),setTimeout((()=>{n.style.transition=`margin ${e}ms linear, background-color 500ms`,n.style.margin=`${Ua.marginRoad}rem auto`}),Ua.keysStep),n.addEventListener("transitionend",(()=>n.remove())),setTimeout((()=>{Fa.currentFieldKeys=Fa.currentFieldKeys.map((e=>e===n?null:e)),n.remove()}),r),a.append(n)}),Qa.randomValue(e))}))}static randomValue(e){const t=Math.random()*e;return Math.trunc(t)}static getKeyValue(){const e=Da.keys.length,t=Qa.randomValue(e);return Da.keys[t]}static keyChecker(e){const t=e.key,a=e.key.toUpperCase();let n=Ua.keyCounterStep;Fa.currentPressKeys.push(t),Fa.currentFieldKeys.forEach(((e,s)=>{null!==e&&(e.classList.contains(t)||e.classList.contains(a))&&n===Ua.keyCounterStep&&(e.classList.add("select"),Fa.matchedKeys.push(t),Va.scoreHandler(),Fa.currentFieldKeys.splice(s,Ua.keyCounterStep),n+=Ua.keyCounterStep)})),Va.accuracyHandler()}}const Za=Qa;class Xa{static createModal(e,a,n){const s=Ba.createElement(t.div,[{name:"class",value:"achievement-modal"}]),r=Ba.createElement(t.div,[{name:"class",value:"achievement-title"}]),l=Ba.createElement(t.div,[{name:"class",value:"achievement-text"}]),o=Ba.createElement(t.div,[{name:"class",value:"achievement-text"}]),c=Ba.createElement(t.img,[{name:"class",value:"achievement-img"},{name:"alt",value:"achievement-image"},{name:"src",value:n}]),i=Ba.createElement(t.div,[{name:"class",value:"achievement-content-wrapper"}]),u=Ba.createElement(t.div,[{name:"class",value:"achievement-text-wrapper"}]);let d=Ga.achievementStyleTop;r.textContent=Da.lib.achievementTitle,l.textContent=e,o.textContent=a,u.append(l,o),i.append(c,u),s.append(r,i);for(let e=0;e<Xa.windowsCounter;e+=1)d+=Ga.achievementAnotherModal;s.style.top=`${d}rem`,Da.gameWrapper.append(s),Xa.windowsCounter+=1,setTimeout((()=>{s.remove(),Xa.windowsCounter-=1}),Ga.achievementTimer)}static achievementChecker(){Xa.current.hero||Xa.achievementHero(),Xa.current.legend||Xa.achievementLegend(),Xa.achievementSetStatus()}static achievementSetStatus(){Da.achievementCurrentStatus=Xa.current}static achievementHero(){10===Ya.lvlsDone&&(Xa.createModal(Ke[Ga.hero][Ma.currentLang].title,Ke[Ga.hero][Ma.currentLang].text,"./assets/images/badges/badge-10.svg"),Xa.current.hero=!0)}static achievementLegend(){const e=Object.keys(Ya.levels).map((e=>Ya.levels[e].score));let t=!0;e.forEach(((e,a)=>{e!==qa[a]&&(t=!1)})),t&&(Xa.createModal(Ke[Ga.legend][Ma.currentLang].title,Ke[Ga.legend][Ma.currentLang].text,"./assets/images/badges/badge-11.svg"),Xa.current.legend=!0)}}Xa.windowsCounter=0,Xa.current={hero:!1,legend:!1};const en=Xa;class tn{static state(){Da.firstAppearance=!0,Ya.lvlsDone=Ua.initialValue,Ya.bestLvlScore=Oa.basePointsContent,Ya.bestLvlAccuracy=Oa.basePointsContent,Ya.totalScore=Oa.basePointsContent,Ya.averageAccuracy=Oa.basePointsContent}static resetLvlsPoints(){Object.keys(Ya.levels).forEach((e=>{Ya.levels[e].score=Ua.initialValue,Ya.levels[e].accuracy=Ua.initialValue}))}static resetMethod(e){const a=Ba.createElement(t.div,[{name:"class",value:"hero-reset-overlay"}]),n=Ba.createElement(t.div,[{name:"class",value:"hero-reset-modal"}]),s=Ba.createElement(t.div,[{name:"class",value:"hero-reset-content"}]),r=Ba.createElement(t.div,[{name:"class",value:"hero-reset-buttons"}]),l=Ba.createElement(t.btn,[{name:"class",value:"hero-reset-button"}]),o=Ba.createElement(t.btn,[{name:"class",value:"hero-reset-close-button"}]);s.textContent=Da.lib.resetModalInfo,l.textContent=Da.lib.resetButton,o.textContent=Da.lib.closeModal,l.addEventListener("click",(()=>{tn.state(),tn.resetLvlsPoints(),a.remove(),e(),Ja.startModal(),Ya.setData()})),o.addEventListener("click",(()=>{a.remove()})),r.append(l,o),n.append(s,r),a.append(n),Da.gameWrapper.append(a)}}const an=tn;class nn{static createMenu(){const e=Ba.createElement(t.div,[{name:"class",value:"hero-menu-wrapper"}]),a=Ba.createElement(t.div,[{name:"class",value:"hero-menu-header"}]),n=Ba.createElement(t.div,[{name:"class",value:"hero-menu-title-wrapper"}]),s=Ba.createElement(t.par,[{name:"class",value:"hero-menu-typing-title"}]),r=Ba.createElement(t.par,[{name:"class",value:"hero-menu-hero-title"}]),l=Ba.createElement(t.div,[{name:"class",value:"hero-menu-points-wrapper"}]),o=Ba.createElement(t.div,[{name:"class",value:"hero-menu-best-points-wrapper"}]),c=Ba.createElement(t.div,[{name:"class",value:"hero-menu-overall-points-wrapper"}]),i=Ba.createElement(t.section,[{name:"class",value:"hero-menu-sandbox-wrapper"}]),u=Ba.createElement(t.div,[{name:"class",value:"hero-menu-lvls-wrapper"}]),d=nn.createMenuPointsView(Oa.best,Oa.score),p=nn.createMenuPointsView(Oa.best,Oa.accuracy),m=nn.createMenuPointsView(Oa.total,Oa.score),g=nn.createMenuPointsView(Oa.average,Oa.accuracy),v=nn.createMenuButton(),h=Ba.createElement(t.h4,[{name:"class",value:"hero-menu-sandbox-title"}]),b=nn.sandboxButton(),f=nn.resetButton(),y=["1","2","3","4","5","6","7","8","9","10"].map((e=>Za.createLvlButton(e,nn.updateMenu)));return s.textContent=Wa.typingPart,r.textContent=Wa.heroPart,h.textContent=Da.lib.sandboxMenuTitle,n.append(s,r),a.append(v,n,f),o.append(d,p),c.append(m,g),l.append(o,c),u.append(...y),i.append(h,b),e.append(a,l,u,i),e}static createMenuButton(){const e=Ba.createElement(t.btn,[{name:"class",value:"hero-menu-app-button"}]);return e.textContent=Da.lib.appButton,e.addEventListener("click",(()=>{Da.appCallbacks.switchPage(Da.appCallbacks.page,Da.appCallbacks.render),Da.gameWrapper.remove()})),e}static createMenuPointsView(e,t){const{wrapper:a,title:n,points:s}=Va.createPointsWrapper(`${e}-${t}`);return e===Oa.best&&t===Oa.score&&(n.textContent=`${Da.lib.bestScore} ${Da.lib.score}`),e===Oa.best&&t===Oa.accuracy&&(n.textContent=`${Da.lib.bestAccuracy} ${Da.lib.accuracy}`),e===Oa.total&&t===Oa.score&&(n.textContent=`${Da.lib.total} ${Da.lib.totalScore}`),e===Oa.average&&t===Oa.accuracy&&(n.textContent=`${Da.lib.average} ${Da.lib.accuracy}`),t===Oa.score&&(Da.bestScore=s,s.textContent=Ya.bestLvlScore.toString()),t===Oa.accuracy&&(Da.bestAccuracy=s,Ya.bestLvlAccuracy===Oa.basePointsContent?s.textContent=Ya.bestLvlAccuracy:s.textContent=`${Ya.bestLvlAccuracy.toString()}%`),e===Oa.total&&t===Oa.score&&(Da.totalScore=s,s.textContent=Ya.totalScore.toString()),e===Oa.average&&t===Oa.accuracy&&(Da.totalScore=s,Ya.averageAccuracy===Oa.basePointsContent?s.textContent=Ya.averageAccuracy:s.textContent=`${Ya.averageAccuracy}%`),a.append(n,s),a}static updateMenu(){const e=nn.createMenu();Da.gameWrapper.innerHTML="",Da.gameWrapper.append(e),en.achievementChecker(),Ya.setData()}static sandboxButton(){const e=Ba.createElement(t.btn,[{name:"class",value:"hero-menu-sandbox-button"}]);return e.textContent=Da.lib.sandboxButton,e.addEventListener("click",(()=>{Ja.sandboxModal(Za.createLvl,nn.updateMenu)})),e}static resetButton(){const e=Ba.createElement(t.btn,[{name:"class",value:"hero-menu-reset-button"}]);return e.textContent=Da.lib.resetButton,e.addEventListener("click",(()=>{an.resetMethod(nn.updateMenu)})),e}}const sn=nn,rn=class{},ln=class{static create(a){const n=e.createElement(t.btn,[{name:"class",value:a}]);return a===$.currentLessonFontSize&&(n.classList.add("active-font-size-option"),rn.fontSize=n),n.addEventListener("click",(()=>{rn.fontSize&&rn.fontSize.classList.remove("active-font-size-option"),rn.fontSize=n,n.classList.add("active-font-size-option"),Et.contentWrapper.classList.remove(`lesson-${$.currentLessonFontSize}`),Et.contentWrapper.classList.add(`lesson-${a}`),$.currentLessonFontSize=a,"hidden"!==Et.contentWrapper.style.visibility&&Ht.check(),H.saveState()})),n}},on=class{static create(a){const n=e.createElement(t.btn,[{name:"class",value:a}]);return a===$.currentLessonFontFamily&&(n.classList.add("active-font-family-option"),rn.fontFamily=n),n.addEventListener("click",(()=>{rn.fontFamily&&rn.fontFamily.classList.remove("active-font-family-option"),rn.fontFamily=n,n.classList.add("active-font-family-option"),Et.contentWrapper.classList.remove(`lesson-${$.currentLessonFontFamily}`),Et.contentWrapper.classList.add(`lesson-${a}`),$.currentLessonFontFamily=a,H.saveState()})),n}};class cn{static fillOptionPanel(a,n){const s=a,r=e.createElement(t.div,[{name:"class",value:"options-font"}]),l=e.createElement(t.div,[{name:"class",value:"options-font-size"}]),o=e.createElement(t.div,[{name:"class",value:"options-font-family"}]),c=ln.create(x.normal),i=ln.create(x.small),u=ln.create(x.big),d=on.create(C.default),p=on.create(C.serif);c.textContent="Aa",i.textContent="Aa",u.textContent="Aa",d.textContent="Font Sans Serif",p.textContent="Font Serif",o.append(d,p),l.append(i,c,u),r.append(l,o),s.classList.remove("hidden"),s.textContent="",s.append(r),n.classList.remove("hidden")}static createLessonFontBtn(a,n){const s=e.createElement(t.btn,[{name:"class",value:"lesson-font-btn"}]);return s.addEventListener("click",(()=>{if(s.classList.contains("active-option"))return s.classList.remove("active-option"),n.classList.add("hidden"),void a.classList.add("hidden");cn.fillOptionPanel(a,n),rn.option&&rn.option.classList.remove("active-option"),rn.option=s,rn.option.classList.add("active-option")})),s}}const un=cn,dn=class{static create(a){const n=e.createElement(t.btn,[{name:"class",value:a}]);return a===$.currentLessonSound&&(n.classList.add("active-sound-option"),rn.sound=n),n.addEventListener("click",(()=>{rn.sound&&rn.sound.classList.remove("active-sound-option"),rn.sound=n,n.classList.add("active-sound-option"),$.currentLessonSound=a,H.saveState()})),n}};class pn{static fillOptionPanel(a,n){const s=a,r=e.createElement(t.div,[{name:"class",value:"options-sound"}]),l=dn.create(T.silent),o=dn.create(T.soft),c=dn.create(T.hard),i=dn.create(T.mech);l.textContent=N.lessonSoundSilent[$.currentLang],o.textContent=N.lessonSoundSoft[$.currentLang],c.textContent=N.lessonSoundHard[$.currentLang],i.textContent=N.lessonSoundMech[$.currentLang],r.append(l,o,c,i),s.textContent="",s.classList.remove("hidden"),s.append(r),n.classList.remove("hidden")}static createLessonSoundBtn(a,n){const s=e.createElement(t.btn,[{name:"class",value:"lesson-sound-btn"}]);return s.addEventListener("click",(()=>{if(s.classList.contains("active-option"))return s.classList.remove("active-option"),n.classList.add("hidden"),void a.classList.add("hidden");pn.fillOptionPanel(a,n),rn.option&&rn.option.classList.remove("active-option"),rn.option=s,rn.option.classList.add("active-option")})),s}}const mn=pn,gn=class{static createBgOption(a){const n=e.createElement(t.btn,[{name:"class",value:a}]);return a===$.currentLessonBg&&(n.classList.add("active-bg-option"),rn.bg=n),n.addEventListener("click",(()=>{rn.bg&&rn.bg.classList.remove("active-bg-option"),rn.bg=n,n.classList.add("active-bg-option"),Et.page.classList.remove(`lesson-${$.currentLessonBg}`),Et.page.classList.add(`lesson-${a}`),$.currentLessonBg=a,H.saveState()})),n}};class vn{static fillOptionPanel(a,n){const s=a,r=e.createElement(t.div,[{name:"class",value:"options-bg"}]),l=gn.createBgOption(L.default),o=gn.createBgOption(L.one),c=gn.createBgOption(L.two);r.append(l,o,c),s.classList.remove("hidden"),s.textContent="",s.append(r),n.classList.remove("hidden")}static createLessonBgBtn(a,n){const s=e.createElement(t.btn,[{name:"class",value:"lesson-bg-btn"}]);return s.addEventListener("click",(()=>{if(s.classList.contains("active-option"))return s.classList.remove("active-option"),n.classList.add("hidden"),void a.classList.add("hidden");vn.fillOptionPanel(a,n),rn.option&&rn.option.classList.remove("active-option"),rn.option=s,rn.option.classList.add("active-option")})),s}}const hn=vn,bn=class{static createSkinOption(a){const n=e.createElement(t.btn,[{name:"class",value:a}]);return a===$.currentLessonSkin&&(n.classList.add("active-skin-option"),rn.skin=n),n.addEventListener("click",(()=>{rn.skin&&rn.skin.classList.remove("active-skin-option"),rn.skin=n,n.classList.add("active-skin-option"),Et.keyboard.classList.remove(`lesson-${$.currentLessonSkin}`),Et.keyboard.classList.add(`lesson-${a}`),$.currentLessonSkin=a,H.saveState()})),n}};class fn{static fillOptionPanel(a,n){const s=a,r=e.createElement(t.div,[{name:"class",value:"options-skin"}]),l=bn.createSkinOption(k.default),o=bn.createSkinOption(k.one),c=bn.createSkinOption(k.two),i=bn.createSkinOption(k.three);r.append(l,o,c,i),s.classList.remove("hidden"),s.textContent="",s.append(r),n.classList.remove("hidden")}static createLessonSkinBtn(a,n){const s=e.createElement(t.btn,[{name:"class",value:"lesson-skin-btn"}]);return s.addEventListener("click",(()=>{if(s.classList.contains("active-option"))return s.classList.remove("active-option"),n.classList.add("hidden"),void a.classList.add("hidden");fn.fillOptionPanel(a,n),rn.option&&rn.option.classList.remove("active-option"),rn.option=s,rn.option.classList.add("active-option")})),s}}const yn=fn,wn=[[{type:"Symbol",downEng:"`",upEng:"~",downRu:"ё"},{type:"Symbol",downEng:"1",upEng:"!",downRu:"1",upRu:"!"},{type:"Symbol",downEng:"2",upEng:"@",downRu:"2",upRu:'"'},{type:"Symbol",downEng:"3",upEng:"#",downRu:"3",upRu:"№"},{type:"Symbol",downEng:"4",upEng:"$",downRu:"4",upRu:";"},{type:"Symbol",downEng:"5",upEng:"%",downRu:"5",upRu:"%"},{type:"Symbol",downEng:"6",upEng:"^",downRu:"6",upRu:":"},{type:"Symbol",downEng:"7",upEng:"&",upRu:"?",downRu:"7"},{type:"Symbol",downEng:"8",upEng:"*",downRu:"8",upRu:"*"},{type:"Symbol",downEng:"9",upEng:"(",downRu:"9",upRu:"("},{type:"Symbol",downEng:"0",upEng:")",downRu:"0",upRu:")"},{type:"Symbol",downEng:"-",upEng:"_",downRu:"-",upRu:"_"},{type:"Symbol",downEng:"=",upEng:"+",downRu:"=",upRu:"+"},{type:"Function",down:"Backspace",specialSize:1}],[{type:"Function",down:"Tab",specialSize:1},{type:"Symbol",downEng:"q",downRu:"й",letter:!0},{type:"Symbol",downEng:"w",downRu:"ц",letter:!0},{type:"Symbol",downEng:"e",downRu:"у",letter:!0},{type:"Symbol",downEng:"r",downRu:"к",letter:!0},{type:"Symbol",downEng:"t",downRu:"е",letter:!0},{type:"Symbol",downEng:"y",downRu:"н",letter:!0},{type:"Symbol",downEng:"u",downRu:"г",letter:!0},{type:"Symbol",downEng:"i",downRu:"ш",letter:!0},{type:"Symbol",downEng:"o",downRu:"щ",letter:!0},{type:"Symbol",downEng:"p",downRu:"з",letter:!0},{type:"Symbol",upEng:"{",downEng:"[",downRu:"х"},{type:"Symbol",downEng:"]",downRu:"ъ",upEng:"}"},{type:"Symbol",downEng:"\\",downRu:"\\",upEng:"|",upRu:"/"}],[{type:"Function",down:"CapsLock",specialSize:2},{type:"Symbol",downEng:"a",downRu:"ф",letter:!0},{type:"Symbol",downEng:"s",downRu:"ы",letter:!0},{type:"Symbol",downEng:"d",downRu:"в",letter:!0},{type:"Symbol",downEng:"f",downRu:"а",letter:!0},{type:"Symbol",downEng:"g",downRu:"п",letter:!0},{type:"Symbol",downEng:"h",downRu:"р",letter:!0},{type:"Symbol",downEng:"j",downRu:"о",letter:!0},{type:"Symbol",downEng:"k",downRu:"л",letter:!0},{type:"Symbol",downEng:"l",downRu:"д",letter:!0},{type:"Symbol",downEng:";",downRu:"ж",upEng:":"},{type:"Symbol",upEng:"'",downEng:"'",downRu:"э"},{type:"Function",down:"Enter",specialSize:1}],[{type:"Function",down:"Shift",specialSize:3},{type:"Symbol",downEng:"z",downRu:"я",letter:!0},{type:"Symbol",downEng:"x",downRu:"ч",letter:!0},{type:"Symbol",downEng:"c",downRu:"с",letter:!0},{type:"Symbol",downEng:"v",downRu:"м",letter:!0},{type:"Symbol",downEng:"b",downRu:"и",letter:!0},{type:"Symbol",downEng:"n",downRu:"т",letter:!0},{type:"Symbol",downEng:"m",downRu:"ь",letter:!0},{code:"Comma",type:"Symbol",downEng:",",downRu:"б",upEng:"<"},{code:"Period",type:"Symbol",downEng:".",downRu:"ю",upEng:">"},{type:"Symbol",downEng:"/",downRu:".",upEng:"?",upRu:","},{type:"Function",down:"Shift",specialSize:2}],[{type:"Function",down:"Ctrl",specialSize:2},{type:"Function",down:"Alt",specialSize:2},{type:"Function",down:"",specialSize:4},{type:"Function",down:"Alt",specialSize:2},{type:"Function",down:"Ctrl",specialSize:3}]];class En{static createKey(a,n){const s=e.createElement(t.span);s.textContent=n,a.append(s)}static createLessonKeyboard(){const a=e.createElement(t.div,[{name:"class",value:`lesson-keyboard lesson-${$.currentLessonSkin}`}]);return wn.forEach((n=>{const s=e.createElement(t.div,[{name:"class",value:"keyboard-row"}]);n.forEach((a=>{const n=e.createElement(t.div,[{name:"class",value:"keyboard-key"}]);if("Function"===a.type&&(n.classList.add("key-function"),n.textContent=`${a.down}`),a.specialSize)switch(a.specialSize){case 1:n.classList.add("key-size-one-half");break;case 2:n.classList.add("key-size-double");break;case 3:n.classList.add("key-size-two-half"),"Shift"===a.down&&(En.shift=n);break;default:n.classList.add("key-size-space"),En.space=n}"Symbol"===a.type&&($.currentLayout===i.en?(a.upEng&&(En.createKey(n,a.upEng),En.virtualKeys[a.upEng]=n),a.downEng&&(En.createKey(n,a.downEng),En.virtualKeys[a.downEng]=n),a.upEng&&a.downEng&&n.classList.add("key-two-symbols")):(a.upRu&&(En.createKey(n,a.upRu),En.virtualKeys[a.upRu]=n),a.downRu&&(En.createKey(n,a.downRu),En.virtualKeys[a.downRu]=n),a.upRu&&a.downRu&&n.classList.add("key-two-symbols"))),a.letter&&n.classList.add("key-letter"),s.append(n)})),a.append(s)})),a}}En.virtualKeys={};const Ln=En;class xn{static create(a,n){const s=e.createElement(t.div,[{name:"class",value:"lesson-badge"}]),r=e.createElement(t.img,[{name:"src",value:`./assets/images/badges/badge-${a}.svg`},{name:"alt",value:"Badge Image"},{name:"height",value:"80px"},{name:"width",value:"80px"}]),l=e.createElement(t.div,[{name:"class",value:"lesson-badge-text"}]),o=e.createElement(t.par,[{name:"class",value:"lesson-badge-title"}]),c=e.createElement(t.par,[{name:"class",value:"lesson-badge-content"}]);return o.textContent=N.lessonBadgeTitle[$.currentLang],c.textContent=n,l.append(o,c),s.append(r,l),s}static checkCompletedBadges(e,t){const a=Lt.getAllLessons(Et.user),n=Object.values(a).filter((e=>0===e.lastScore)).length;return Object.keys(a).length!==Et.lessonsNumber||n||($.currentLayout===i.en?e.includes(E.twelve)||(t.append(xn.create(E.twelve,N.lessonBadgeCompletedAllLessons[$.currentLang])),e.push(E.twelve),e.includes(E.thirteen)&&(t.append(xn.create(E.twenty,N.lessonBadgeEyesUp[$.currentLang])),e.push(E.twenty))):e.includes(E.thirteen)||(t.append(xn.create(E.thirteen,N.lessonBadgeCompletedAllLessons[$.currentLang])),e.push(E.thirteen),e.includes(E.twelve)&&(t.append(xn.create(E.twenty,N.lessonBadgeEyesUp[$.currentLang])),e.push(E.twenty)))),e}static checkSpeedBadges(e,t){return Et.accuracy>=90&&Et.speed>=20&&($.currentLayout===i.en?e.includes(E.fourteen)||(t.append(xn.create(E.fourteen,N.lessonBadgeSpeed20[$.currentLang])),e.push(E.fourteen)):e.includes(E.fifteen)||e.includes(E.fifteen)||(t.append(xn.create(E.fifteen,N.lessonBadgeSpeed20[$.currentLang])),e.push(E.fifteen)),Et.speed>=60&&($.currentLayout===i.en?e.includes(E.sixteen)||(t.append(xn.create(E.sixteen,N.lessonBadgeSpeed60[$.currentLang])),e.push(E.sixteen)):e.includes(E.seventeen)||e.includes(E.seventeen)||(t.append(xn.create(E.seventeen,N.lessonBadgeSpeed60[$.currentLang])),e.push(E.seventeen))),Et.speed>=100&&($.currentLayout===i.en?e.includes(E.eighteen)||(t.append(xn.create(E.eighteen,N.lessonBadgeSpeed100[$.currentLang])),e.push(E.eighteen)):e.includes(E.nineteen)||e.includes(E.nineteen)||(t.append(xn.create(E.nineteen,N.lessonBadgeSpeed100[$.currentLang])),e.push(E.nineteen)))),e}static checkBadges(){let a=[];const n=e.createElement(t.div,[{name:"class",value:"lesson-badges-wrapper"}]);return Et.user.badges!==f.noData&&(a=Ye.getBadges(Et.user.badges)),a=xn.checkCompletedBadges(a,n),a=xn.checkSpeedBadges(a,n),Et.user.badges=Ye.setBadges(a),n}}const Cn=xn;class Sn{static getScore(){let e;const t=Math.floor((Et.accuracy-Et.lessonData.minAccuracy)/((100-Et.lessonData.minAccuracy)/5)),a=Math.floor(Et.speed/Et.lessonData.starSpeed);return e=t+a>5?5:t+a,(Et.accuracy<Et.lessonData.minAccuracy||Et.speed<Et.lessonData.minSpeed)&&(e=0),e}static saveResult(){const e={lastSpeed:Et.speed,lastAccuracy:Et.accuracy,lastScore:Sn.getScore()},t=Lt.getAllLessons(Et.user);t[Et.lessonData.index]=e;const a=Ne.setLessons(t);$.currentLayout===i.en?Et.user.lessonsEn=a:Et.user.lessonsRu=a,Et.page.append(Cn.checkBadges());const n=new ke(Et.user.login,Et.user.password,Et.user.avatar,Et.user.testing,Et.user.lessonsEn,Et.user.lessonsRu,Et.user.typingAdventure,Et.user.typingHero,Et.user.badges);Te.updateUser(Et.user._id,n)}static createAccuracyReq(){const a=e.createElement(t.span,[{name:"class",value:"lesson-result-accuracy-wrapper"}]),n=e.createElement(t.span,[{name:"class",value:"lesson-result-accuracy"}]),s=e.createElement(t.span,[{name:"class",value:"lesson-result-accuracy-num"}]);return n.textContent=N.lessonResultsReqAccuracy[$.currentLang],s.textContent=`${Et.lessonData.minAccuracy}%`,a.append(n,s),a}static createSpeedReq(){const a=e.createElement(t.span,[{name:"class",value:"lesson-result-speed-wrapper"}]),n=e.createElement(t.span,[{name:"class",value:"lesson-result-speed"}]),s=e.createElement(t.span,[{name:"class",value:"lesson-result-speed-num"}]);return n.textContent=N.lessonResultsReqSpeed[$.currentLang],s.textContent=`${Et.lessonData.minSpeed}${N.testWpmSub[$.currentLang]}`,a.append(n,s),a}static createSpeedStarReq(){const a=e.createElement(t.span,[{name:"class",value:"lesson-result-speed-star-wrapper"}]),n=e.createElement(t.span,[{name:"class",value:"lesson-result-speed-star"}]),s=e.createElement(t.span,[{name:"class",value:"lesson-result-speed-star-num"}]);return n.textContent=N.lessonResultsReqSpeedStar[$.currentLang],s.textContent=`${Et.lessonData.starSpeed}${N.testWpmSub[$.currentLang]}`,a.append(n,s),a}static createLessonResult(){const a=e.createElement(t.div,[{name:"class",value:"lesson-result"}]),n=e.createElement(t.h5,[{name:"class",value:"lesson-result-title"}]),s=e.createElement(t.span,[{name:"class",value:"lesson-result-score-text"}]),r=e.createElement(t.div,[{name:"class",value:"lesson-score"}]),l=e.createElement(t.div,[{name:"class",value:"lesson-score-wrapper"}]),o=Sn.getScore(),c=e.createElement(t.h5,[{name:"class",value:"lesson-result-req"}]),i=Sn.createAccuracyReq(),u=Sn.createSpeedReq(),d=Sn.createSpeedStarReq();if(5-o)for(let a=0;a<5-o;a+=1){const a=e.createElement(t.div,[{name:"class",value:"lesson-btn-star-empty"}]);r.append(a)}for(let a=0;a<o;a+=1){const a=e.createElement(t.div,[{name:"class",value:"lesson-btn-star"}]);r.append(a)}switch(o){case 1:n.textContent=N.lessonResults1[$.currentLang];break;case 2:n.textContent=N.lessonResults2[$.currentLang];break;case 3:n.textContent=N.lessonResults3[$.currentLang];break;case 4:n.textContent=N.lessonResults4[$.currentLang];break;case 5:n.textContent=N.lessonResults5[$.currentLang];break;default:n.textContent=N.lessonResults0[$.currentLang]}return c.textContent=N.lessonResultsReq[$.currentLang],s.textContent=N.lessonResultsScoreText[$.currentLang],l.append(s,r),a.append(n,l,c,i,u,d),a}static showLessonResult(){Et.contentWrapper.style.visibility="hidden",Et.keyboard.style.visibility="hidden",Et.hands.style.visibility="hidden",Et.page.append(Sn.createLessonResult()),J.checkIfUserAuthorised()&&Sn.saveResult()}}const Tn=Sn,kn={ё:"apostrophe",й:"q",ц:"w",у:"e",к:"r",е:"t",н:"y",г:"u",ш:"i",щ:"o",з:"p",х:"left-bracket",ъ:"right-bracket",ф:"a",ы:"s",в:"d",а:"f",п:"g",р:"h",о:"j",л:"k",д:"l",ж:"semicolon",э:"single-quote",я:"z",ч:"x",с:"c",м:"v",и:"b",т:"n",ь:"m",б:"comma",ю:"dot"};class Bn{static checkMatch(e){if(Et.lessonChars[Et.inputIndex].textContent===e)if(Et.historyMistakes.includes(Et.inputIndex)){Et.lessonChars[Et.inputIndex].classList.add("correction");const e=Et.mistakes.indexOf(Et.inputIndex);e>-1&&Et.mistakes.splice(e,1)}else Et.lessonChars[Et.inputIndex].classList.add("correct");else Et.mistakes.includes(Et.inputIndex)||Et.mistakes.push(Et.inputIndex),Et.historyMistakes.includes(Et.inputIndex)||Et.historyMistakes.push(Et.inputIndex),Et.lessonChars[Et.inputIndex].classList.add("incorrect")}static getCorrections(){return Math.floor(Et.historyMistakes.length-Et.mistakes.length)}static getAccuracy(){const e=Et.typedChars+1-Et.mistakes.length,t=Et.historyMistakes.length-Et.mistakes.length,a=Math.floor((e-t/2)/(Et.typedChars+1)*100);return Et.accuracy=a,a}static hideRibbon(){Et.ribbon.style.top="-5rem"}static highlightKey(e){if(e<Et.lessonChars.length){let t=Et.lessonChars[e].textContent;" "===t?Ln.space.classList.add("current-char"):(t===t.toLocaleUpperCase()&&t.match(Bn.charLetter)&&Ln.shift.classList.add("current-char"),t=t.toLocaleLowerCase(),Ln.virtualKeys[t].classList.add("current-char"))}}static removeKeyHighlight(e){if(e<Et.lessonChars.length){let t=Et.lessonChars[e].textContent;" "===t?Ln.space.classList.remove("current-char"):(t===t.toLocaleUpperCase()&&t.match(Bn.charLetter)&&Ln.shift.classList.remove("current-char"),t=t.toLocaleLowerCase(),Ln.virtualKeys[t].classList.remove("current-char"))}}static turnOnSound(){if($.currentLessonSound===T.silent)return;let e=new Audio(`./assets/audio/${T.soft}.wav`);$.currentLessonSound===T.hard&&(e=new Audio(`./assets/audio/${T.hard}.wav`)),$.currentLessonSound===T.mech&&(e=new Audio(`./assets/audio/${T.mech}.wav`)),e.currentTime=0,e.play()}static addHands(){Et.lessonData.complexity===c.hard&&Et.hands.classList.add("hidden");const e=Et.lessonChars[Et.inputIndex].textContent,t=$.currentTheme,a="./assets/images/hands/hand";e.match(Bn.charRu)?Et.hands.setAttribute("src",`${a}-${kn[e.toLocaleLowerCase()]}-${t}.svg`):e.match(Bn.charEn)?Et.hands.setAttribute("src",`${a}-${e.toLocaleLowerCase()}-${t}.svg`):e.match(Bn.charNum)?Et.hands.setAttribute("src",`${a}-${e}-${t}.svg`):"`"===e||"~"===e?Et.hands.setAttribute("src",`${a}-apostrophe-${t}.svg`):"'"===e||'"'===e?Et.hands.setAttribute("src",`${a}-single-quote-${t}.svg`):"\\"===e||"|"===e?Et.hands.setAttribute("src",`${a}-back-slash-${t}.svg`):"-"===e||"_"===e?Et.hands.setAttribute("src",`${a}-dash-${t}.svg`):","===e||"<"===e?Et.hands.setAttribute("src",`${a}-comma-${t}.svg`):"/"===e||"?"===e?Et.hands.setAttribute("src",`${a}-slash-${t}.svg`):"="===e||"+"===e?Et.hands.setAttribute("src",`${a}-equality-${t}.svg`):"["===e||"{"===e?Et.hands.setAttribute("src",`${a}-left-bracket-${t}.svg`):"]"===e||"}"===e?Et.hands.setAttribute("src",`${a}-right-bracket-${t}.svg`):";"===e||":"===e?Et.hands.setAttribute("src",`${a}-semicolon-${t}.svg`):" "===e?Et.hands.setAttribute("src",`${a}-space-${t}.svg`):">"===e?Et.hands.setAttribute("src",`${a}-dot-${t}.svg`):"."===e&&($.currentLayout===i.en?Et.hands.setAttribute("src",`${a}-dot-${t}.svg`):Et.hands.setAttribute("src",`${a}-slash-${t}.svg`))}static createLessonInput(){const a=e.createElement(t.input,[{name:"class",value:"lesson-input"},{name:"autocomplete",value:"off"}]);return Et.lessonChars[0].classList.add("active-char"),Bn.highlightKey(0),Bn.addHands(),a.addEventListener("input",(()=>{if(Bn.turnOnSound(),Et.inputIndex<Et.lessonChars.length&&Et.lessonChars[Et.inputIndex].classList.remove("active-char"),Bn.removeKeyHighlight(Et.inputIndex),Et.inputIndex>=Et.lessonChars.length)return;const e=a.value.split("")[Et.inputIndex];if(e&&Bn.highlightKey(Et.inputIndex+1),Et.inputIndex||Bn.hideRibbon(),Ht.adjust(),Et.typedChars=Et.typedChars>Et.inputIndex?Et.typedChars:Et.inputIndex,Et.typing||(At.stopTimer=!1,Et.typing=!0,At.startTimer()),null==e)return Et.inputIndex&&(Et.inputIndex-=1),Bn.highlightKey(Et.inputIndex),Et.lessonChars[Et.inputIndex].classList.remove("correct","incorrect","correction"),Et.lessonChars[Et.inputIndex].classList.add("active-char"),void Bn.addHands();Bn.checkMatch(e),Et.correctionsCount.textContent=`${Bn.getCorrections()}`,Et.accuracyCount.textContent=`${Bn.getAccuracy()} %`,Et.mistakesCount.textContent=`${Et.mistakes.length}`,Et.inputIndex===Et.lessonChars.length-1&&(At.stopTimer=!0,Tn.showLessonResult()),Et.inputIndex+=1,Et.inputIndex<Et.lessonChars.length&&(Bn.addHands(),Et.lessonChars[Et.inputIndex].classList.add("active-char"))})),a}}Bn.charLetter=/[a-zA-Zа-яА-ЯЁё]/,Bn.charRu=/[а-яА-ЯЁё]/,Bn.charEn=/[a-zA-Z]/,Bn.charNum=/\d/;const Mn=Bn;class Pn{static remove(e,t){e.remove(),t.remove(),Pn.currentTip=P.first}static createLastTip(a){const n=a,s=e.createElement(t.span,[{name:"class",value:"intro-text-accent"}]),r=e.createElement(t.span,[{name:"class",value:"intro-text"}]);s.textContent=N.lessonTipFifth1[$.currentLang],r.textContent=N.lessonTipFifth2[$.currentLang],n.textContent="",n.classList.add("intro-text-wrapper"),n.append(s,r)}static show(){const a=e.createElement(t.div,[{name:"class",value:"lesson-intro"}]),n=e.createElement(t.div,[{name:"class",value:"intro-overlay"}]),s=e.createElement(t.img,[{name:"class",value:"intro-img"}]),r=e.createElement(t.par,[{name:"class",value:"intro-text"}]),l=e.createElement(t.btn,[{name:"class",value:"intro-skip-btn"}]),o=e.createElement(t.btn,[{name:"class",value:"intro-next-btn"}]),c="./assets/images/lesson/lesson-tip",i=e.createElement(t.span,[{name:"class",value:"intro-text-key"}]),u=e.createElement(t.span,[{name:"class",value:"intro-text-key"}]),d=e.createElement(t.span,[{name:"class",value:"intro-text"}]),p=e.createElement(t.span,[{name:"class",value:"intro-text"}]),m=e.createElement(t.span,[{name:"class",value:"intro-text"}]),g=e.createElement(t.div,[{name:"class",value:"intro-btns-wrapper"}]);s.src=`${c}-${P.first}-${$.currentTheme}.svg`,r.textContent=N.lessonTipFirst[$.currentLang],l.textContent=N.lessonTipSkip[$.currentLang],o.textContent=N.lessonTipNext[$.currentLang],i.textContent=N.lessonTipF[$.currentLang],u.textContent=N.lessonTipJ[$.currentLang],d.textContent=N.lessonTipSecond[$.currentLang],p.textContent=N.lessonTipSecondMiddle[$.currentLang],m.textContent=N.lessonTipSecondEnd[$.currentLang],g.append(l,o),a.append(r,s,g),Et.page.append(a,n),o.addEventListener("click",(()=>{switch(Pn.currentTip){case 1:s.src=`${c}-${P.second}-${$.currentTheme}.svg`,r.textContent="",r.append(d,i,p,u,m),Pn.currentTip=P.second;break;case 2:s.src=`${c}-${P.third}-${$.currentTheme}.svg`,r.textContent=N.lessonTipThird[$.currentLang],Pn.currentTip=P.third;break;case 3:s.src=`${c}-${P.fourth}-${$.currentTheme}.svg`,r.textContent=N.lessonTipFourth[$.currentLang],Pn.currentTip=P.fourth;break;case 4:s.remove(),Pn.createLastTip(r),Pn.currentTip=P.fifth;break;default:Pn.remove(n,a)}})),l.addEventListener("click",(()=>{Pn.remove(n,a)})),n.addEventListener("click",(()=>{Pn.remove(n,a)}))}}Pn.currentTip=P.first;const An=Pn,In=class{static createAboutDesc(a,n,s){const r=e.createElement(t.div,[{name:"class",value:"about-desc"}]),l=e.createElement(t.par,[{name:"class",value:"about-text"}]),o=e.createElement(t.span),c=e.createElement(t.link,[{name:"class",value:"about-link"},{name:"href",value:s},{name:"target",value:"_blank"}]);return o.textContent=a,c.textContent=n,l.append(o,c),r.append(l),r}},Rn=class{static createTechDesc(a,n){const s=e.createElement(t.div,[{name:"class",value:"about-desc"}]),r=e.createElement(t.par,[{name:"class",value:"about-text"}]),l=e.createElement(t.span),o=e.createElement(t.span,[{name:"class",value:"about-link"}]);return l.innerHTML=a,o.textContent=n,r.append(l,o),s.append(r),s}},$n={greeting:{en:"Hello everyone!",ru:"Всем привет!"},project:{en:"The project was created as a final task of the Rolling Scopes School front-end development course. The working process and the full feature list of our application can be found by the ",ru:"Проект был создан в рамках финального задания курса front-end разработки Rolling Scopes School. С ходом работ и полным списком особенностей нашего приложения можно ознакомиться по "},features:{en:"link.",ru:"ссылке."},technologies:{en:"Technologies",ru:"Технологии"},textFront:{en:"Technologies used for front-end: ",ru:"Использованые front-end технологии: "},textBack:{en:"Technologies used for back-end: ",ru:"Использованые back-end технологии: "},techFront:{en:"HTML, SCSS, TypeScript",ru:"HTML, SCSS, TypeScript"},techBack:{en:"NodeJS, Express, Mongoose, MongoDB, Heroku",ru:"NodeJS, Express, Mongoose, MongoDB, Heroku"},developers:{en:"Developers",ru:"Разработчики"},nameOxana:{en:"Oxana",ru:"Оксана"},taskOneOxana:{en:"design",ru:"дизайн"},taskTwoOxana:{en:"tests/lessons content",ru:"содержимое тестов/уроков"},taskThreeOxana:{en:"layout: home, lessons layout choice, list of lessons, test, lesson, games choice",ru:"верстка: главная, выбор раскладки для уроков, список уроков, тест, урок, выбор игр"},taskFourOxana:{en:"logic: test, lesson, lesson customization",ru:"логика: тест, урок, кастомизация урока"},taskFiveOxana:{en:"back-end development",ru:"разработка back-end"},nameNikita:{en:"Nikita",ru:"Никита"},taskOneNikita:{en:"games concepts",ru:"концепты игр"},taskTwoNikita:{en:"layout: footer, Typing Adventure game, Typing Hero game",ru:"верстка: подвал, игра Typing Adventure, игра Typing Hero"},taskThreeNikita:{en:"logic: Typing Adventure game, Typing Hero game",ru:"логика: игра Typing Adventure, игра Typing Hero"},taskFourNikita:{en:"back-end deploy",ru:"развертывание back-end"},nameIrina:{en:"Irina",ru:"Ирина"},taskOneIrina:{en:'layout: header, modal windows, "About Us"',ru:'верстка: шапка, модальные окна, "О нас"'},taskTwoIrina:{en:"logic: registration/authorization, data change/logout/profile deletion, display of statistics/badges in a profile",ru:"логика: регистрация/авторизация, смена данных/выход/удаление профиля, отображение статистики/достижений в профиле"},taskThreeIrina:{en:"work with local storage",ru:"работа с local storage"},taskFourIrina:{en:"back-end development",ru:"разработка back-end"},credits:{en:"Credits",ru:"Благодарности"},inspyredBy:{en:"The idea was taken from ",ru:"Идея проекта взята с сайта "},typingClub:{en:"TypingClub",ru:"TypingClub"},illustrationsBy:{en:"All illustrations are created by ",ru:"Все иллюстрации созданы "},and:{en:" and ",ru:" и "},comma:{en:", ",ru:", "},illustratorOne:{en:"Spectrum UI",ru:"Spectrum UI"},illustratorTwo:{en:"Alzea Arafat",ru:"Alzea Arafat"},illustratorThree:{en:"Upklyak",ru:"Upklyak"}},Dn=class{static createDevTask(a){const n=e.createElement(t.listItem,[{name:"class",value:"about-dev-task"}]);return n.textContent=a,n}},Hn=class{static createDevDesc(a){const n=e.createElement(t.div,[{name:"class",value:"about-dev"}]),s=class{static createDevAvatar(a){const n=e.createElement(t.div,[{name:"class",value:"about-dev-avatar-wrapper"}]),s=e.createElement(t.img,[{name:"class",value:"about-dev-avatar-image"},{name:"src",value:a},{name:"alt",value:"Developer avatar"}]);return n.append(s),n}}.createDevAvatar(a.avatar),r=class{static createDevTitle(a){const n=e.createElement(t.h5,[{name:"class",value:"about-dev-title"}]);return n.textContent=a,n}}.createDevTitle($n[`name${a.name}`][$.currentLang]),l=class{static createDevLink(a,n){const s=e.createElement(t.link,[{name:"href",value:n},{name:"target",value:"_blank"}]);return s.append(a),s}}.createDevLink(r,a.gitHubLink),o=class{static createDevTasks(a){const n=e.createElement(t.list,[{name:"class",value:"about-dev-tasks"}]),s=Dn.createDevTask($n[`taskOne${a}`][$.currentLang]),r=Dn.createDevTask($n[`taskTwo${a}`][$.currentLang]),l=Dn.createDevTask($n[`taskThree${a}`][$.currentLang]),o=Dn.createDevTask($n[`taskFour${a}`][$.currentLang]);if(n.append(s,r,l,o),`taskFive${a}`in $n){const e=Dn.createDevTask($n[`taskFive${a}`][$.currentLang]);n.append(s,r,l,o,e)}return n}}.createDevTasks(a.name);return n.append(s,l,o),n}};class Fn{static renderInteractivePage(){const a=I.getPage();let r;switch($.currentPage){case n.lesson:r=class{static createLessonMain(a){let s;if(!Et.lessonData)return $.currentPage=n.lessons,s=Rt.createLessonsMain(a),s;s=e.createElement(t.main,[{name:"class",value:`lesson lesson-${$.currentLessonBg}`}]),Et.page=s;const r=e.createElement(t.div,[{name:"class",value:"lesson-top"}]),l=It.createBackBtn(n.lessons,a),o=class{static createLessonSettings(){const a=e.createElement(t.div,[{name:"class",value:"lesson-settings"}]),n=e.createElement(t.div,[{name:"class",value:"options-panel hidden"}]),s=class{static create(a){const n=e.createElement(t.div,[{name:"class",value:"options-panel-overlay hidden"}]),s=a;return Et.page.append(n),n.addEventListener("click",(()=>{n.classList.add("hidden"),s.textContent="",s.classList.add("hidden"),rn.option.classList.remove("active-option")})),n}}.create(n),r=un.createLessonFontBtn(n,s),l=mn.createLessonSoundBtn(n,s),o=hn.createLessonBgBtn(n,s),c=yn.createLessonSkinBtn(n,s);return a.append(r,l,c,o,n),a}}.createLessonSettings(),c=e.createElement(t.div,[{name:"class",value:"lesson-ribbon"}]),i=e.createElement(t.div,[{name:"class",value:"lesson-wrapper"}]),u=e.createElement(t.div,[{name:"class",value:"content-top-wrapper"}]),d=class{static createLessonStats(){const a=e.createElement(t.div,[{name:"class",value:"lesson-stats"}]),n=e.createElement(t.div,[{name:"class",value:"test-mistakes-wrapper"}]),s=e.createElement(t.par,[{name:"class",value:"test-mistakes"}]),r=e.createElement(t.span,[{name:"class",value:"test-mistakes-count"}]),l=e.createElement(t.div,[{name:"class",value:"test-corrections-wrapper"}]),o=e.createElement(t.par,[{name:"class",value:"test-corrections"}]),c=e.createElement(t.span,[{name:"class",value:"test-corrections-count"}]),i=e.createElement(t.div,[{name:"class",value:"lesson-wpm-wrapper"}]),u=e.createElement(t.par,[{name:"class",value:"lesson-wpm"}]),d=e.createElement(t.span,[{name:"class",value:"lesson-wpm-count"}]),p=e.createElement(t.div,[{name:"class",value:"lesson-accuracy-wrapper"}]),m=e.createElement(t.par,[{name:"class",value:"lesson-accuracy"}]),g=e.createElement(t.span,[{name:"class",value:"lesson-accuracy-count"}]);return Et.mistakesCount=r,Et.correctionsCount=c,Et.wpmCount=d,Et.accuracyCount=g,o.textContent=N.testCorrectionsText[$.currentLang],s.textContent=N.testMistakesText[$.currentLang],u.textContent=N.testWpmText[$.currentLang],m.textContent=N.testAccuracyText[$.currentLang],r.textContent="0",c.textContent="0",d.textContent="0",g.textContent="0",n.append(s,r),l.append(o,c),i.append(u,d),p.append(m,g),a.append(n,l,i,p),a}}.createLessonStats(),p=class{static createRestartBtn(a){const s=e.createElement(t.btn,[{name:"class",value:"lesson-restart-btn"}]);return s.addEventListener("click",(()=>{Et.clearState(),At.stopTimer=!0,O.applyPage(n.lesson,a)})),s}}.createRestartBtn(a),m=class{static createLessonContent(){const a=e.createElement(t.div,[{name:"class",value:`lesson-content lesson-${$.currentLessonFontSize} lesson-${$.currentLessonFontFamily}`}]),n=[],s=e.createElement(t.div,[{name:"class",value:"chars-wrapper"}]);return Et.lessonData.content.split("").forEach((a=>{const r=e.createElement(t.span,[{name:"class",value:"lesson-char"}]);r.textContent=a,n.push(r),s.append(r)})),a.append(s),Et.lessonChars=n,Et.charsWrapper=s,Et.contentWrapper=a,a}}.createLessonContent(),g=Ln.createLessonKeyboard(),v=e.createElement(t.img,[{name:"class",value:"lesson-hands"},{name:"alt",value:"Hands tip"},{name:"height",value:"500px"},{name:"width",value:"900px"}]);Et.hands=v;const h=Mn.createLessonInput();return c.textContent=N.testRibbonText[$.currentLang],Et.ribbon=c,Et.keyboard=g,r.append(l,o),u.append(d,p),i.append(u,m,h),s.append(r,c,i,g,v),document.addEventListener("keydown",(()=>{h.focus()})),1===Et.lessonData.index&&An.show(),s}}.createLessonMain(Fn.renderPage);break;case n.test:r=class{static createTestMain(a){St.clearState(),Mt.stopTimer=!0;const r=e.createElement(t.main,[{name:"class",value:"test"}]),l=e.createElement(t.div,[{name:"class",value:"test-nav"}]),o=It.createBackBtn(n.layout,a),c=e.createElement(t.div,[{name:"class",value:"test-btns"}]),i=e.createElement(t.par,[{name:"class",value:"test-btns-text"}]),u=$t.createTestLangBtn(s.en,a),d=$t.createTestLangBtn(s.ru,a),p=e.createElement(t.div,[{name:"class",value:"test-ribbon"}]),m=class{static createTestTop(a){const s=e.createElement(t.div,[{name:"class",value:"test-top"}]),r=e.createElement(t.div,[{name:"class",value:"test-stats"}]),l=e.createElement(t.div,[{name:"class",value:"test-mistakes-wrapper"}]),o=e.createElement(t.par,[{name:"class",value:"test-mistakes"}]),c=e.createElement(t.span,[{name:"class",value:"test-mistakes-count"}]),i=e.createElement(t.div,[{name:"class",value:"test-corrections-wrapper"}]),u=e.createElement(t.par,[{name:"class",value:"test-corrections"}]),d=e.createElement(t.span,[{name:"class",value:"test-corrections-count"}]),p=e.createElement(t.div,[{name:"class",value:"test-wpm-wrapper"}]),m=e.createElement(t.par,[{name:"class",value:"test-wpm"}]),g=e.createElement(t.span,[{name:"class",value:"test-wpm-count"}]),v=e.createElement(t.div,[{name:"class",value:"test-accuracy-wrapper"}]),h=e.createElement(t.par,[{name:"class",value:"test-accuracy"}]),b=e.createElement(t.span,[{name:"class",value:"test-accuracy-count"}]),f=class{static createTestRestartBtn(a){const s=e.createElement(t.btn,[{name:"class",value:"test-restart"}]);return s.addEventListener("click",(()=>{St.clearState(),Mt.stopTimer=!0,kt.visible=!1,O.applyPage(n.test,a)})),s}}.createTestRestartBtn(a);return St.mistakesCount=c,St.correctionsCount=d,St.wpmCount=g,St.accuracyCount=b,u.textContent=N.testCorrectionsText[$.currentLang],o.textContent=N.testMistakesText[$.currentLang],m.textContent=N.testWpmText[$.currentLang],h.textContent=N.testAccuracyText[$.currentLang],c.textContent="0",d.textContent="0",g.textContent="0",b.textContent="0",l.append(o,c),i.append(u,d),p.append(m,g),v.append(h,b),r.append(l,i,p,v),s.append(r,f),s}}.createTestTop(a),g=e.createElement(t.div,[{name:"class",value:"test-time"}]),v=e.createElement(t.span,[{name:"class",value:"test-time-text"}]),h=e.createElement(t.span,[{name:"class",value:"test-time-count"}]);p.textContent=N.testRibbonText[$.currentLang],St.ribbon=p,i.textContent=N.testBtnsText[$.currentLang],v.textContent=N.testTimeText[$.currentLang],h.textContent="60",St.timeCount=h,c.append(u,d),l.append(o,i,c),g.append(v,h),r.append(l,p,g,m),Te.getTest(St.lang).then((a=>{r.append(class{static createTestContent(a){const n=e.createElement(t.div,[{name:"class",value:"test-text-wrapper"}]),s=[],r=e.createElement(t.div,[{name:"class",value:"test-spans-wrapper"}]);return a.split("").forEach((a=>{const n=e.createElement(t.span,[{name:"class",value:"char"}]);n.textContent=a,s.push(n),r.append(n)})),n.append(r),St.testChars=s,St.charsWrapper=r,St.contentWrapper=n,n}}.createTestContent(a[0].text))}));const b=Wt.createTestInput();return document.addEventListener("keydown",(()=>{b.focus()})),m.append(b),St.page=r,r}}.createTestMain(Fn.renderPage);break;case n.gameOne:r=class{static start(e,a,n){const s={page:e,switchPage:a,render:n},r=Ut.createElement(t.div,[{name:"class",value:"game-wrapper"}]);if(Jt.gameWrapper=r,Ot.currentUser.login!==Ot.notAuthorised)Te.getUser(Ot.currentUser.login).then((e=>{Jt.engageState(),xa.getData(e,ka.innerGameMapRender),Jt.appCallbacks=s;const t=ka.mapRender();Jt.firstAppearance&&sa.createWelcomeModal(xa.setData),r.append(t)}));else{Jt.engageState(),Jt.appCallbacks=s;const e=ka.mapRender();Jt.firstAppearance&&sa.createWelcomeModal(xa.setData),r.append(e)}return r}}.start(n.games,O.applyPage,Fn.renderPage);break;case n.gameTwo:r=class{static start(e,a,n){const s={page:e,switchPage:a,render:n},r=Ba.createElement(t.div,[{name:"class",value:"game-wrapper"}]);if(Da.gameWrapper=r,Ma.currentUser.login!==Ma.notAuthorised)Te.getUser(Ma.currentUser.login).then((e=>{Da.engageState(),Ya.getData(e),Da.appCallbacks=s;const t=sn.createMenu();Da.firstAppearance&&Ja.startModal(),Da.achievementCurrentStatus&&(en.current=Da.achievementCurrentStatus),r.append(t)}));else{Da.engageState(),Da.appCallbacks=s;const e=sn.createMenu();Da.firstAppearance&&Ja.startModal(),r.append(e)}return r}}.start(n.games,O.applyPage,Fn.renderPage);break;default:r=Rt.createLessonsMain(Fn.renderPage)}a.append(r)}static renderStaticPage(){const a=I.getPage(),s=class{static createHeader(a){const s=e.createElement(t.header,[{name:"class",value:"header"}]),r=e.createElement(t.div,[{name:"class",value:"header-wrapper"}]),l=e.createElement(t.div,[{name:"class",value:"menu-wrapper"}]),o=class{static createAppBtn(a,n){const s=e.createElement(t.btn,[{name:"class",value:"app-btn"}]),r=class{static createAppLogo(){const a=e.createElement(t.h1,[{name:"class",value:"app-logo"}]);return a.textContent="EyesUp logo",a}}.createAppLogo();return s.append(r),s.addEventListener("click",(()=>{O.applyPage(a,n)})),s}}.createAppBtn(n.home,a),c=j.createMenu("menu header-menu",a),i=e.createElement(t.div,[{name:"class",value:"controls-wrapper"}]),u=e.createElement(t.div,[{name:"class",value:"theme-lang-wrapper"}]),d=class{static createThemeBtn(){const e=Y.createSmallBtn("small-btn small-btn-bg theme-btn","Theme switcher");return e.addEventListener("click",(()=>{W.applyTheme()})),e}}.createThemeBtn(),p=class{static createLangBtn(e){const t=Y.createSmallBtn("small-btn small-btn-bg",N.themeSwitcher[$.currentLang]);return t.addEventListener("click",(()=>{V.applyLang(e)})),t}}.createLangBtn(a);let m;const g=class{static createBurgerMenuBtn(a){const n=e.createElement(t.btn,[{name:"class",value:"burger-menu-btn"}]);return n.addEventListener("click",(()=>{q.openModal(X.createModalWrapper(class{static createBurgerMenu(a,n){const s=e.createElement(t.div,[{name:"class",value:"burger-menu"}]),r=_.createCloseBtn("small-btn close-btn",a),l=j.createMenu("menu modal-menu",n);let o;return o=J.checkIfUserAuthorised()?Qe.createBurgerMenuProfileBtn(a,s,_e.createProfileModal(a,n)):tt.createBurgerMenuRegistrationBtn(a,s,Xe.createRegistrationModal(a,n)),o.classList.add("burger-menu-user-btn"),s.append(r,l,o),s}}.createBurgerMenu,a))})),n}}.createBurgerMenuBtn(a);return m=J.checkIfUserAuthorised()?Qe.createHeaderProfileBtn(a):tt.createHeaderRegistrationBtn(a),m.classList.add("header-user-btn"),u.append(d,p),i.append(u,m,g),l.append(o,c),r.append(l,i),s.append(r),s}}.createHeader(Fn.renderPage);let r;const l=class{static createFooter(){const a=e.createElement(t.footer,[{name:"class",value:"footer"}]),n=ut.createContentWrapper();return a.append(n),a}}.createFooter();switch($.currentPage){case n.layout:r=class{static createLayoutMain(a){const s=e.createElement(t.main,[{name:"class",value:"layout"}]),r=ee.createMainTitle(N.lessonsTitle[$.currentLang]),l=ht.createLayoutBtn(N.lessonsEnLayoutTitle[$.currentLang],a,i.en),o=ht.createLayoutBtn(N.lessonsRuLayoutTitle[$.currentLang],a,i.ru),c=class{static createLessonsTest(a){const s=e.createElement(t.section,[{name:"class",value:"layout-test"}]),r=e.createElement(t.h4,[{name:"class",value:"section-title"}]),l=xe.createBigBtn(N.lessonsTestBtn[$.currentLang]);return l.addEventListener("click",(()=>{O.applyPage(n.test,a)})),r.textContent=N.lessonsTestTitle[$.currentLang],s.append(r,l),s}}.createLessonsTest(a),u=gt.createLessonsTest(),d=e.createElement(t.div,[{name:"class",value:"section-btns-wrapper"}]);return r.classList.add("lessons-title"),d.append(l,o),s.append(r,d,c,u),s}}.createLayoutMain(Fn.renderPage);break;case n.games:r=class{static createGamesMain(a){const s=e.createElement(t.main,[{name:"class",value:"games"}]),r=ee.createMainTitle(N.gamesTitle[$.currentLang]),l=e.createElement(t.div,[{name:"class",value:"games-section-wrapper"}]);return ft.createGameSection(l,"game-one",u.one,n.gameOne,a),ft.createGameSection(l,"game-two",u.two,n.gameTwo,a),s.append(r,l),s}}.createGamesMain(Fn.renderPage);break;case n.about:r=class{static createAboutMain(){const a=e.createElement(t.main,[{name:"class",value:"about"}]),n=Re.createSubtitle("subtitle about-subtitle",$n.greeting[$.currentLang]),s=In.createAboutDesc($n.project[$.currentLang],$n.features[$.currentLang],nt),r=Re.createSubtitle("subtitle about-subtitle",$n.technologies[$.currentLang]),l=class{static createTechBlock(){const a=e.createElement(t.div,[{name:"class",value:"about-wrapper"}]),n=Rn.createTechDesc($n.textFront[$.currentLang],$n.techFront[$.currentLang]),s=Rn.createTechDesc($n.textBack[$.currentLang],$n.techBack[$.currentLang]);return a.append(n,s),a}}.createTechBlock(),o=Re.createSubtitle("subtitle about-subtitle",$n.developers[$.currentLang]),c=class{static createDevBlock(){const a=e.createElement(t.div,[{name:"class",value:"about-wrapper"}]),n=Hn.createDevDesc(ct.Irina),s=Hn.createDevDesc(ct.Nikita),r=Hn.createDevDesc(ct.Oxana);return a.append(n,s,r),a}}.createDevBlock(),i=Re.createSubtitle("subtitle about-subtitle",$n.credits[$.currentLang]),u=class{static createCreditsBlock(){const a=e.createElement(t.div,[{name:"class",value:"about-wrapper"}]),n=In.createAboutDesc($n.inspyredBy[$.currentLang],$n.typingClub[$.currentLang],st),s=class{static createIllustrationsDesc(){const a=e.createElement(t.div,[{name:"class",value:"about-desc"}]),n=e.createElement(t.par,[{name:"class",value:"about-text"}]),s=e.createElement(t.span),r=e.createElement(t.span),l=e.createElement(t.span),o=e.createElement(t.link,[{name:"class",value:"about-link"},{name:"href",value:rt},{name:"target",value:"_blank"}]),c=e.createElement(t.link,[{name:"class",value:"about-link"},{name:"href",value:lt},{name:"target",value:"_blank"}]),i=e.createElement(t.link,[{name:"class",value:"about-link"},{name:"href",value:ot},{name:"target",value:"_blank"}]);return s.textContent=$n.illustrationsBy[$.currentLang],r.textContent=$n.and[$.currentLang],l.textContent=$n.comma[$.currentLang],o.textContent=$n.illustratorOne[$.currentLang],c.textContent=$n.illustratorTwo[$.currentLang],i.textContent=$n.illustratorThree[$.currentLang],n.append(s,o,l,c,r,i),a.append(n),a}}.createIllustrationsDesc();return a.append(n,s),a}}.createCreditsBlock();return a.append(n,s,r,l,o,c,i,u),a}}.createAboutMain();break;default:r=class{static createHomeMain(a){const s=e.createElement(t.main,[{name:"class",value:"home"}]),r=class{static createHomePromo(a){const s=e.createElement(t.section,[{name:"class",value:"home-promo"}]),r=e.createElement(t.h2,[{name:"class",value:"promo-title"}]),l=e.createElement(t.par,[{name:"class",value:"promo-text"}]),o=class{static createPromoBtn(e,t){const a=xe.createBigBtn(e);return a.addEventListener("click",(()=>{O.applyPage(n.layout,t)})),a}}.createPromoBtn(N.promoBtn[$.currentLang],a),c=e.createElement(t.div,[{name:"class",value:"home-promo-bg"}]),i=e.createElement(t.div,[{name:"class",value:"promo-content-container"}]);return r.textContent=N.promoTitle[$.currentLang],l.textContent=N.promoText[$.currentLang],i.append(r,l,o),s.append(i,c),s}}.createHomePromo(a),l=dt.createHomeSection("lessons",N.homeLessonsTitle[$.currentLang],N.homeLessonsText[$.currentLang]),o=dt.createHomeSection("games",N.homeGamesTitle[$.currentLang],N.homeGamesText[$.currentLang]),c=dt.createHomeSection("progress",N.homeProgressTitle[$.currentLang],N.homeProgressText[$.currentLang]),i=class{static createHomeRegistration(a){const n=e.createElement(t.section,[{name:"class",value:"home-registration"}]),s=ee.createMainTitle(N.homeRegistrationTitle[$.currentLang]),r=e.createElement(t.par,[{name:"class",value:"home-text-registration"}]),l=class{static createHomeRegBtn(e){const t=xe.createBigBtn(N.homeRegistrationBtn[$.currentLang]);return t.addEventListener("click",(()=>{q.openModal(X.createModalWrapper(Xe.createRegistrationModal,e))})),t}}.createHomeRegBtn(a);return r.textContent=N.homeRegistrationText[$.currentLang],n.append(s,r,l),n}}.createHomeRegistration(a),u=e.createElement(t.div,[{name:"class",value:"home-wrapper"}]);return u.append(r,l,o,c,i),s.append(u),s}}.createHomeMain(Fn.renderPage)}a.append(s,r,l)}static renderPage(){H.updateState(),I.clearPage(),W.swapTheme(),window.addEventListener("resize",(()=>{q.closeBurgerMenuHandler()})),$.currentPage===n.lesson||$.currentPage===n.gameOne||$.currentPage===n.gameTwo||$.currentPage===n.lessons||$.currentPage===n.test?Fn.renderInteractivePage():Fn.renderStaticPage()}}const Wn=Fn;(class{static start(){Wn.renderPage()}}).start()})();