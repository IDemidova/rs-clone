(()=>{"use strict";const e=class{static createElement(e,t){const a=document.createElement(e);return t&&t.forEach((e=>a.setAttribute(e.name,e.value))),a}};var t,a,n,s,r,l,c,o,i,u,d,p,m,g,v,h,b,f,y,L,E,w,C,x,S,T,k,B,M,A,P;!function(e){e.div="div",e.link="a",e.btn="button",e.img="img",e.par="p",e.span="span",e.nav="nav",e.input="input",e.h1="h1",e.h2="h2",e.h3="h3",e.h4="h4",e.h5="h5",e.main="main",e.header="header",e.footer="footer",e.section="section",e.label="label",e.list="ul",e.listItem="li",e.audio="audio"}(t||(t={})),function(e){e.text="text",e.password="password"}(a||(a={})),function(e){e.home="home",e.layout="layout",e.lessons="lessons",e.lesson="lesson",e.test="test",e.games="games",e.gameOne="gameOne",e.gameTwo="gameTwo",e.about="about"}(n||(n={})),function(e){e.ru="ru",e.en="en"}(s||(s={})),function(e){e.light="light",e.dark="dark"}(r||(r={})),function(e){e.users="/users",e.lessons="/lessons",e.tests="/tests",e.test="/test"}(l||(l={})),function(e){e.get="get",e.post="post",e.put="put",e.delete="delete"}(c||(c={})),function(e){e.easy="basic",e.medium="intermediate",e.hard="advanced"}(o||(o={})),function(e){e.ru="ru",e.en="en"}(i||(i={})),function(e){e.one="gameOne",e.two="gameTwo"}(u||(u={})),function(e){e.noLogin="noLogin",e.noPassword="noPassword",e.invalidLogin="invalidLogin",e.invalidPassword="invalidPassword",e.existingLogin="existingLogin",e.notRegistered="notRegistered",e.notMatchingPassword="notMatchingPassword"}(d||(d={})),function(e){e.registration="registration",e.authorisation="authorisation"}(p||(p={})),function(e){e[e.min=2]="min",e[e.max=20]="max"}(m||(m={})),function(e){e[e.min=6]="min",e[e.max=20]="max"}(g||(g={})),function(e){e[e.found=200]="found",e[e.notFound=404]="notFound"}(v||(v={})),function(e){e[e.default=1]="default",e[e.amount=12]="amount"}(h||(h={})),function(e){e.true="disabled"}(b||(b={})),function(e){e.noData="noData",e[e.noStats=0]="noStats"}(f||(f={})),function(e){e.view="view",e.edit="edit"}(y||(y={})),function(e){e.logout="logout",e.delete="delete"}(L||(L={})),function(e){e[e.one=1]="one",e[e.two=2]="two",e[e.three=3]="three",e[e.four=4]="four",e[e.five=5]="five",e[e.six=6]="six",e[e.seven=7]="seven",e[e.eight=8]="eight",e[e.nine=9]="nine",e[e.ten=10]="ten",e[e.eleven=11]="eleven",e[e.twelve=12]="twelve",e[e.thirteen=13]="thirteen",e[e.fourteen=14]="fourteen",e[e.fifteen=15]="fifteen",e[e.sixteen=16]="sixteen",e[e.seventeen=17]="seventeen",e[e.eighteen=18]="eighteen",e[e.nineteen=19]="nineteen",e[e.twenty=20]="twenty"}(E||(E={})),function(e){e.default="bg-default",e.one="bg-one",e.two="bg-two"}(w||(w={})),function(e){e.normal="font-size-normal",e.small="font-size-small",e.big="font-size-big"}(C||(C={})),function(e){e.default="font-family-sans-serif",e.serif="font-family-serif"}(x||(x={})),function(e){e[e.normal=40]="normal",e[e.small=30]="small",e[e.big=60]="big"}(S||(S={})),function(e){e.soft="sound-soft",e.hard="sound-hard",e.mech="sound-mechanical",e.silent="sound-silent"}(T||(T={})),function(e){e.default="skin-default",e.one="skin-one",e.two="skin-two",e.three="skin-three"}(k||(k={})),function(e){e.visible="hands-visible",e.hidden="hands-hidden"}(B||(B={})),function(e){e[e.levels=10]="levels",e[e.spells=28]="spells",e[e.beasts=9]="beasts"}(M||(M={})),function(e){e[e.levels=10]="levels",e[e.score=2590]="score"}(A||(A={})),function(e){e[e.first=1]="first",e[e.second=2]="second",e[e.third=3]="third",e[e.fourth=4]="fourth",e[e.fifth=5]="fifth"}(P||(P={}));class ${static getPage(){return document.querySelector(".page")}static clearPage(){$.getPage().innerHTML=""}static hidePageScrollbar(){$.setPagePadding(),$.setPageOverflowHidden()}static showPageScrollbar(){$.removePagePadding(),$.setPageOverlowScroll()}static setPagePadding(){$.getPage().style.paddingRight=`${class{static countScrollbarWidth(){const a=e.createElement(t.div,[{name:"class",value:"measure-scrollbar"}]);document.body.append(a);const n=a.offsetWidth-a.clientWidth;return document.body.removeChild(a),n}}.countScrollbarWidth()}px`}static removePagePadding(){$.getPage().style.paddingRight="0"}static setPageOverflowHidden(){document.firstElementChild&&(document.firstElementChild.style.overflowY="hidden")}static setPageOverlowScroll(){document.firstElementChild&&(document.firstElementChild.style.overflowY="scroll")}}const I=$;class R{}R.notAuthorised="0login",R.defaultAvatar=h.default,R.currentUser={login:R.notAuthorised,avatar:R.defaultAvatar},R.currentPage=n.home,R.currentLang=s.en,R.currentTheme=r.light,R.currentLessonBg=w.default,R.currentLessonFontSize=C.normal,R.currentLessonFontFamily=x.default,R.currentLessonSound=T.silent,R.currentLessonSkin=k.default,R.currentLessonHands=B.visible;const D=R,H=class{static setItem(e,t){window.localStorage.setItem(e,JSON.stringify(t))}static getItem(e){return null!==window.localStorage.getItem(e)?JSON.parse(window.localStorage.getItem(e)):null}static removeItem(e){window.localStorage.removeItem(e)}},F=class{static updateState(){const e=H.getItem("eyesUpState");e&&(D.currentUser=e.currentUser,D.currentPage=e.currentPage,D.currentLang=e.currentLang,D.currentTheme=e.currentTheme,D.currentLayout=e.currentLayout,D.currentComplexity=e.currentComplexity,D.currentLessonBg=e.currentLessonBg,D.currentLessonFontSize=e.currentLessonFontSize,D.currentLessonFontFamily=e.currentLessonFontFamily,D.currentLessonSound=e.currentLessonSound,D.currentLessonSkin=e.currentLessonSkin,D.currentLessonHands=e.currentLessonHands)}static saveState(){const e={currentUser:D.currentUser,currentPage:D.currentPage,currentLang:D.currentLang,currentTheme:D.currentTheme,currentLayout:D.currentLayout,currentComplexity:D.currentComplexity,currentLessonBg:D.currentLessonBg,currentLessonFontSize:D.currentLessonFontSize,currentLessonFontFamily:D.currentLessonFontFamily,currentLessonSound:D.currentLessonSound,currentLessonSkin:D.currentLessonSkin,currentLessonHands:D.currentLessonHands};H.setItem("eyesUpState",e)}};class W{static changeTheme(){D.currentTheme=D.currentTheme===r.light?r.dark:r.light}static swapTheme(){const e=I.getPage();D.currentTheme===r.light?(e.classList.remove(r.dark),e.classList.add(r.light)):(e.classList.remove(r.light),e.classList.add(r.dark))}static applyTheme(){W.changeTheme(),F.saveState(),W.swapTheme()}}const U=W;class O{static changePage(e){D.currentPage=e}static applyPage(e,t){D.currentPage===e&&D.currentPage!==n.lessons&&D.currentPage!==n.test&&D.currentPage!==n.lesson||(O.changePage(e),F.saveState(),t())}}const N=O,G=class{static createMenuBtn(a,n,s){const r=e.createElement(t.btn,[{name:"class",value:"menu-btn"}]);return D.currentPage===n&&r.classList.add("menu-btn-active"),r.textContent=a,r.addEventListener("click",(()=>{I.showPageScrollbar(),N.applyPage(n,s)})),r}},j={homeLink:{en:"Home",ru:"Главная"},lessonsLink:{en:"Lessons",ru:"Уроки"},gamesLink:{en:"Games",ru:"Игры"},gameOneTitle:{en:"Typing Adventure",ru:"Typing Adventure"},gameOneDescFirst:{en:"Do you want to feel yourself like a real seeker of adventures? Then welcome to Typing Adventure!",ru:"Хотите почувствовать себя настоящим искателем приключений? Добро пожаловать в Typing Adventure!"},gameOneDescSecond:{en:"Fights with various monsters are waiting for you and the victory over them depends only on how quickly and accurately you will type spells. Your skills will grow with each level, but so will the strength of the monsters - so do not forget to combine attacks to cause more damage.",ru:"Вас ждут схватки с разнообразными монстрами, а победа над ними зависит только от того, насколько быстро и точно вы будете печатать заклинания. С каждым уровнем будут расти не только ваши навыки, но и сила монстров - поэтому не забывайте комбинировать атаки, чтобы наносить больше урона."},gameOneDescThird:{en:"Well, are you ready? Let's go on an adventure!",ru:"Ну что, готовы? Вперед, навстречу приключениям!"},gameTwoTitle:{en:"Typing Hero",ru:"Typing Hero"},gameTwoDescFirst:{en:"Always dreamed to become a hero of the stage? Your dream can come true right now in Typing Hero!",ru:"Всегда мечтали стать героем сцены? Ваша мечта может осуществиться прямо сейчас в Typing Hero!"},gameTwoDescSecond:{en:'Keyboard will take place of the guitar neck and letters will replace notes, but the result will still depend on your skill and fingers speed. You also will be able to write your own "melody" by choosing the speed, the number of "frets" and the duration of the level in a special menu.',ru:'Место гитарного грифа займет клавиатура, а буквы заменят ноты, но результат все также будет зависеть от вашего мастерства и скорости пальцев. Вы также сможете написать собственную "мелодию", самостоятельно выбрав скорость, количество "ладов" и продолжительность уровня в специальном меню.'},gameTwoDescThird:{en:"Ready to perform? The stage awaits for you!",ru:"Ну что, готовы к выступлению? Сцена вас ждет!"},aboutUsLink:{en:"About Us",ru:"О нас"},themeSwitcher:{en:"En",ru:"Ру"},headerSignUpBtn:{en:"Sign Up",ru:"Войти"},promoTitle:{en:"Typing Lessons",ru:"Уроки печати"},promoText:{en:"Always wanted to type without looking at the keyboard? Learn with us quickly and efficiently!",ru:"Давно мечтали печатать, не глядя на клавиатуру? Научитесь вместе с нами быстро и эффективно!"},promoBtn:{en:"Get Started",ru:"Продолжить"},homeLessonsTitle:{en:"Interactive Experience",ru:"Интерактивное взаимодействие"},homeLessonsText:{en:"The student experience is clean, straightforward, engaging and fun. Our gamified environment motivates students to master each lesson before proceeding to the next level",ru:"Процесс обучения простой и увлекательный. Наш игровой подход мотивирует закреплять умения по каждому уроку, прежде чем перейти к следующему"},homeGamesTitle:{en:"Unique Typing Games",ru:"Уникальные игры"},homeGamesText:{en:"EyesUP's games are unique, engaging and challenging. Each of the games focuses on building specific typing skills. You can track your progress the same as you would with any other lesson",ru:"Игры EyesUP уникальны и интересны. Каждая из игр направлена на развитие определенных навыков набора текста. Вы сможете отслеживать свой прогресс, как при любом другом уроке"},homeProgressTitle:{en:"Badges and Statistics",ru:"Значки и статистика"},homeProgressText:{en:"Badges are designed to motivate students on key objectives. Statistics allows students to track the development of their typing skills",ru:"Значки увеличивают мотивацию, a статистика позволяет отследить развитие ваших навыков набора текста"},homeRegistrationTitle:{en:"Explore all possibilities",ru:"Исследуйте все возможности"},homeRegistrationText:{en:"Create an account to track your progress and store badges",ru:"Создайте учетную запись, чтобы отслеживать свои успехи и хранить значки"},homeRegistrationBtn:{en:"Sign Up",ru:"Создать аккаунт"},lessonsTitle:{en:"Lessons",ru:"Уроки"},lessonsEnLayoutTitle:{en:"English Layout",ru:"Английская раскладка"},lessonsRuLayoutTitle:{en:"Russian Layout",ru:"Русская раскладка"},lessonsTestTitle:{en:"Test your typing Speed and Accuracy",ru:"Проверьте свою скорость и точность печати"},lessonsTestBtn:{en:"Let's Go!",ru:"Поехали!"},lessonsFilterAll:{en:"All",ru:"Все"},lessonsFilterBasic:{en:"Basic",ru:"Простые"},lessonsFilterIntermediate:{en:"Intermediate",ru:"Средние"},lessonsFilterAdvanced:{en:"Advanced",ru:"Продвинутые"},gamesTitle:{en:"Games",ru:"Игры"},modalSignUpTitle:{en:"Sign Up",ru:"Регистрация"},modalLogInTitle:{en:"Log In",ru:"Авторизация"},modalSignUpLoginInput:{en:"Login",ru:"Логин"},modalSignUpPasswordInput:{en:"Password",ru:"Пароль"},modalLogInBtn:{en:"Log In",ru:"Войти"},modalSignUpBtn:{en:"Sign Up",ru:"Создать аккаунт"},modalLogInText:{en:"Don't have an account?",ru:"Еще нет аккаунта?"},modalSignUpText:{en:"Already have an account?",ru:"Уже есть аккаунт?"},modalLogInLink:{en:"Sign Up",ru:"Создать аккаунт"},modalSignUpLink:{en:"Log In",ru:"Войти"},profileTitle:{en:"Profile",ru:"Профиль"},profileEditTitle:{en:"Edit Profile",ru:"Редактирование"},profileUsernameInput:{en:"Username",ru:"Ник"},profileUsernamePassword:{en:"Password",ru:"Пароль"},statsTitle:{en:"Statistics",ru:"Статистика"},statsLessonsCompleted:{en:"Completed lessons",ru:"Завершено уроков"},statsLessonsScore:{en:"Average score",ru:"Средняя оценка"},statsLessonsAccuracy:{en:"Average accuracy",ru:"Средняя точность"},statsReachedLevel:{en:"Reached level",ru:"Достигнутый уровень"},statsCollectedSpells:{en:"Collected spells",ru:"Собрано заклинаний"},statsEncounteredBeasts:{en:"Encountered beasts",ru:"Встречено монстров"},statsCompletedLevels:{en:"Completed levels",ru:"Пройдено уровней"},statsBestScore:{en:"Best score",ru:"Лучший результат"},statsBestAccuracy:{en:"Best accuracy",ru:"Лучшая точность"},profileBadgesTitle:{en:"Earned badges",ru:"Ваши значки"},profileBadgesLink:{en:"All badges",ru:"Все значки"},badgesTitle:{en:"Badges",ru:"Значки"},profileLogoutBtn:{en:"Logout",ru:"Выйти"},profileSaveBtn:{en:"Save Changes",ru:"Сохранить"},profileAvatarsTitle:{en:"Avatars",ru:"Аватарки"},profileDeleteBtn:{en:"Delete Account",ru:"Удалить аккаунт"},backBtn:{en:"Back",ru:"Назад"},testRibbonText:{en:"Start typing",ru:"Начните печатать"},testMistakesText:{en:"Mistakes:",ru:"Ошибки:"},testWpmText:{en:"Speed:",ru:"Скорость:"},testWpmSub:{en:"wpm",ru:"свм"},testAccuracyText:{en:"Accuracy:",ru:"Точность:"},testCorrectionsText:{en:"Corrections:",ru:"Исправления:"},testBtnsText:{en:"Text language",ru:"Язык текста"},testResultText:{en:"Test Result:",ru:"Результат теста:"},testLastResultText:{en:"Last Result:",ru:"Последний результат:"},testTimeText:{en:"Time:",ru:"Время:"},lessonResults0:{en:"Well, try again!",ru:"Что ж, попробуйте еще раз!"},lessonResults1:{en:"Keep practicing!",ru:"Продолжайте практиковаться!"},lessonResults2:{en:"Keep practicing!",ru:"Продолжайте практиковаться!"},lessonResults3:{en:"Good job!",ru:"Хорошая работа!"},lessonResults4:{en:"Well done!",ru:"Отличная работа!"},lessonResults5:{en:"Excellent job!",ru:"Отличная работа!"},lessonResultsScoreText:{en:"Your score",ru:"Ваш результат"},lessonResultsReq:{en:"Lesson requirements",ru:"Требования к уроку"},lessonResultsReqSpeed:{en:"Minimum speed",ru:"Минимальная скорость"},lessonResultsReqSpeedStar:{en:"Speed for a star",ru:"Скорость для звезды"},lessonResultsReqAccuracy:{en:"Minimum accuracy",ru:"Минимальная точность"},lessonBadgeTitle:{en:"New achivment",ru:"Новое достижение"},lessonBadgeCompletedAllLessons:{en:"You've completed all lessons!",ru:"Вы завершили все уроки!"},lessonBadgeEyesUp:{en:"You've completed all EyesUp lessons!",ru:"Вы завершили все уроки EyesUp!"},lessonBadgeSpeed20:{en:"You've reached a typing speed of 20wpm!",ru:"Вы достигли скорости печати 20 слов в минуту!"},lessonBadgeSpeed60:{en:"You've reached a typing speed of 60wpm!",ru:"Вы достигли скорости печати 60 слов в минуту!"},lessonBadgeSpeed100:{en:"You've reached a typing speed of 100wpm!",ru:"Вы достигли скорости печати 100 слов в минуту!"},lessonSoundSilent:{en:"Silent",ru:"Без звука"},lessonSoundSoft:{en:"Soft Laptop",ru:"Мягкий звук"},lessonSoundHard:{en:"Hard Laptop",ru:"Громкий звук"},lessonSoundMech:{en:"Mechanical",ru:"Механический"},lessonTipNext:{en:"Next",ru:"Далее"},lessonTipSkip:{en:"Skip",ru:"Пропустить"},lessonTipFirst:{en:"Before we start... Good posture is important for your health!",ru:"Прежде, чем начнем... Правильная осанка важна для вашего здоровья!"},lessonTipSecond:{en:"Now take a look at your keyboard. Do you see the bumps on the",ru:"Теперь взгляните на вашу клавиатуру. Видите бугорки на"},lessonTipSecondMiddle:{en:"and",ru:"и"},lessonTipSecondEnd:{en:"keys?",ru:"клавишах?"},lessonTipF:{en:"F",ru:"А"},lessonTipJ:{en:"J",ru:"О"},lessonTipThird:{en:"Close your eyes and find them with your index fingers.",ru:"Закройте глаза и найдите их указательными пальцами."},lessonTipFourth:{en:"And this is the base position for your fingers, which you should return to after each keystroke.",ru:"А это базовое положение пальцев, в которое нужно возвращаться после каждого нажатия клавиши."},lessonTipFifth1:{en:"Keep your eyes up!",ru:"Не опускайте глаза!"},lessonTipFifth2:{en:"The main rule: do not look at the keyboard again. And soon you will type like a pro.",ru:"Главное правило: не смотрите на клавиатуру. И скоро вы будете печатать как профессионал."},lessonNextBtn:{en:"Next lesson",ru:"Следующий урок"},lessonNextLastBtn:{en:"To lessons list",ru:"К списку уроков"}},Y=class{static createMenu(a,s){const r=e.createElement(t.nav,[{name:"class",value:a}]),l=G.createMenuBtn(j.homeLink[D.currentLang],n.home,s),c=G.createMenuBtn(j.lessonsLink[D.currentLang],n.layout,s),o=G.createMenuBtn(j.gamesLink[D.currentLang],n.games,s),i=G.createMenuBtn(j.aboutUsLink[D.currentLang],n.about,s);return r.append(l,c,o,i),r}},V=class{static createSmallBtn(a,n){const s=e.createElement(t.btn,[{name:"class",value:a}]);return n&&(s.textContent=n),s}};class z{static changeLang(){D.currentLang=D.currentLang===s.en?s.ru:s.en}static applyLang(e){z.changeLang(),F.saveState(),e()}}const q=z;class K{static openModal(e){I.hidePageScrollbar(),I.getPage().append(e)}static closeModal(e){I.showPageScrollbar(),e.remove()}static changeModal(e,t,a){t.remove(),e.append(a)}static switchModal(e){e.classList.add("hidden"),e.previousElementSibling&&!e.previousElementSibling.classList.contains("profile-badges-modal")&&e.previousElementSibling.classList.remove("hidden"),e.nextElementSibling&&!e.nextElementSibling.classList.contains("profile-badges-modal")&&e.nextElementSibling.classList.remove("hidden")}static showModal(e){e.classList.remove("hidden")}static hideModal(e){e.classList.add("hidden")}static clearModalContent(e){e.children&&Array.from(e.children).forEach((t=>{e.removeChild(t)}))}static closeBurgerMenu(){const e=I.getPage();e.lastElementChild&&e.lastElementChild.lastElementChild&&e.lastElementChild.lastElementChild.classList.contains("burger-menu")&&K.closeModal(e.lastElementChild)}static closeBurgerMenuHandler(){window.matchMedia("(max-width: 899px)").matches||K.closeBurgerMenu()}}const _=K,J=class{static createCloseBtn(e,t){const a=V.createSmallBtn(e);return a.textContent="Close button",a.addEventListener("click",(()=>{_.closeModal(t)})),a}},Q=class{static checkIfUserAuthorised(){return D.currentUser.login!==D.notAuthorised}static updateUserLogin(e){D.currentUser.login=e}static updateUserState(e,t){D.currentUser.login=e,D.currentUser.avatar=t}static resetUserState(){D.currentUser.login=D.notAuthorised,D.currentUser.avatar=D.defaultAvatar}};class Z{static createAvatarImagePath(e){return`${Z.path}avatar-${e}.png`}static createAvatarImage(a,n){return e.createElement(t.img,[{name:"class",value:a},{name:"src",value:n},{name:"alt",value:"Avatar image"}])}}Z.path="./assets/images/avatars/";const X=Z,ee=class{static createModalWrapper(a,n){const s=e.createElement(t.div,[{name:"class",value:"modal-wrapper"}]),r=class{static createOverlay(a){const n=e.createElement(t.div,[{name:"class",value:"overlay"}]);return n.addEventListener("click",(()=>{_.closeModal(a)})),n}}.createOverlay(s),l=a(s,n);return s.append(r,l),s}},te=class{static createMainTitle(a){const n=e.createElement(t.h3,[{name:"class",value:"main-title"}]);return n.textContent=a,n}},ae=class{static createInputLabel(a,n){const s=e.createElement(t.label,[{name:"class",value:a}]);return s.textContent=n,s}},ne=class{static createInput(e,t){const a=document.createElement(e);return t&&t.forEach((e=>a.setAttribute(e.name,e.value))),a}},se=class{static createLoginInput(e,a){const n=ne.createInput(t.input,[{name:"class",value:e}]);return a&&n.setAttribute(a,a),n}},re=class{static createPasswordInput(e,n){const s=ne.createInput(t.input,[{name:"class",value:e},{name:"type",value:a.password}]);return n&&s.setAttribute(n,n),s}},le=class{static switchPasswordVisibility(e,t){t.getAttribute("type")===a.password?(e.classList.add("password-open"),e.classList.remove("password-close"),t.setAttribute("type",a.text)):(e.classList.add("password-close"),e.classList.remove("password-open"),t.setAttribute("type",a.password))}static hidePassword(e){e.lastElementChild&&e.lastElementChild.lastElementChild&&e.lastElementChild.lastElementChild.previousElementSibling&&e.lastElementChild.lastElementChild.previousElementSibling.getAttribute("type")===a.text&&(e.lastElementChild.lastElementChild.classList.add("password-close"),e.lastElementChild.lastElementChild.classList.remove("password-open"),e.lastElementChild.lastElementChild.previousElementSibling.setAttribute("type",a.password))}},ce=class{static createPasswordVisibilityBtn(a,n){const s=e.createElement(t.btn,[{name:"class",value:a}]);return s.addEventListener("click",(()=>{le.switchPasswordVisibility(s,n)})),s}},oe={noLogin:{en:"Please enter login.",ru:"Пожалуйста, введите логин."},noPassword:{en:"Please enter password.",ru:"Пожалуйста, введите пароль."},invalidLogin:{en:"Invalid login. Hover over the icon to see more details.",ru:"Неверный логин. Коснитесь иконки, чтобы узнать детали."},invalidPassword:{en:"Invalid password. Hover over the icon to see more details.",ru:"Неверный пароль. Коснитесь иконки, чтобы узнать детали."},existingLogin:{en:"There is a user with such login already.",ru:"Пользователь с таким логином уже существует."},notRegistered:{en:"There is no user with such login. Please register first.",ru:"Пользователя с таким логином не существует. Пожалуйста, сначала зарегистрируйтесь."},notMatchingPassword:{en:"Password doesn't match.",ru:"Пароль не подходит."},loginHint:{en:"2-20 characters, latin / cyrillic letters, numbers, should start from letter.",ru:"2-20 символов, буквы латиницы / кириллицы, числа, должен начинаться с буквы."},passwordHint:{en:"6-20 characters, 1 number, 1 latin capital letter, 1 latin lowercase letter, 1 special character (!@#$%^&*).",ru:"6-20 символов, 1 число, 1 заглавная латинская буква, 1 прописная латинская буква, 1 спецсимвол (!@#$%^&*)."}},ie=class{static showHint(e){e.lastElementChild&&e.lastElementChild.classList.remove("hidden")}static hideHint(e){e.lastElementChild&&e.lastElementChild.classList.add("hidden")}},ue=class{static createErrorHintContent(a,n){const s=e.createElement(t.par,[{name:"class",value:"error-hint-content"}]),r=e.createElement(t.span,[{name:"class",value:"error-hint-mark"}]),l=e.createElement(t.span,[{name:"class",value:"error-hint-text"}]);return r.textContent=`${a}: `,l.textContent=n,s.append(r,l),s}};class de{static wipeError(e){e.firstChild&&e.removeChild(e.firstChild)}static showError(a,n,s){de.wipeError(a),a.append(class{static createErrorContent(a,n){const s=e.createElement(t.par,[{name:"class",value:"error-content"}]),r=class{static createErrorText(a){const n=e.createElement(t.span,[{name:"class",value:"error-text"}]);return n.textContent=oe[a][D.currentLang],n}}.createErrorText(n);if(s.append(r),a===p.registration){const a=class{static createErrorIcon(a){const n=e.createElement(t.span,[{name:"class",value:"error-icon"}]);return n.textContent="Error hint",n.addEventListener("mouseenter",(()=>{ie.showHint(a)})),n.addEventListener("mouseleave",(()=>{ie.hideHint(a)})),n}}.createErrorIcon(s),n=class{static createErrorHint(){const a=e.createElement(t.div,[{name:"class",value:"error-hint hidden"}]),n=ue.createErrorHintContent(j.modalSignUpLoginInput[D.currentLang],oe.loginHint[D.currentLang]),s=ue.createErrorHintContent(j.modalSignUpPasswordInput[D.currentLang],oe.passwordHint[D.currentLang]);return a.append(n,s),a}}.createErrorHint();s.append(a,n)}return s}}.createErrorContent(n,s))}}const pe=de,me=class{static createPasswordRegExp(e,t,a){const n=`{${t},${a}}`,s=[...Object.values(e)],r=`${s.map((e=>`(?=.*[${e}])`)).join("")}[${s.join("")}]${n}`;return new RegExp(r,"g")}static createLoginRegExp(e,t,a){const n=`{${t-1},${a-1}}`,s=[...Object.values(e)],r=`^[${e.latin}${e.cyrillic}]+[${s.join("")}]${n}`;return new RegExp(r,"ig")}};class ge{}ge.login=D.notAuthorised,ge.password=D.notAuthorised,ge.avatar=D.defaultAvatar;const ve=ge,he={numeric:"0-9",special:"!@#$%^&*",latinLower:"a-z",latinUpper:"A-Z"},be={numeric:"0-9",latin:"a-z",cyrillic:"а-яё"};class fe{static checkIfValueNotEmpty(e){return!!e}static checkIfLoginValid(e){return me.createLoginRegExp(be,m.min,m.max).test(e)}static checkIfPasswordValid(e){return me.createPasswordRegExp(he,g.min,g.max).test(e)}static checkIfLoginCorrect(e,t){return fe.checkIfValueNotEmpty(e)?!!fe.checkIfLoginValid(e)||(pe.showError(t,p.registration,d.invalidLogin),!1):(pe.showError(t,p.registration,d.noLogin),!1)}static checkIfPasswordCorrect(e,t){return fe.checkIfValueNotEmpty(e)?!!fe.checkIfPasswordValid(e)||(pe.showError(t,p.registration,d.invalidPassword),!1):(pe.showError(t,p.registration,d.noPassword),!1)}static checkIfDataCorrect(e,t,a){const n=fe.checkIfPasswordCorrect(t,a),s=fe.checkIfLoginCorrect(e,a);return!(!n||!s)}static checkIfDataEntered(e,t,a){return fe.checkIfValueNotEmpty(e)?!!fe.checkIfValueNotEmpty(t)||(pe.showError(a,p.authorisation,d.noPassword),!1):(pe.showError(a,p.authorisation,d.noLogin),!1)}static checkIfLoginDiffer(e){return ve.login!==e.login}static checkIfUserDataDiffer(e){return ve.login!==e.login||ve.password!==e.password||ve.avatar!==e.avatar}}const ye=fe;class Le{static disableSaveChangesBtn(e){e.setAttribute(b.true,b.true)}static enableSaveChangesBtn(e){e.removeAttribute(b.true)}static switchSaveChangesBtnState(e,t){ye.checkIfUserDataDiffer(e)?Le.enableSaveChangesBtn(t):Le.disableSaveChangesBtn(t)}}const Ee=Le,we=class{static updateProfileState(e){ve.login=e.login,ve.password=e.password,ve.avatar=e.avatar}static changeLoginState(e){ve.login=e}static changePasswordState(e){ve.password=e}static changeAvatarState(e){ve.avatar=e}},Ce=class{static createViewProfileData(a,n,s){const r=e.createElement(t.div,[{name:"class",value:"profile-data-wrapper"}]),l=class{static createProfileAvatar(a){const n=e.createElement(t.div,[{name:"class",value:"profile-avatar-wrapper"}]),s=X.createAvatarImage("default-avatar profile-avatar-image selected-avatar",X.createAvatarImagePath(a));return n.append(s),n}}.createProfileAvatar(a.avatar),c=ae.createInputLabel("profile-input-label profile-login-input-label",j.modalSignUpLoginInput[D.currentLang]),o=n===y.edit&&s?class{static createEditProfileLoginInput(e,t){const a=se.createLoginInput("profile-input");return a.addEventListener("input",(()=>{we.changeLoginState(a.value.trim()),Ee.switchSaveChangesBtnState(e,t)})),a}}.createEditProfileLoginInput(a,s):se.createLoginInput("profile-input",b.true),i=ae.createInputLabel("profile-input-label profile-password-input-label",j.modalSignUpPasswordInput[D.currentLang]),u=n===y.edit&&s?class{static createEditProfilePasswordInput(e,t){const a=re.createPasswordInput("profile-input profile-password-input");return a.addEventListener("input",(()=>{we.changePasswordState(a.value.trim()),Ee.switchSaveChangesBtnState(e,t)})),a}}.createEditProfilePasswordInput(a,s):re.createPasswordInput("profile-input profile-password-input",b.true),d=ce.createPasswordVisibilityBtn("password-visibility-btn profile-password-visibility-btn password-close",u);return o.value=a.login,u.value=a.password,c.append(o),i.append(u,d),r.append(l,c,i),r}},xe=class{static createBigBtn(a){const n=e.createElement(t.btn,[{name:"class",value:"big-btn"}]);return n.textContent=a,n}};var Se=function(e,t,a,n){return new(a||(a=Promise))((function(s,r){function l(e){try{o(n.next(e))}catch(e){r(e)}}function c(e){try{o(n.throw(e))}catch(e){r(e)}}function o(e){var t;e.done?s(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(l,c)}o((n=n.apply(e,t||[])).next())}))};class Te{static getLessonsQuery(e){return e.layout&&e.complexity?`layout=${e.layout}&complexity=${e.complexity}`:`layout=${e.layout}`}static getUsers(){return Se(this,void 0,void 0,(function*(){const e=yield fetch(`${Te.url}${l.users}`);return yield e.json()}))}static checkUser(e){return Se(this,void 0,void 0,(function*(){const t=yield fetch(`${Te.url}${l.users}/${e}`);return yield t.status}))}static getUser(e){return Se(this,void 0,void 0,(function*(){const t=yield fetch(`${Te.url}${l.users}/${e}`);return yield t.json()}))}static createUser(e){return Se(this,void 0,void 0,(function*(){const t=yield fetch(`${Te.url}${l.users}`,{method:c.post,headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return yield t.json()}))}static updateUser(e,t){return Se(this,void 0,void 0,(function*(){const a=yield fetch(`${Te.url}${l.users}/${e}`,{method:c.put,headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return yield a.json()}))}static deleteUser(e){return Se(this,void 0,void 0,(function*(){const t=yield fetch(`${Te.url}${l.users}/${e}`,{method:c.delete});return yield t.json()}))}static getLessons(e){return Se(this,void 0,void 0,(function*(){const t=yield fetch(`${Te.url}${l.lessons}?${Te.getLessonsQuery(e)}`);return yield t.json()}))}static createLesson(e){return Se(this,void 0,void 0,(function*(){const t=yield fetch(`${Te.url}${l.lessons}`,{method:c.post,headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return yield t.json()}))}static getLesson(e){return Se(this,void 0,void 0,(function*(){const t=yield fetch(`${Te.url}${l.lessons}/${e}`);return yield t.json()}))}static updateLesson(e,t){return Se(this,void 0,void 0,(function*(){const a=yield fetch(`${Te.url}${l.lessons}/${e}`,{method:c.put,headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return yield a.json()}))}static deleteLesson(e){return Se(this,void 0,void 0,(function*(){const t=yield fetch(`${Te.url}${l.lessons}/${e}`,{method:c.delete});return yield t.json()}))}static getTests(){return Se(this,void 0,void 0,(function*(){const e=yield fetch(`${Te.url}${l.tests}`);return yield e.json()}))}static getTest(e){return Se(this,void 0,void 0,(function*(){const t=yield fetch(`${Te.url}${l.test}?language=${e}`);return yield t.json()}))}static createTest(e){return Se(this,void 0,void 0,(function*(){const t=yield fetch(`${Te.url}${l.tests}`,{method:c.post,headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return yield t.json()}))}static updateTest(e,t){return Se(this,void 0,void 0,(function*(){const a=yield fetch(`${Te.url}${l.tests}/${e}`,{method:c.put,headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return yield a.json()}))}static deleteTest(e){return Se(this,void 0,void 0,(function*(){const t=yield fetch(`${Te.url}${l.tests}/${e}`,{method:c.delete});return yield t.json()}))}}Te.url="https://eyesup-backend.herokuapp.com/api/v1";const ke=Te,Be=class{constructor(e,t,a,n,s,r,l,c,o){this.login=e,this.password=t,this.avatar=a,this.testing=n,this.lessonsEn=s,this.lessonsRu=r,this.typingAdventure=l,this.typingHero=c,this.badges=o,this.login=e,this.password=t,this.avatar=a,this.testing=n,this.lessonsEn=s,this.lessonsRu=r,this.typingAdventure=l,this.typingHero=c,this.badges=o}},Me=class extends Be{constructor(e,t,a){super(e,t,a,f.noData,f.noData,f.noData,f.noData,f.noData,f.noData),this.login=e,this.password=t,this.avatar=a}},Ae=class{static createUser(e,t,a,n){const s=e.value.trim(),r=t.value.trim();ye.checkIfDataCorrect(s,r,a)&&ke.checkUser(s).then((e=>{if(e===v.found&&pe.showError(a,p.registration,d.existingLogin),e===v.notFound){const e=new Me(s,r,D.currentUser.avatar);ke.createUser(e).then((()=>{Q.updateUserLogin(s),F.saveState(),I.showPageScrollbar(),n()}))}}))}static authoriseUser(e,t,a,n){const s=e.value.trim(),r=t.value.trim();ye.checkIfDataEntered(s,r,a)&&ke.checkUser(s).then((e=>{e===v.notFound&&pe.showError(a,p.authorisation,d.notRegistered),e===v.found&&ke.getUser(s).then((e=>{r!==e.password?pe.showError(a,p.authorisation,d.notMatchingPassword):(Q.updateUserState(s,e.avatar),F.saveState(),I.showPageScrollbar(),n())}))}))}static logoutFromProfile(e){Q.resetUserState(),F.saveState(),I.showPageScrollbar(),e()}static changeUserData(e,t,a){const n=ye.checkIfDataCorrect(ve.login,ve.password,t),s=ye.checkIfLoginDiffer(e),r=new Be(ve.login,ve.password,ve.avatar,e.testing,e.lessonsEn,e.lessonsRu,e.typingAdventure,e.typingHero,e.badges);n&&(s?ke.checkUser(ve.login).then((n=>{n===v.found&&pe.showError(t,p.registration,d.existingLogin),n===v.notFound&&ke.updateUser(e._id,r).then((()=>{Q.updateUserState(ve.login,ve.avatar),F.saveState(),I.showPageScrollbar(),a()}))})):ke.updateUser(e._id,r).then((()=>{Q.updateUserState(ve.login,ve.avatar),F.saveState(),I.showPageScrollbar(),a()})))}},Pe=class{static changeAvatarImage(e){if(e.firstElementChild&&e.firstElementChild.firstElementChild){const t=X.createAvatarImage("default-avatar profile-avatar-image selected-avatar",X.createAvatarImagePath(ve.avatar));e.firstElementChild.removeChild(e.firstElementChild.firstElementChild),e.firstElementChild.append(t)}}static changeSelectedAvatar(e,t){Array.from(e.children).forEach((e=>{e.firstElementChild&&e.firstElementChild.classList.contains("selected-avatar")&&(e.firstElementChild.classList.remove("selected-avatar"),e.firstElementChild.classList.add("not-selected-avatar"))})),t.firstElementChild&&(t.firstElementChild.classList.remove("not-selected-avatar"),t.firstElementChild.classList.add("selected-avatar"))}},$e=class{static createAvatarBtn(a,n,s,r,l){const c=e.createElement(t.btn,[{name:"class",value:"avatar-btn"}]),o=n===ve.avatar?"avatar-btn-img default-avatar selected-avatar":"avatar-btn-img default-avatar not-selected-avatar",i=X.createAvatarImage(o,X.createAvatarImagePath(n));return c.append(i),c.addEventListener("click",(()=>{we.changeAvatarState(n),Pe.changeAvatarImage(r),Pe.changeSelectedAvatar(a,c),Ee.switchSaveChangesBtnState(s,l)})),c}},Ie=class{static showConfirmation(e){e.firstElementChild&&e.firstElementChild.classList.remove("hidden")}static hideConfirmation(e){e.firstElementChild&&e.firstElementChild.classList.add("hidden")}},Re=class{static createSubtitle(a,n){const s=e.createElement(t.h4,[{name:"class",value:a}]);return s.textContent=n,s}},De={btnYes:{en:"Yes",ru:"Да"},btnNo:{en:"No",ru:"Нет"},question:{en:"Are you sure?",ru:"Вы уверены?"},textLogout:{en:"Your future progress won't be saved.",ru:"Ваш будущий прогресс не будет сохранен."},textDelete:{en:"All your progress will be lost.",ru:"Весь ваш прогресс будет утерян."},loggedText:{en:"You are already logged in.",ru:"Вы уже авторизованы."},logoutText:{en:"You need to log out from account before creating a new one.",ru:"Необходимо выйти из аккаунта, прежде чем создать новый."},logoutBtn:{en:"Logout",ru:"Выйти"},cancelBtn:{en:"Cancel",ru:"Отмена"}},He=class{static createConfirmationText(a){const n=e.createElement(t.par,[{name:"class",value:"confirmation-text"}]);return n.textContent=a,n}},Fe=class{static createConfirmationYesBtn(){const a=e.createElement(t.par,[{name:"class",value:"confirmation-yes-btn"}]);return a.textContent=De.btnYes[D.currentLang],a}},We=class{static createConfirmationContent(a,n,s,r,l){const c=e.createElement(t.div,[{name:"class",value:n}]),o=class{static createConfirmationQuestion(){const a=e.createElement(t.par,[{name:"class",value:"confirmation-question"}]);return a.textContent=De.question[D.currentLang],a}}.createConfirmationQuestion(),i=r===L.delete?He.createConfirmationText(De.textDelete[D.currentLang]):He.createConfirmationText(De.textLogout[D.currentLang]),u=e.createElement(t.div,[{name:"class",value:"confirmation-btns-wrapper"}]),d=L.delete&&l?class{static createConfirmationDeleteAccountBtn(e,t){const a=Fe.createConfirmationYesBtn();return a.addEventListener("click",(()=>{ke.deleteUser(e._id).then((()=>{Ae.logoutFromProfile(t)}))})),a}}.createConfirmationDeleteAccountBtn(l,s):class{static createConfirmationLogoutBtn(e){const t=Fe.createConfirmationYesBtn();return t.addEventListener("click",(()=>{Ae.logoutFromProfile(e)})),t}}.createConfirmationLogoutBtn(s),p=class{static createConfirmationNoBtn(a){const n=e.createElement(t.par,[{name:"class",value:"confirmation-no-btn"}]);return n.textContent=De.btnNo[D.currentLang],n.addEventListener("click",(()=>{Ie.hideConfirmation(a)})),n}}.createConfirmationNoBtn(a);return u.append(d,p),c.append(o,i,u),c}},Ue=class{static createStatsTitle(a){const n=e.createElement(t.h5,[{name:"class",value:"profile-stats-title"}]);return n.textContent=a,n}},Oe=class{static getGameData(e){return JSON.parse(e)}static setGameData(e){return JSON.stringify(e)}},Ne=class{static createStatsSubtitle(a){const n=e.createElement(t.par,[{name:"class",value:"profile-stats-subtitle"}]);return n.textContent=a,n}},Ge=class{static getGameData(e){return JSON.parse(e)}static setGameData(e){return JSON.stringify(e)}},je=class{static getLessons(e){return JSON.parse(e)}static setLessons(e){return JSON.stringify(e)}},Ye=class{static createLayoutStats(a,n){const s=a===i.en?n.lessonsEn:n.lessonsRu,r=e.createElement(t.div,[{name:"class",value:"profile-stats-subblock"}]),l=a===i.en?Ne.createStatsSubtitle(j.lessonsEnLayoutTitle[D.currentLang]):Ne.createStatsSubtitle(j.lessonsRuLayoutTitle[D.currentLang]),c=e.createElement(t.list,[{name:"class",value:"profile-stats-list"}]),o=class{static createCompletedLessons(a,n){const s=e.createElement(t.listItem,[{name:"class",value:"profile-stats-item"}]),r=e.createElement(t.par),l=e.createElement(t.par);return ke.getLessons({layout:a}).then((e=>{const t=n===f.noData?f.noStats:[...Object.keys(je.getLessons(n))].length,a=e.length;r.textContent=j.statsLessonsCompleted[D.currentLang],l.textContent=`${t} / ${a}`,s.append(r,l)})),s}}.createCompletedLessons(a,s),u=class{static createAverageScore(a){const n=e.createElement(t.listItem,[{name:"class",value:"profile-stats-item"}]),s=e.createElement(t.par),r=e.createElement(t.par,[{name:"class",value:"profile-stats-score-wrapper"}]),l=e.createElement(t.span,[{name:"class",value:"profile-stats-score-value"}]),c=e.createElement(t.span,[{name:"class",value:"profile-stats-score-mark"}]);let o;if(a===f.noData)o=f.noStats;else{const e=[...Object.values(je.getLessons(a))].map((e=>e.lastScore)).reduce(((e,t)=>e+t),0);o=Math.ceil(e/[...Object.values(je.getLessons(a))].length)}return s.textContent=j.statsLessonsScore[D.currentLang],l.textContent=`${o}`,r.append(l,c),n.append(s,r),n}}.createAverageScore(s),d=class{static createAverageAccuracy(a){const n=e.createElement(t.listItem,[{name:"class",value:"profile-stats-item"}]),s=e.createElement(t.par),r=e.createElement(t.par);let l;if(a===f.noData)l=f.noStats;else{const e=[...Object.values(je.getLessons(a))].map((e=>e.lastAccuracy)).reduce(((e,t)=>e+t),0);l=Math.floor(e/[...Object.values(je.getLessons(a))].length)}return s.textContent=j.statsLessonsAccuracy[D.currentLang],r.textContent=`${l} %`,n.append(s,r),n}}.createAverageAccuracy(s);return c.append(o,u,d),r.append(l,c),r}},Ve=class{static getBadges(e){return JSON.parse(e)}static setBadges(e){return JSON.stringify(e)}};class ze{static createBadgeImagePath(e){return`${ze.path}badge-${e}.svg`}static createBadgeImage(a,n){return e.createElement(t.img,[{name:"class",value:a},{name:"src",value:n},{name:"alt",value:"Badge image"}])}}ze.path="./assets/images/badges/";const qe=ze,Ke={1:{en:{title:"The adventure begins!",text:"You have completed first level of Typing Adventure."},ru:{title:"Приключение начинается!",text:"Вы прошли первый уровень Typing Adventure."}},2:{en:{title:"You are a wizard!",text:"You have collected 10 spells in Typing Adventure."},ru:{title:"Вы волшебник!",text:"Вы собрали 10 заклинаний в Typing Adventure."}},3:{en:{title:"Almost there!",text:"You are halfway through Typing Adventure."},ru:{title:"Почти у цели!",text:"Вы прошли половину Typing Adventure."}},4:{en:{title:"The seeker of adventures!",text:"You have completed Typing Adventure."},ru:{title:"Искатель приключений!",text:"Вы прошли Typing Adventure."}},5:{en:{title:"The Thunder Lord!",text:"You have collected all thunder spells in Typing Adventure."},ru:{title:"Повелитель грома!",text:"Вы собрали все заклинания грома в Typing Adventure."}},6:{en:{title:"The Fire Lord!",text:"You have collected all fire spells in Typing Adventure."},ru:{title:"Повелитель огня!",text:"Вы собрали все заклинания огня в Typing Adventure."}},7:{en:{title:"The Water Lord!",text:"You have collected all water spells in Typing Adventure."},ru:{title:"Повелитель воды!",text:"Вы собрали все заклинания воды в Typing Adventure."}},8:{en:{title:"The Light Lord!",text:"You have collected all light spells in Typing Adventure."},ru:{title:"Повелитель света!",text:"Вы собрали все заклинания света в Typing Adventure."}},9:{en:{title:"The Wind Lord!",text:"You have collected all wind spells in Typing Adventure."},ru:{title:"Повелитель ветра!",text:"Вы собрали все заклинания ветра в Typing Adventure."}},10:{en:{title:"I am a hero!",text:"You have completed Typing Hero."},ru:{title:"Я - герой!",text:"Вы прошли Typing Hero."}},11:{en:{title:"I Am Legend!",text:"You have earned maximum score at each level of Typing Hero."},ru:{title:"Я - легенда!",text:"Вы заработали максимум очков в каждом уровне Typing Hero."}},12:{en:{title:"Gotta Catch 'Em All (En)!",text:"You have completed all lessons for the En layout with at least 1 star."},ru:{title:"Собери их всеx (En)!",text:"Вы завершили все уроки для En раскладки минимум на 1 звезду."}},13:{en:{title:"Gotta Catch 'Em All (Ru)!",text:"You have completed all lessons for the Ru layout with at least 1 star."},ru:{title:"Собери их всеx (Ru)!",text:"Вы завершили все уроки для Ru раскладки минимум на 1 звезду."}},14:{en:{title:"First steps (En)!",text:"You have reached typing speed of 20 wpm at the En layout."},ru:{title:"Первые шаги (En)!",text:"Вы достигли скорости печати 20 свм у на En раскладке."}},15:{en:{title:"First steps (Ru)!",text:"You have reached typing speed of 20 wpm at the Ru layout."},ru:{title:"Первые шаги (Ru)!",text:"Вы достигли скорости печати 20 свм на Ru раскладке."}},16:{en:{title:"The Typing Machine (En)!",text:"You have reached typing speed of 60 wpm at the En layout."},ru:{title:"Печатная машина (En)!",text:"Вы достигли скорости печати 60 свм на En раскладке."}},17:{en:{title:"The Typing Machine (Ru)!",text:"You have reached typing speed of 60 wpm at the Ru layout."},ru:{title:"Печатная машина (Ru)!",text:"Вы достигли скорости печати 60 свм на Ru раскладке."}},18:{en:{title:"Fast fingers (En)!",text:"You have reached typing speed of 100 wpm at the En layout."},ru:{title:"Быстрые пальцы (En)!",text:"Вы достигли скорости печати 100 свм на En раскладке."}},19:{en:{title:"Fast fingers (Ru)!",text:"You have reached typing speed of 100 wpm at the Ru layout."},ru:{title:"Быстрые пальцы (Ru)!",text:"Вы достигли скорости печати 100 свм на Ru раскладке."}},20:{en:{title:"Eyes Up!",text:"You have completed all EyesUp lessons with at least 1 star."},ru:{title:"Не опуская глаз!",text:"Вы прошли все уроки EyesUp минимум на 1 звезду."}}},_e=class{static createProfileBadgeItem(a,n){const s=e.createElement(t.listItem,[{name:"class",value:"profile-badge-item"}]),r=qe.createBadgeImage(a,qe.createBadgeImagePath(n)),l=class{static createProfileBadgeDesc(a,n){const s=e.createElement(t.div,[{name:"class",value:"profile-badge-desc"}]),r=class{static createProfileBadgeTitle(a){const n=e.createElement(t.h5,[{name:"class",value:"profile-badge-title"}]);return n.textContent=a,n}}.createProfileBadgeTitle(a),l=class{static createProfileBadgeText(a){const n=e.createElement(t.par,[{name:"class",value:"profile-badge-text"}]);return n.textContent=a,n}}.createProfileBadgeText(n);return s.append(r,l),s}}.createProfileBadgeDesc(Ke[n][D.currentLang].title,Ke[n][D.currentLang].text);return s.append(r,l),s}},Je=class{static createProfileModal(a,n){const s=e.createElement(t.div,[{name:"class",value:"profile-modal"}]);return ke.getUser(D.currentUser.login).then((r=>{const l=e.createElement(t.div,[{name:"class",value:"profile-modal-content hidden"}]),c=e.createElement(t.div,[{name:"class",value:"profile-modal-content profile-badges-modal hidden"}]),o=class{static createViewProfileModal(a,n,s,r,l){we.updateProfileState(r);const c=e.createElement(t.div,[{name:"class",value:"profile-modal-content"}]),o=Ce.createViewProfileData(r,y.view),u=e.createElement(t.div,[{name:"class",value:"logout-confirmation-wrapper"}]),d=We.createConfirmationContent(u,"logout-confirmation-content hidden",l,L.logout),p=class{static createLogoutBtn(e){const t=xe.createBigBtn(j.profileLogoutBtn[D.currentLang]);return t.classList.add("logout-btn"),t.addEventListener("click",(()=>{Ie.showConfirmation(e)})),t}}.createLogoutBtn(u),m=class{static createViewProfileHeader(a,n,s,r,l,c,o){const i=e.createElement(t.div,[{name:"class",value:"profile-header"}]),u=J.createCloseBtn("small-btn close-btn profile-btn",c),d=te.createMainTitle(j.profileTitle[D.currentLang]),p=class{static createEditProfileBtn(a,n,s,r,l,c){const o=e.createElement(t.btn,[{name:"class",value:"small-btn edit-btn profile-btn"}]);return o.textContent="Edit profile",o.addEventListener("click",(()=>{le.hidePassword(a),Ie.hideConfirmation(n),class{static createEditProfileModal(a,n,s){we.updateProfileState(n),_.clearModalContent(a);const r=class{static createEditProfileHeader(a){const n=e.createElement(t.div,[{name:"class",value:"profile-header"}]),s=class{static createCloseEditProfileBtn(a){const n=e.createElement(t.btn,[{name:"class",value:"small-btn close-btn profile-btn"}]);return n.textContent="Close button",n.addEventListener("click",(()=>{_.switchModal(a)})),n}}.createCloseEditProfileBtn(a),r=te.createMainTitle(j.profileEditTitle[D.currentLang]),l=e.createElement(t.div,[{name:"class",value:"profile-header-plag"}]);return n.append(s,r,l),n}}.createEditProfileHeader(a),l=e.createElement(t.div,[{name:"class",value:"error-block profile-error-block"}]),c=class{static createSaveChangesBtn(e,t,a){const n=xe.createBigBtn(j.profileSaveBtn[D.currentLang]);return n.classList.add("save-changes-btn"),n.setAttribute(b.true,b.true),n.addEventListener("click",(()=>{Ae.changeUserData(e,t,a)})),n}}.createSaveChangesBtn(n,l,s),o=Ce.createViewProfileData(n,y.edit,c),i=Re.createSubtitle("subtitle profile-subtitle",j.profileAvatarsTitle[D.currentLang]),u=class{static createProfileAvatars(a,n,s){const r=e.createElement(t.div,[{name:"class",value:"profile-avatars-wrapper"}]);for(let e=h.default;e<=h.amount;e+=1){const t=$e.createAvatarBtn(r,e,a,n,s);r.append(t)}return r}}.createProfileAvatars(n,o,c),d=e.createElement(t.div,[{name:"class",value:"delete-account-confirmation-wrapper"}]),p=We.createConfirmationContent(d,"delete-account-confirmation-content hidden",s,L.delete,n),m=class{static createDeleteAccountBtn(a){const n=e.createElement(t.btn,[{name:"class",value:"simple-account-btn"}]);return n.textContent=j.profileDeleteBtn[D.currentLang],n.addEventListener("click",(()=>{Ie.showConfirmation(a)})),n}}.createDeleteAccountBtn(d);d.append(p,m),a.append(r,o,l,i,u,d,c)}}.createEditProfileModal(s,r,l),_.switchModal(c)})),o}}.createEditProfileBtn(a,n,s,r,l,o);return i.append(u,d,p),i}}.createViewProfileHeader(o,u,a,r,l,s,c),g=Re.createSubtitle("subtitle profile-subtitle",j.statsTitle[D.currentLang]),v=class{static createProfileStats(a){const n=e.createElement(t.div,[{name:"class",value:"profile-stats-wrapper"}]),s=class{static createLessonsStats(a){const n=e.createElement(t.div,[{name:"class",value:"profile-stats-block"}]),s=Ue.createStatsTitle(j.lessonsTitle[D.currentLang]),r=Ye.createLayoutStats(i.en,a),l=Ye.createLayoutStats(i.ru,a);return n.append(s,r,l),n}}.createLessonsStats(a),r=class{static createGamesStats(a){const n=e.createElement(t.div,[{name:"class",value:"profile-stats-block"}]),s=Ue.createStatsTitle(j.gamesTitle[D.currentLang]),r=class{static createTypingAdventureStats(a){const n=a.typingAdventure,s=e.createElement(t.div,[{name:"class",value:"profile-stats-subblock"}]),r=Ne.createStatsSubtitle(j.gameOneTitle[D.currentLang]),l=e.createElement(t.list,[{name:"class",value:"profile-stats-list"}]),c=class{static createReachedLevel(a){const n=e.createElement(t.listItem,[{name:"class",value:"profile-stats-item"}]),s=e.createElement(t.par),r=e.createElement(t.par),l=a===f.noData?f.noStats:Oe.getGameData(a).userLvl;return s.textContent=j.statsReachedLevel[D.currentLang],r.textContent=`${l} / ${M.levels}`,n.append(s,r),n}}.createReachedLevel(n),o=class{static createCollectedSpells(a){const n=e.createElement(t.listItem,[{name:"class",value:"profile-stats-item"}]),s=e.createElement(t.par),r=e.createElement(t.par),l=a===f.noData?f.noStats:Oe.getGameData(a).userSpells.length;return s.textContent=j.statsCollectedSpells[D.currentLang],r.textContent=`${l} / ${M.spells}`,n.append(s,r),n}}.createCollectedSpells(n),i=class{static createEncounteredBeasts(a){const n=e.createElement(t.listItem,[{name:"class",value:"profile-stats-item"}]),s=e.createElement(t.par),r=e.createElement(t.par),l=a===f.noData?f.noStats:Oe.getGameData(a).uniqueBeasts;return s.textContent=j.statsEncounteredBeasts[D.currentLang],r.textContent=`${l} / ${M.beasts}`,n.append(s,r),n}}.createEncounteredBeasts(n);return l.append(c,o,i),s.append(r,l),s}}.createTypingAdventureStats(a),l=class{static createTypingHeroStats(a){const n=a.typingHero,s=e.createElement(t.div,[{name:"class",value:"profile-stats-subblock"}]),r=Ne.createStatsSubtitle(j.gameTwoTitle[D.currentLang]),l=e.createElement(t.list,[{name:"class",value:"profile-stats-list"}]),c=class{static createCompletedLevels(a){const n=e.createElement(t.listItem,[{name:"class",value:"profile-stats-item"}]),s=e.createElement(t.par),r=e.createElement(t.par),l=a===f.noData?f.noStats:Ge.getGameData(a).levelsDone;return s.textContent=j.statsCompletedLevels[D.currentLang],r.textContent=`${l} / ${A.levels}`,n.append(s,r),n}}.createCompletedLevels(n),o=class{static createBestScore(a){const n=e.createElement(t.listItem,[{name:"class",value:"profile-stats-item"}]),s=e.createElement(t.par),r=e.createElement(t.par),l=a===f.noData?f.noStats:Ge.getGameData(a).bestScore;return s.textContent=j.statsBestScore[D.currentLang],r.textContent=`${l} / ${A.score}`,n.append(s,r),n}}.createBestScore(n),i=class{static createBestAccuracy(a){const n=e.createElement(t.listItem,[{name:"class",value:"profile-stats-item"}]),s=e.createElement(t.par),r=e.createElement(t.par),l=a===f.noData?f.noStats:Ge.getGameData(a).bestAccuracy;return s.textContent=j.statsBestAccuracy[D.currentLang],r.textContent=`${l} %`,n.append(s,r),n}}.createBestAccuracy(n);return l.append(c,o,i),s.append(r,l),s}}.createTypingHeroStats(a);return n.append(s,r,l),n}}.createGamesStats(a);return n.append(s,r),n}}.createProfileStats(r),E=class{static createProfileBadgesTitle(a,n,s,r,l){const c=e.createElement(t.div,[{name:"class",value:"profile-badges-title"}]),o=Re.createSubtitle("subtitle profile-subtitle",j.profileBadgesTitle[D.currentLang]),i=class{static createAllBadgesBtn(a,n,s,r,l){const c=e.createElement(t.btn,[{name:"class",value:"simple-account-btn"}]);return c.textContent=j.profileBadgesLink[D.currentLang],c.addEventListener("click",(()=>{le.hidePassword(a),Ie.hideConfirmation(n),class{static createProfileBadgesModal(a,n,s){_.clearModalContent(a);const r=class{static createBadgesProfileHeader(a,n){const s=e.createElement(t.div,[{name:"class",value:"profile-header"}]),r=class{static createProfileBadgesCloseBtn(a,n){const s=e.createElement(t.btn,[{name:"class",value:"small-btn close-btn profile-btn"}]);return s.textContent="Close button",s.addEventListener("click",(()=>{_.showModal(n),_.hideModal(a)})),s}}.createProfileBadgesCloseBtn(a,n),l=te.createMainTitle(j.badgesTitle[D.currentLang]),c=e.createElement(t.div,[{name:"class",value:"profile-header-plag"}]);return s.append(r,l,c),s}}.createBadgesProfileHeader(a,n),l=class{static createProfileBadgesList(a){const n=a.badges===f.noData?f.noData:Ve.getBadges(a.badges),s=[...Object.keys(Ke)],r=e.createElement(t.list,[{name:"class",value:"profile-badges-list"}]);for(let e=0;e<s.length;e+=1){if(n===f.noData){const t=_e.createProfileBadgeItem("all-badges-image not-earned-badge",s[e]);r.append(t)}if(n!==f.noData){if(!n.includes(parseInt(s[e],10))){const t=_e.createProfileBadgeItem("all-badges-image not-earned-badge",s[e]);r.append(t)}if(n.includes(parseInt(s[e],10))){const t=_e.createProfileBadgeItem("all-badges-image",s[e]);r.append(t)}}}return r}}.createProfileBadgesList(s);return a.append(r,l),a}}.createProfileBadgesModal(s,r,l),_.showModal(s),_.hideModal(r)})),c}}.createAllBadgesBtn(a,n,s,r,l);return c.append(o,i),c}}.createProfileBadgesTitle(o,u,n,c,r),w=class{static createProfileEarnedBadges(a){const n=a.badges===f.noData?f.noData:Ve.getBadges(a.badges),s=[...Object.keys(Ke)],r=e.createElement(t.div,[{name:"class",value:"profile-earned-badges"}]);if(n===f.noData)for(let e=0;e<5;e+=1){const t=qe.createBadgeImage("earned-badges-image not-earned-badge",qe.createBadgeImagePath(s[e]));r.append(t)}if(n!==f.noData){if(5===n.length)for(let e=0;e<5;e+=1){const t=qe.createBadgeImage("earned-badges-image",qe.createBadgeImagePath(`${n[e]}`));r.append(t)}if(n.length>5)for(let e=n.length-5;e<n.length;e+=1){const t=qe.createBadgeImage("earned-badges-image",qe.createBadgeImagePath(`${n[e]}`));r.append(t)}if(n.length<5){for(let e=0;e<n.length;e+=1){const t=qe.createBadgeImage("earned-badges-image",qe.createBadgeImagePath(`${n[e]}`));r.append(t)}for(let e=0;e<5-n.length;e+=1){const t=qe.createBadgeImage("earned-badges-image not-earned-badge",qe.createBadgeImagePath(s[e]));r.append(t)}}}return r}}.createProfileEarnedBadges(r);return u.append(d,p),c.append(m,o,g,v,E,w,u),c}}.createViewProfileModal(l,c,a,r,n);s.append(o,l,c)})),s}};class Qe{static createProfileBtn(a,n,s,r){const l=e.createElement(t.btn,[{name:"class",value:a}]),c=X.createAvatarImage(n,s),o=e.createElement(t.par,[{name:"class",value:r}]);return o.textContent=j.profileTitle[D.currentLang],l.append(c,o),l}static createHeaderProfileBtn(e){const t=Qe.createProfileBtn("header-profile-btn","default-avatar header-profile-avatar",X.createAvatarImagePath(D.currentUser.avatar),"header-profile-text");return t.addEventListener("click",(()=>{_.openModal(ee.createModalWrapper(Je.createProfileModal,e))})),t}static createBurgerMenuProfileBtn(e,t,a){const n=Qe.createProfileBtn("burger-menu-profile-btn","default-avatar burger-menu-profile-avatar selected-avatar",X.createAvatarImagePath(D.currentUser.avatar),"burger-menu-profile-text");return n.addEventListener("click",(()=>{_.changeModal(e,t,a)})),n}}const Ze=Qe,Xe=class{static createRegistrationModalContent(a,n,s,r,l,c){const o=e.createElement(t.div,[{name:"class",value:a}]),i=te.createMainTitle(n),u=class{static createRegistrationDataWrapper(a,n){const s=e.createElement(t.div),r=e.createElement(t.div,[{name:"class",value:"registration-inputs-wrapper"}]),l=ae.createInputLabel("registration-input-label base-text",j.modalSignUpLoginInput[D.currentLang]),c=se.createLoginInput("registration-input"),o=ae.createInputLabel("registration-input-label base-text",j.modalSignUpPasswordInput[D.currentLang]),i=re.createPasswordInput("registration-input registration-password-input"),u=ce.createPasswordVisibilityBtn("password-visibility-btn registration-password-visibility-btn password-close",i),d=e.createElement(t.div,[{name:"class",value:"error-block registration-error-block"}]),p=a(c,i,d,n);return l.append(c),o.append(i,u),r.append(l,o,d),s.append(r,p),s}}.createRegistrationDataWrapper(l,c),d=class{static createRegistrationSwitchBtn(a,n,s){const r=e.createElement(t.btn,[{name:"class",value:"registration-switch-btn"}]),l=e.createElement(t.par,[{name:"class",value:"registration-switch-text"}]),c=e.createElement(t.par,[{name:"class",value:"registration-switch-action"}]);return l.textContent=a,c.textContent=n,r.append(l,c),r.addEventListener("click",(()=>{_.switchModal(s)})),r}}.createRegistrationSwitchBtn(s,r,o);return o.append(i,u,d),o}},et=class{static createRegistrationModal(a,n){const s=e.createElement(t.div,[{name:"class",value:"registration-modal"}]),r=J.createCloseBtn("small-btn close-btn registration-close-btn",a),l=Xe.createRegistrationModalContent("registration-modal-content",j.modalSignUpTitle[D.currentLang],j.modalSignUpText[D.currentLang],j.modalSignUpLink[D.currentLang],class{static createSignUpBtn(a,n,s,r){const l=e.createElement(t.btn,[{name:"class",value:"big-btn"}]);return l.textContent=j.modalSignUpTitle[D.currentLang],l.addEventListener("click",(()=>{Ae.createUser(a,n,s,r)})),l}}.createSignUpBtn,n),c=Xe.createRegistrationModalContent("registration-modal-content hidden",j.modalLogInTitle[D.currentLang],j.modalLogInText[D.currentLang],j.modalLogInLink[D.currentLang],class{static createLogInBtn(a,n,s,r){const l=e.createElement(t.btn,[{name:"class",value:"big-btn"}]);return l.textContent=j.modalLogInTitle[D.currentLang],l.addEventListener("click",(()=>{Ae.authoriseUser(a,n,s,r)})),l}}.createLogInBtn,n);return s.append(r,l,c),s}};class tt{static createRegistrationBtn(){return V.createSmallBtn("small-btn small-btn-bg registration-btn",j.headerSignUpBtn[D.currentLang])}static createHeaderRegistrationBtn(e){const t=tt.createRegistrationBtn();return t.addEventListener("click",(()=>{_.openModal(ee.createModalWrapper(et.createRegistrationModal,e))})),t}static createBurgerMenuRegistrationBtn(e,t,a){const n=tt.createRegistrationBtn();return n.addEventListener("click",(()=>{_.changeModal(e,t,a)})),n}}const at=tt,nt="https://rs.school/js",st="https://github.com/IDemidova/rs-clone/pull/38",rt="https://www.typingclub.com",lt="https://spectrumui.gumroad.com",ct="https://dribbble.com/alzea/shots",ot="https://ru.freepik.com/author/upklyak",it={Oxana:{name:"Oxana",nickname:"oxanacode",gitHubLink:"https://github.com/oxanacode",avatar:"./assets/images/developers/oxana.svg"},Nikita:{name:"Nikita",nickname:"ReWired25",gitHubLink:"https://github.com/ReWired25",avatar:"./assets/images/developers/nikita.svg"},Irina:{name:"Irina",nickname:"IDemidova",gitHubLink:"https://github.com/IDemidova",avatar:"./assets/images/developers/irina.svg"}};class ut{static createRssCopyWrapper(){const a=e.createElement(t.div,[{name:"class",value:"rsslink-copy-wrapper"}]),n=class{static CreateRssLink(){const a=e.createElement(t.link,[{name:"class",value:"rss-link"},{name:"href",value:nt},{name:"target",value:"_blank"}]),n=e.createElement(t.par,[{name:"class",value:"rss-logo-text"}]);return n.textContent="RS logo",a.append(n),a}}.CreateRssLink(),s=class{static createCopy(){const a=e.createElement(t.par,[{name:"class",value:"copy"}]);return a.textContent="© 2022 EyesUP",a}}.createCopy();return a.append(n,s),a}static createGithubsWrapper(){const a=e.createElement(t.div,[{name:"class",value:"github-links-wrapper"}]);return a.append(...class{static createGithubLinks(){return[{link:it.Irina.gitHubLink,name:it.Irina.nickname},{link:it.Nikita.gitHubLink,name:it.Nikita.nickname},{link:it.Oxana.gitHubLink,name:it.Oxana.nickname}].map((a=>{const n=e.createElement(t.link,[{name:"class",value:"dev-link"},{name:"href",value:a.link},{name:"target",value:"_blank"}]);return n.textContent=a.name,n}))}}.createGithubLinks()),a}static createContentWrapper(){const a=e.createElement(t.div,[{name:"class",value:"footer-wrapper"}]),n=ut.createRssCopyWrapper(),s=ut.createGithubsWrapper();return a.append(n,s),a}}const dt=ut,pt=class{static createHomeSection(a,n,s){const r=e.createElement(t.section,[{name:"class",value:`home-${a}`}]),l=te.createMainTitle(n),c=e.createElement(t.par,[{name:"class",value:"home-text"}]),o=e.createElement(t.div,[{name:"class",value:`home-${a}-bg`}]),i=e.createElement(t.div,[{name:"class",value:`home-${a}-content`}]);return l.textContent=n,c.textContent=s,i.append(l,c),r.append(i,o),r}},mt=[{en:"According to Cornwell University and the University of British Columbia, the ideal typing posture is such that the keyboard is below your elbow height when seated, with your wrists straight and not planted on the surface of the desk.",ru:"По данным Корнуэллского университета и Университета Британской Колумбии, идеальной считается поза, при которой клавиатура находится ниже уровня локтя, когда вы сидите, а ваши запястья прямые и не касаются поверхности стола."},{en:"On a QWERTY keyboard, “stewardesses” is the longest 12 letter word that can be typed with the left hand and “polyphony” for the right.",ru:"На QWERTY-клавиатуре «stewardesses» — самое длинное слово из 12 букв, которое можно набрать левой рукой, а «polyphony» — правой."},{en:"The space bar is the most used key on the keyboard.  Every second, the spacebar on keyboards around the world are hit about six million times.",ru:"Пробел — самая часто используемая клавиша на клавиатуре. Каждую секунду пробел на клавиатурах по всему миру нажимается около шести миллионов раз."},{en:"CTRL ALT DEL is a famous shortcut to close a programme on your computer or shut down. This idea came from David Bradley at IBM to avoid accidental shut down when typing.",ru:"CTRL ALT DEL — известный шорткат для закрытия программы на компьютере или завершения работы. Эта идея (которая принадлежит Дэвиду Брэдли из IBM) помогла избежать случайного отключения при наборе текста."},{en:"Print Screen often abbreviated PrtScr or PrntScrn. It's original purpose was to capture the screen and print it on paper. Today it's used to capture the screen and save it to clipboard.",ru:"Print Screen часто обозначается аббревиатурой PrtScr или PrntScrn. Первоначальная цель заключалась в том, чтобы захватить экран и распечатать его на бумаге. Сегодня он используется для захвата экрана и сохранения его в буфер обмена."}];class gt{static getRandomFact(){const e=Math.floor(Math.random()*mt.length);return mt[e][D.currentLang]}static createLessonsTest(){const a=e.createElement(t.section,[{name:"class",value:"layout-fact"}]),n=e.createElement(t.div,[{name:"class",value:"fact-bg"}]),s=e.createElement(t.par,[{name:"class",value:"base-text fact-text"}]);return s.textContent=gt.getRandomFact(),a.append(n,s),a}}const vt=gt,ht=class{static createSectionBtn(a,n){const s=e.createElement(t.btn,[{name:"class",value:`${a}-btn section-btn`}]),r=class{static createSectionTitle(a){const n=e.createElement(t.h4,[{name:"class",value:"section-title"}]);return n.textContent=a,n}}.createSectionTitle(n),l=e.createElement(t.div,[{name:"class",value:`${a}-bg section-btn-bg`}]);return s.append(r,l),s}},bt=class{static createLayoutBtn(e,t,a){const s=ht.createSectionBtn(`layout-${a}`,e);return s.addEventListener("click",(()=>{D.currentLayout=a,N.applyPage(n.lessons,t)})),s}},ft=class{static createGameDesc(a){const n=e.createElement(t.par,[{name:"class",value:"base-text game-desc-text"}]);return n.textContent=a,n}},yt=class{static createGameSection(a,s,r,l,c){const o=class{static createGameSectionBtn(e,t,a,s){const r=ht.createSectionBtn(e,t);return a===n.gameOne?r.addEventListener("click",(()=>{N.applyPage(n.gameOne,s)})):a===n.gameTwo&&r.addEventListener("click",(()=>{N.applyPage(n.gameTwo,s)})),r}}.createGameSectionBtn(s,j[`${r}Title`][D.currentLang],l,c),i=e.createElement(t.section,[{name:"class",value:`${s}-desc`}]),u=ft.createGameDesc(j[`${r}DescFirst`][D.currentLang]),d=ft.createGameDesc(j[`${r}DescSecond`][D.currentLang]),p=ft.createGameDesc(j[`${r}DescThird`][D.currentLang]);i.append(u,d,p),a.append(o,i)}},Lt=class{static createFilterBtn(a,s,r){const l=e.createElement(t.btn,[{name:"class",value:"filter-btn"}]);return r?l.classList.add(`filter-btn-${r}`):l.classList.add("filter-btn-all"),D.currentComplexity===r&&l.classList.add("active-filter"),l.textContent=a,l.addEventListener("click",(()=>{D.currentComplexity=r||void 0,N.applyPage(n.lessons,s)})),l}};class Et{static clearState(){Et.lessonsNumber=0,Et.inputIndex=0,Et.mistakes=[],Et.historyMistakes=[],Et.typing=!1,Et.checkTime=0,Et.typedChars=0,Et.lineHeight=S.normal}}Et.lessonsNumber=0,Et.lessonsId=[],Et.inputIndex=0,Et.mistakes=[],Et.historyMistakes=[],Et.typing=!1,Et.checkTime=0,Et.typedChars=0,Et.lineHeight=S.normal;const wt=Et,Ct=class{static getAllLessons(e){return e.lessonsEn!==f.noData&&D.currentLayout===i.en?je.getLessons(e.lessonsEn):e.lessonsRu!==f.noData&&D.currentLayout===i.ru?je.getLessons(e.lessonsRu):{}}},xt=class{static createLessonsList(a,s){const r=e.createElement(t.div,[{name:"class",value:"lessons-list"}]);return wt.lessonsId=[],r.append(...a.map(((a,r)=>(wt.lessonsId.push(a._id),class{static createLessonBtn(a,s,r){const l=e.createElement(t.btn,[{name:"class",value:"lesson-btn"}]),c=e.createElement(t.div,[{name:"class",value:"lesson-btn-top"}]),o=e.createElement(t.div,[{name:"class",value:`lesson-btn-index lesson-index-${a.complexity}`}]),i=e.createElement(t.div,[{name:"class",value:"lesson-btn-stars"}]);if(Q.checkIfUserAuthorised()){const n=Ct.getAllLessons(wt.user);if(0!==Object.keys(n).length&&n[a.index]){const s=n[a.index].lastScore;if(5-s)for(let a=0;a<5-s;a+=1){const a=e.createElement(t.div,[{name:"class",value:"lesson-btn-star-empty"}]);i.append(a)}for(let a=0;a<s;a+=1){const a=e.createElement(t.div,[{name:"class",value:"lesson-btn-star"}]);i.append(a)}}}const u=e.createElement(t.div,[{name:"class",value:`lesson-btn-bg lesson-bg-${a.complexity}`}]),d=e.createElement(t.h5,[{name:"class",value:"lesson-btn-title"}]);return o.textContent=`${s+1}`,d.textContent=a.title,c.append(o,i),l.append(c,u,d),l.addEventListener("click",(()=>{wt.lessonData=a,N.applyPage(n.lesson,r)})),l}}.createLessonBtn(a,r,s))))),r}},St=class{static createEmptyUser(){const e="noData";return{_id:e,__v:0,login:e,password:e,avatar:1,testing:e,lessonsEn:e,lessonsRu:e,typingAdventure:e,typingHero:e,badges:e}}};class Tt{static clearState(){Tt.user=St.createEmptyUser(),Tt.inputIndex=0,Tt.mistakes=[],Tt.historyMistakes=[],Tt.typing=!1,Tt.checkTime=0,Tt.typedChars=0}}Tt.lang=s.en,Tt.inputIndex=0,Tt.mistakes=[],Tt.historyMistakes=[],Tt.typing=!1,Tt.checkTime=0,Tt.typedChars=0,Tt.lineHeight=S.normal;const kt=Tt,Bt=class{static getTesting(e){return JSON.parse(e)}static setTesting(e){return JSON.stringify(e)}};class Mt{static updateLastResult(){const e={lastSpeed:kt.speed,lastAccuracy:kt.accuracy},t=new Be(kt.user.login,kt.user.password,kt.user.avatar,Bt.setTesting(e),kt.user.lessonsEn,kt.user.lessonsRu,kt.user.typingAdventure,kt.user.typingHero,kt.user.badges);ke.updateUser(kt.user._id,t)}static createTestResult(){const a=e.createElement(t.div,[{name:"class",value:"test-result-ribbon"}]),n=e.createElement(t.par,[{name:"class",value:"result-ribbon-text"}]),s=e.createElement(t.span,[{name:"class",value:"result-ribbon-speed"}]),r=e.createElement(t.span,[{name:"class",value:"result-ribbon-accuracy"}]);return n.textContent=j.testResultText[D.currentLang],s.textContent=`${j.testWpmText[D.currentLang]} ${kt.speed}${j.testWpmSub[D.currentLang]},`,r.textContent=`${j.testAccuracyText[D.currentLang]} ${Math.floor(kt.accuracy)}%`,a.append(n,s,r),a}static showTestResult(){Q.checkIfUserAuthorised()&&Mt.updateLastResult(),kt.page.append(Mt.createTestResult())}}const At=Mt;class Pt{static getTime(){return((new Date).valueOf()-kt.startTime.valueOf())/1e3}static startTimer(){kt.startTime=new Date;const e=setInterval((()=>{Pt.stopTimer?clearInterval(e):Pt.getWpm(),kt.checkTime=Pt.getTime();const t=+kt.timeCount.textContent;t&&!Pt.stopTimer&&(kt.timeCount.textContent=""+(t-1)),kt.checkTime>=Pt.minute&&!Pt.stopTimer&&(Pt.stopTimer=!0,At.showTestResult())}),1e3)}static getWpm(){const e=kt.lang===s.en?6:8,t=Math.floor(kt.inputIndex/e*Pt.minute/Pt.getTime());kt.speed=t||0,kt.wpmCount.textContent=`${kt.speed} ${j.testWpmSub[D.currentLang]}`}}Pt.minute=60,Pt.stopTimer=!1;const $t=Pt;class It{static getTime(){return((new Date).valueOf()-wt.startTime.valueOf())/1e3}static startTimer(){wt.startTime=new Date;const e=setInterval((()=>{It.stopTimer?clearInterval(e):It.getWpm(),wt.checkTime=It.getTime()}),500)}static getWpm(){const e=D.currentLayout===i.en?6:8,t=Math.floor(wt.inputIndex/e*60/It.getTime());wt.speed=t||0,wt.wpmCount.textContent=`${wt.speed} ${j.testWpmSub[D.currentLang]}`}}It.stopTimer=!1;const Rt=It,Dt=class{static createBackBtn(a,s){const r=e.createElement(t.btn,[{name:"class",value:"back-btn"}]);return r.textContent=j.backBtn[D.currentLang],r.addEventListener("click",(()=>{D.currentPage===n.test&&(kt.clearState(),$t.stopTimer=!0),D.currentPage===n.lesson&&(wt.clearState(),wt.lessonsId=[],Rt.stopTimer=!0),D.currentPage===n.lessons&&(D.currentComplexity=void 0),N.applyPage(a,s)})),r}},Ht=class{static createLessonsMain(a){const s=Dt.createBackBtn(n.layout,a),r=e.createElement(t.main,[{name:"class",value:"lessons"}]),l=e.createElement(t.div,[{name:"class",value:"lessons-top"}]),c=te.createMainTitle(j.lessonsTitle[D.currentLang]),i=class{static createLessonsFilters(a,n){const s=e.createElement(t.div,[{name:"class",value:"lessons-filters"}]),r=Lt.createFilterBtn(j.lessonsFilterAll[D.currentLang],n),l=Lt.createFilterBtn(j.lessonsFilterBasic[D.currentLang],n,o.easy),c=Lt.createFilterBtn(j.lessonsFilterIntermediate[D.currentLang],n,o.medium),i=Lt.createFilterBtn(j.lessonsFilterAdvanced[D.currentLang],n,o.hard);return s.append(r,l,c,i),s}}.createLessonsFilters(D.currentLayout,a),u=D.currentLayout,d=D.currentComplexity;return c.classList.add("lessons-title"),l.append(c,i),r.append(s,l),Q.checkIfUserAuthorised()?ke.getUser(D.currentUser.login).then((e=>{wt.user=e,ke.getLessons({layout:u,complexity:d}).then((e=>{r.append(xt.createLessonsList(e,a)),wt.lessonsNumber=e.length}))})):(wt.user=St.createEmptyUser(),ke.getLessons({layout:u,complexity:d}).then((e=>{r.append(xt.createLessonsList(e,a)),wt.lessonsNumber=e.length}))),r}},Ft=class{static createTestLangBtn(a,s){const r=e.createElement(t.btn,[{name:"class",value:"test-lang-btn"}]);return a===kt.lang&&r.classList.add("active-test-lang"),r.textContent=a,r.addEventListener("click",(()=>{kt.lang=a,kt.clearState(),$t.stopTimer=!0,N.applyPage(n.test,s)})),r}};class Wt{static getCorrections(){return Math.floor(kt.historyMistakes.length-kt.mistakes.length)}static getAccuracy(){const e=kt.typedChars+1-kt.mistakes.length,t=kt.historyMistakes.length-kt.mistakes.length,a=Math.floor((e-t/2)/(kt.typedChars+1)*100);return kt.accuracy=a,a}static checkMatch(e){if(kt.testChars[kt.inputIndex].textContent===e)if(kt.historyMistakes.includes(kt.inputIndex)){kt.testChars[kt.inputIndex].classList.add("correction");const e=kt.mistakes.indexOf(kt.inputIndex);e>-1&&kt.mistakes.splice(e,1)}else kt.testChars[kt.inputIndex].classList.add("correct");else kt.mistakes.includes(kt.inputIndex)||kt.mistakes.push(kt.inputIndex),kt.historyMistakes.includes(kt.inputIndex)||kt.historyMistakes.push(kt.inputIndex),kt.testChars[kt.inputIndex].classList.add("incorrect")}static createTestInput(){const a=e.createElement(t.input,[{name:"class",value:"test-input"},{name:"autocomplete",value:"off"}]);return a.addEventListener("input",(()=>{if(kt.inputIndex<=kt.testChars.length-1&&kt.testChars[kt.inputIndex].classList.remove("active-char"),kt.inputIndex>kt.testChars.length-1||"0"===kt.timeCount.textContent)return;(class{static adjust(){const e=kt.testChars[kt.inputIndex].getBoundingClientRect().top,t=kt.testChars[kt.inputIndex].getBoundingClientRect().bottom,a=kt.charsWrapper.getBoundingClientRect().top,n=kt.contentWrapper.getBoundingClientRect().top,s=kt.contentWrapper.getBoundingClientRect().bottom,r=kt.lineHeight;if(t>s-r){const e=parseInt(kt.charsWrapper.style.marginTop||"0px",10);kt.charsWrapper.style.marginTop=e-r+"px"}if(e<n+r&&a<n){const e=parseInt(kt.charsWrapper.style.marginTop||"0px",10);kt.charsWrapper.style.marginTop=`${e+r}px`}}}).adjust(),0===kt.inputIndex&&(kt.ribbon.style.top="-5rem"),kt.typedChars=kt.typedChars>kt.inputIndex?kt.typedChars:kt.inputIndex;const e=a.value.split("")[kt.inputIndex];if(kt.typing||($t.stopTimer=!1,kt.typing=!0,$t.startTimer()),null==e)return kt.inputIndex&&(kt.inputIndex-=1),kt.testChars[kt.inputIndex].classList.add("active-char"),void kt.testChars[kt.inputIndex].classList.remove("correct","incorrect","correction");Wt.checkMatch(e),kt.correctionsCount.textContent=`${Math.floor(Wt.getCorrections())}`,kt.accuracyCount.textContent=`${Math.floor(Wt.getAccuracy())} %`,kt.mistakesCount.textContent=`${kt.mistakes.length}`,kt.inputIndex===kt.testChars.length-1&&($t.stopTimer=!0,At.showTestResult()),kt.inputIndex+=1,kt.inputIndex<kt.testChars.length&&kt.testChars[kt.inputIndex].classList.add("active-char")})),a}}const Ut=Wt;class Ot{static createTestLastResult(){const a=e.createElement(t.div,[{name:"class",value:"test-result-last"}]),n=e.createElement(t.par,[{name:"class",value:"result-last-text"}]),s=e.createElement(t.span,[{name:"class",value:"result-last-speed"}]),r=e.createElement(t.span,[{name:"class",value:"result-last-accuracy"}]);let l=0,c=0;return ke.getUser(D.currentUser.login).then((e=>{if(kt.user=e,e.testing!==f.noData){const t=Bt.getTesting(e.testing);l=t.lastSpeed,c=t.lastAccuracy}s.textContent=`${j.testWpmText[D.currentLang]} ${l}${j.testWpmSub[D.currentLang]},`,r.textContent=`${j.testAccuracyText[D.currentLang]} ${c}%`})),n.textContent=j.testLastResultText[D.currentLang],a.append(n,s,r),a}}Ot.visible=!1;const Nt=Ot,Gt=e,jt=D,Yt={lvl:"Level",beastTitle:["cave beast","swamp beast","sand beast","stone beast","forest beast","cloud monster","waterfall monster","lava monster","tornado monster"],layoutButton:"Back",resetButton:"Reset score",resetModalInfo:"Are you sure you want to reset the game progress and start over?",preparation:"Get ready!",yourMove:"Your move!",beastMove:"Beast move!",resistMessage:"\nresist!",resultNewLvl:"Level has been increased!\nNew beast on the map!",resultFinalLvl:"Congratulations!\nYou completed the game!",winnerHero:"You won!",winnerBeast:"Beast won!",lowStrengthMessage:"You stronger!",toMap:"Back to map",welcomeModalTitle:"Welcome to the Typing Adventure!",welcomeModalMessage:"Defeat the strongest monsters of Typiria to win the crown and the title of fast typing professional!\nThe monsters have gone berserk and are not going to calm down! Luckily, elemental magic comes to your rescue!",welcomeModalWarning:"Please register to save your progress!",welcomeModalToLayoutBtn:"Back to site",welcomeModalСontinue:"Continue",startModalParagOne:"Before you is a game map on which various monsters appear. With each new level, your strength increases, and a new monster appears on the map.",startModalParagTwo:"Select a monster to enter the playing field. To defeat an opponent, you need to enter the names of magic spells that appear in the top plate of the playing field. You learn an enchantment: once cast, it is transferred to your collection.\nEnchantments of various elements are available in the game: fire, water, light, wind and thunder.",startModalParagThree:"Monsters are able to attack in different ways: magical or physical attacks.\nThe monster's magic attack is much stronger, but it can be repelled.\nMoreover, in addition to monsters, monsters that have protection from certain elements may also appear, be careful with them!",startModalParagFour:"If this is your first game, carefully read the hints on the playing field.",startModalParagFive:"Collect enchantments, win and get in-game achievements!\nGood luck!",startModalButton:"Start the game",gameInfoTitle:"Statistics",gameInfoLvl:"Your Level",gameInfoHeroSpells:"Your Spells",gameInfoNullSpells:"You are on your way to learning!",gameInfoAllSpells:"Game Spells",gameInfoButton:"Back to game",fieldTutorialModalParagOne:"You are on the Typing Adventure game field!",fieldTutorialModalParagTwo:"Check out a little hint guide before you start playing.",fieldTutorialModalParagThree:"Attention!\nFor the correct input of spells, the selected language in the system must match the language of the application!",fieldTutorialModalParagButtonStart:"Hints",fieldTutorialModalParagButtonEsc:"Skip",fieldTutorialHintOne:"The hero and the monster alternate moves, each move preceded by a preparation stage.\nDuring preparation, it is noted whose turn it will be, what spells are available in the cloud, or what attack the monster will have.",fieldTutorialHintTwo:"Spells appear randomly in the spell cloud and can be used by typing the name of the spell.\nMulti-word spells must be entered with spaces.\nIf the spell is new for your hero, after use it goes into the hero's collection.",fieldTutorialHintThree:"Here you can find a collection of hero spells. You can use both spells from the cloud and spells from the collection.\nThe principle of use is the same: you need to type the name of the spell.",fieldTutorialHintFour:'The monster can attack with both physics and magic. The magic attack is much stronger, but you can defend yourself by typing "resist" during the monster\'s turn with a magic attack. If successful, you will see the word "resist" appear in the action field.',fieldTutorialHintFive:"That's it, everything is quite simple, once again check that the layout in the system matches the selected language in the application, and go!",fieldTutorialButtonNext:"Next",fieldTutorialButtonDone:"Get started",achievementTitle:"New achievement!"},Vt={lvl:"Уровень",beastTitle:["пещерное чудище","болотное чудище","песчанное чудище","каменное чудище","лесное чудище","облачный монстр","водопадный монстр","лавовый монстр","ураганный монстр"],layoutButton:"Назад",resetButton:"Сброс",resetModalInfo:"Вы действительно хотите сбросить прогресс игры и начать заново?",preparation:"Подготовка!",yourMove:"Ваш ход!",beastMove:"Ход Монстра!",resistMessage:"\nзащита!",resultNewLvl:"Повышение уровня!\nНовый монстр на карте!",resultFinalLvl:"Поздравляем!\nВы прошли всю игру!",winnerHero:"Вы победили!",winnerBeast:"Монстр победил!",lowStrengthMessage:"Ты сильнее!",toMap:"На карту",welcomeModalTitle:"Добро пожаловать в игру Typing Adventure!",welcomeModalMessage:"Одолейте сильнейших чудищ Тайпирии, чтобы завоевать корону и звание профессионала быстрой печати!\nЧудища разбуянились и успокаиваться не собираются! К счастью, вам на помощь приходит магия стихий!",welcomeModalWarning:"Пожалуйста, пройдите регистрацию для сохранения прогресса!",welcomeModalToLayoutBtn:"Назад к сайту",welcomeModalСontinue:"Продолжить",startModalParagOne:"Перед вами игровая карта, на которой появляются различные чудища. С каждым новым уровнем увеличивается ваша стойкость, а на карте возникает новое чудище.",startModalParagTwo:"Выберите чудище, чтобы попасть на игровое поле. Чтобы одолеть соперника, вам нужно вводить названия магических заклинаний, которые появляются в верхней табличке игрового поля. Вы изучаете заклинания: после применения они переносятся в вашу коллекцию.\nВ игре доступны заклинания различных стихий: огня, воды, света, ветра и грома.",startModalParagThree:"Чудища способны атаковать разными способами: магической или физической атаками.\nМагическая атака чудища намного сильнее, однако ее можно отразить.\nБолее того, помимо чудищ могут появится и монстры, которые имеют защиту от определенных стихий, будьте с ними осторожнее!",startModalParagFour:"Если это ваша первая игра - внимательно прочтите подсказки на игровом поле.",startModalParagFive:"Собирайте закдинания, побеждайте и получайте игровые достижения!\nУдачи!",startModalButton:"Начать игру",gameInfoTitle:"Статистика",gameInfoLvl:"Ваш уровень",gameInfoHeroSpells:"Ваши заклинания",gameInfoNullSpells:"Вы на пути к изучению!",gameInfoAllSpells:"Заклинания в игре",gameInfoButton:"Вернуться к игре",fieldTutorialModalParagOne:"Вы на игровом поле Typing Adventure!",fieldTutorialModalParagTwo:"Посмотрите небольшое руководство из подсказок, прежде чем начать играть.",fieldTutorialModalParagThree:"Внимание!\nДля корректного ввода заклинаний выбранный язык в системе должен соответствовать языку приложения!",fieldTutorialModalParagButtonStart:"Подсказки",fieldTutorialModalParagButtonEsc:"Пропустить",fieldTutorialHintOne:"Герой и монстр ходят поочередно, каждому ходу предшествует стадия подготовки.\nВо время подготовки отмечается чей будет ход, какие заклинания доступны в облаке или какая атака будет у монстра.",fieldTutorialHintTwo:"В облаке в случайном порядке появляются заклинания, которые можно использовать: нужно напечатать их названия.\nЗаклинания из нескольких слов нужно вводить с пробелами.\nЕсли заклинание новое для вашего героя - после использования оно попадает в коллекцию героя.",fieldTutorialHintThree:"Здесь вы можете найти коллекцию заклинаний героя. Можно использовать как заклинание из облака, так и из коллекции.\nПринцип использования такой же: нужно напечатать название заклинания.",fieldTutorialHintFour:'Монстр может атаковать как силой, так и магией. Магическая атака намного сильнее, но вы можете защититься, напечатав "отразить" во время хода монстра с магической атакой. В случае успеха, вы увидете, как в поле действий появится слово "защита".',fieldTutorialHintFive:"Вот так, все довольно просто, еще раз проверьте соответствие раскладки в системе выбранному языку в приложении, и вперед!",fieldTutorialButtonNext:"Далее",fieldTutorialButtonDone:"Начинаем!",achievementTitle:"Новое достижение!"},zt={1:{fire:{name:"fire",damage:"10"},water:{name:"water",damage:"10"},wind:{name:"wind",damage:"10"}},2:{light:{name:"light",damage:"10"},tunder:{name:"thunder",damage:"10"}},3:{"heavy flame":{name:"heavy flame",damage:"50"},maelstrom:{name:"maelstrom",damage:"40"},"whirl gale":{name:"whirl gale",damage:"50"}},4:{soundwave:{name:"soundwave",damage:"40"},"fiery hail":{name:"fiery hail",damage:"50"},"radiant wall":{name:"radiant wall",damage:"40"}},5:{"blusting blow":{name:"blusting blow",damage:"40"},"rising glow":{name:"rising glow",damage:"50"},cloudburst:{name:"cloudburst",damage:"50"}},6:{"shining vortex":{name:"shining vortex",damage:"50"},"furious flow":{name:"furious flow",damage:"50"},flurryspout:{name:"flurryspout",damage:"50"}},7:{aquaswirl:{name:"aquaswirl",damage:"50"},"massive tornado":{name:"massive tornado",damage:"70"},"electrical discharge":{name:"electrical discharge",damage:"70"}},8:{"volcanic hurricane":{name:"volcanic hurricane",damage:"100"},"ferocious twister":{name:"ferocious twister",damage:"150"},"luminous pillar":{name:"luminous pillar",damage:"150"}},9:{"vortical typhoon":{name:"vortical typhoon",damage:"150"},"burning onslaught":{name:"burning onslaught",damage:"150"},"elemental great enchantment":{name:"elemental great enchantment",damage:"300"}}},qt={1:{fire:{name:"огонь",damage:"10"},water:{name:"вода",damage:"10"},wind:{name:"ветер",damage:"10"}},2:{light:{name:"свет",damage:"10"},tunder:{name:"гром",damage:"10"}},3:{"heavy flame":{name:"сильное пламя",damage:"50"},maelstrom:{name:"водоворот",damage:"40"},"whirl gale":{name:"завихрение ветра",damage:"50"}},4:{soundwave:{name:"громовая волна",damage:"40"},"fiery hail":{name:"огненный град",damage:"50"},"radiant wall":{name:"стена света",damage:"40"}},5:{"blusting blow":{name:"удар грома",damage:"40"},"rising glow":{name:"восход сияния",damage:"50"},cloudburst:{name:"водяная буря",damage:"50"}},6:{"shining vortex":{name:"сияющий вихрь",damage:"50"},"furious flow":{name:"яростный поток",damage:"50"},flurryspout:{name:"воздушный смерч",damage:"50"}},7:{aquaswirl:{name:"водяной смерч",damage:"50"},"massive tornado":{name:"гигантский торнадо",damage:"70"},"electrical discharge":{name:"удар молнии",damage:"70"}},8:{"volcanic hurricane":{name:"пламенный ураган",damage:"100"},"ferocious twister":{name:"яростный шквал",damage:"150"},"luminous pillar":{name:"световой столп",damage:"150"}},9:{"vortical typhoon":{name:"вихревой тайфун",damage:"150"},"burning onslaught":{name:"огненный натиск",damage:"150"},"elemental great enchantment":{name:"великое стихийное волшебство",damage:"300"}}},Kt={thunderSpells:["thunder","blusting blow","soundwave","electrical discharge","vortical typhoon"],fireSpells:["fire","heavy flame","fiery hail","volcanic hurricane","burning onslaught"],waterSpells:["water","maelstrom","furious flow","cloudburst","aquaswirl"],windSpells:["wind","whirl gale","flurryspout","massive tornado","ferocious twister"],lightSpells:["light","radiant wall","rising glow","shining vortex","luminous pillar"]},_t={thunderSpells:["гром","удар грома","громовая волна","удар молнии","вихревая молния"],fireSpells:["огонь","огненный вихрь","огненный град","огненный ураган","огненный натиск"],waterSpells:["вода","водный вихрь","яростный поток","водяная буря","водяной смерч"],windSpells:["ветер","воздушный вихрь","водяной смерч","гигантский торнадо","яростный ветер"],lightSpells:["свет","стена света","восход сияния","сияющий вихрь","световой столп"]},Jt={physics:{name:"physics",damage:"10"},magic:{name:"magic",damage:"30"}},Qt={physics:{name:"сила",damage:"10"},magic:{name:"магия",damage:"30"}};class Zt{static clearState(){Zt.firstAppearance=!0,Zt.firstFieldAppearance=!0,Zt.userLvl=1,Zt.userHp=100,Zt.userSpells=[],Zt.currentGameBeasts=[],Zt.achievementsCurrentStatus={}}static engageState(){Zt.currentLang=jt.currentLang,Zt.lib="en"===Zt.currentLang?Yt:Vt,Zt.beastMoves="en"===Zt.currentLang?Jt:Qt,Zt.spellsLib="en"===Zt.currentLang?zt:qt,Zt.elementalSpells="en"===Zt.currentLang?Kt:_t}}Zt.firstAppearance=!0,Zt.firstFieldAppearance=!0,Zt.userLvl=1,Zt.userHp=100,Zt.userSpells=[],Zt.currentGameBeasts=[];const Xt=Zt;class ea{static createRandomNumber(e){const t=Math.random()*e;return Math.trunc(t)}static createRandomNums(e,t){const a=[];for(let n=0;a.length<e;n+=1){const e=ea.createRandomNumber(t);a.includes(e)||a.push(e)}return a}static randomBeastHp(e){const t=100*e,a=100*Math.random()+t;return 10*Math.trunc(a/10)}}const ta=ea;class aa{}aa.spellCapture=!1,aa.currentMove=!0,aa.beastTypeAction=[],aa.asyncId=[];const na=aa;var sa,ra,la,ca;!function(e){e[e.heroTimer=5]="heroTimer",e[e.beastTimer=3]="beastTimer",e[e.startTimer=5e3]="startTimer",e[e.allBeastsTypes=9]="allBeastsTypes",e[e.maxMapBeasts=9]="maxMapBeasts",e[e.randomSpellsAmount=1]="randomSpellsAmount",e[e.firstAction=0]="firstAction",e[e.secondAction=1]="secondAction",e[e.thirdAction=2]="thirdAction",e[e.firstLvl=1]="firstLvl",e[e.achievementTimer=7e3]="achievementTimer",e[e.achievementStyleTop=2]="achievementStyleTop",e[e.achievementAnotherModal=17]="achievementAnotherModal",e[e.tenSpells=10]="tenSpells"}(sa||(sa={})),function(e){e[e.increaseLvl=1]="increaseLvl",e[e.firstLvlDone=2]="firstLvlDone",e[e.halfGame=5]="halfGame",e[e.fullGame=10]="fullGame",e[e.maxBeastLvl=9]="maxBeastLvl"}(ra||(ra={})),function(e){e[e.resultHp=0]="resultHp",e[e.shieldEffect=2]="shieldEffect",e.hero="hero",e.beast="beast",e.enMagic="magic",e.ruMagic="магия"}(la||(la={})),function(e){e.typingPart="Typing",e.adventurePart="Adventure"}(ca||(ca={}));const oa=sa;class ia{static modalElements(e){return{overlay:Gt.createElement(t.div,[{name:"class",value:`${e}-modal-overlay`}]),modal:Gt.createElement(t.div,[{name:"class",value:`${e}-modal-window`}]),modalText:Gt.createElement(t.par,[{name:"class",value:`${e}-modal-content`}]),button:Gt.createElement(t.btn,[{name:"class",value:`${e}-modal-button`}])}}static createFieldModal(e,a){const{overlay:n,modal:s,modalText:r,button:l}=ia.modalElements("field");if(r.textContent=e,l.textContent=Xt.lib.toMap,l.addEventListener("click",(()=>{n.remove(),na.beastInstance.renderCallback()})),a){const e=Gt.createElement(t.par,[{name:"class",value:"field-modal-content-info"}]);e.textContent=a,s.append(r,e,l)}else s.append(r,l);n.append(s),Xt.gameWrapper.append(n)}static createWelcomeModal(e){const{overlay:a,modal:n,modalText:s,button:r}=ia.modalElements("welcome"),l=Gt.createElement(t.par,[{name:"class",value:"welcome-modal-text"}]),c=Gt.createElement(t.par,[{name:"class",value:"welcome-modal-warning"}]),o=Gt.createElement(t.par,[{name:"class",value:"welcome-modal-buttons"}]),i=Gt.createElement(t.btn,[{name:"class",value:"welcome-layout-button"}]);l.textContent=Xt.lib.welcomeModalTitle,s.textContent=Xt.lib.welcomeModalMessage,c.textContent=Xt.lib.welcomeModalWarning,i.textContent=Xt.lib.welcomeModalToLayoutBtn,r.textContent=Xt.lib["welcomeModalСontinue"],i.addEventListener("click",(()=>{Xt.appCallbacks.switchPage(Xt.appCallbacks.page,Xt.appCallbacks.render)})),r.addEventListener("click",(()=>{ia.createStartModal(),a.remove()})),o.append(i,r),n.append(l,s,c,o),a.append(n),Xt.firstAppearance=!1,e(),Xt.gameWrapper.append(a)}static createStartModal(){const{overlay:e,modal:a,modalText:n,button:s}=ia.modalElements("start"),r=["startModalParagOne","startModalMap","startModalParagTwo","startModalField","startModalParagThree","startModalParagFour"].map((e=>{if("startModalMap"===e)return Gt.createElement(t.img,[{name:"class",value:"start-modal-img"},{name:"alt",value:"game-map"},{name:"src",value:"./assets/games/typing-adventure/adventure-map.svg"}]);if("startModalField"===e)return Gt.createElement(t.img,[{name:"class",value:"start-modal-img"},{name:"alt",value:"game-map"},{name:"src",value:"./assets/games/typing-adventure/adventure-action.svg"}]);const a=Gt.createElement(t.par,[{name:"class",value:"start-modal-text"}]);return a.textContent=Xt.lib[e],a}));n.textContent=Xt.lib.startModalParagFive,s.textContent=Xt.lib.startModalButton,s.addEventListener("click",(()=>{e.remove()})),a.append(...r,n,s),e.append(a),Xt.gameWrapper.append(e)}}const ua=ia;class da{static spellChecker(e,t,a){let n=+a;return e.forEach((e=>{e===t&&(n/=2)})),n}static handler(e,t){const{beastType:a}=na.beastInstance;let n=+t;return a.includes("cloud")||a.includes("облачный")?n=da.spellChecker(Xt.elementalSpells.thunderSpells,e,t):a.includes("lava")||a.includes("лавовый")?n=da.spellChecker(Xt.elementalSpells.fireSpells,e,t):a.includes("waterfall")||a.includes("водопадный")?n=da.spellChecker(Xt.elementalSpells.waterSpells,e,t):(a.includes("tornado")||a.includes("ураганный"))&&(n=da.spellChecker(Xt.elementalSpells.windSpells,e,t)),n.toString()}}const pa=da;class ma{static heroEventHandler(e){na.spellCapture&&(ma.inputStr+=e.key,na.heroSpells.forEach((e=>{if(ma.inputStr.includes(e.name)){ma.totalSpells.push(e.name);const t=pa.handler(e.name,e.damage);ma.totalEffects.push(t),pa.handler(e.name,e.damage),na.actionTotal.textContent=ma.totalSpells.join(" "),ma.inputStr=""}})),ma.spells.forEach((e=>{if(ma.inputStr.includes(e.name)&&!na.heroSpells.includes(e)){na.heroSpells.push(e),ma.totalSpells.push(e.name);const t=pa.handler(e.name,e.damage);ma.totalEffects.push(t),na.actionTotal.textContent=ma.totalSpells.join(" "),ma.inputStr=""}})))}static beastEventHandler(e){ma.inputStr+=e.key,(ma.inputStr.includes("resist")||ma.inputStr.includes("отразить"))&&(ma.heroShield=!0,na.actionTotal.textContent+=Xt.lib.resistMessage,window.removeEventListener("keypress",ma.beastEventHandler))}static effectsHandler(){let e=ma.totalEffects.reduce(((e,t)=>+t+e),0);ma.heroShield&&(e=Math.trunc(e/=la.shieldEffect),ma.heroShield=!1),ma.whoseMove===la.hero&&ma.resultMoveHandler(e,na.beastHp),ma.whoseMove===la.beast&&ma.resultMoveHandler(e,na.heroHp),ma.whoseMove="",ma.totalEffects=[]}static resultMoveHandler(e,t){const a=t,n=a.textContent;if(!n)return;let s=+n-e;s<la.resultHp&&(s=la.resultHp),ma.createResultView(e),s===la.resultHp?(a.textContent=Xt.lib.lowStrengthMessage,na.FieldStatus=!1,ma.resultHandler(ma.whoseMove)):a.textContent=s.toString()}static createResultView(e){const a=Gt.createElement(t.par,[{name:"class",value:"field-hp-result-view"}]);a.textContent=`-${e}`,setTimeout((()=>{a.remove()}),oa.startTimer),ma.whoseMove===la.hero&&na.beastView.append(a),ma.whoseMove===la.beast&&na.heroView.append(a)}static heroMoveAction(e){ma.whoseMove=la.hero,ma.spells=e,ma.inputStr="",ma.totalSpells=[],window.addEventListener("keypress",ma.heroEventHandler)}static resultHandler(e){const t=na.beastInstance.lvl,a=Xt.userLvl;let n;if(n=e===la.hero?Xt.lib.winnerHero:Xt.lib.winnerBeast,t!==ra.maxBeastLvl||na.beastInstance.done||e!==la.hero)if(a===ra.fullGame&&e===la.hero)ua.createFieldModal(n);else if(a===t&&e===la.hero){const e=Xt.lib.resultNewLvl;Xt.userLvl+=ra.increaseLvl,na.beastInstance.done=!0,ua.createFieldModal(n,e)}else ua.createFieldModal(n);else{const e=Xt.lib.resultFinalLvl;Xt.userLvl+=ra.increaseLvl,na.beastInstance.done=!0,ua.createFieldModal(n,e)}na.currentMove=!0}static beastMoveAction(){ma.whoseMove=la.beast,ma.inputStr="",na.actionTotal.textContent!==la.enMagic&&na.actionTotal.textContent!==la.ruMagic||window.addEventListener("keypress",ma.beastEventHandler)}static moveHandlerStop(){window.removeEventListener("keypress",ma.beastEventHandler),window.removeEventListener("keypress",ma.heroEventHandler)}}ma.inputStr="",ma.totalSpells=[],ma.totalEffects=[],ma.heroShield=!1,ma.whoseMove="";const ga=ma;class va{static startModal(e){const{overlay:a,modal:n,modalText:s,button:r}=ua.modalElements("field-tutorial"),l=Gt.createElement(t.par,[{name:"class",value:"field-tutorial-title"}]),c=Gt.createElement(t.par,[{name:"class",value:"field-tutorial-warning"}]),o=Gt.createElement(t.btn,[{name:"class",value:"field-tutorial-button"}]),i=Gt.createElement(t.div,[{name:"class",value:"field-tutorial-buttons"}]);l.textContent=Xt.lib.fieldTutorialModalParagOne,s.textContent=Xt.lib.fieldTutorialModalParagTwo,c.textContent=Xt.lib.fieldTutorialModalParagThree,r.textContent=Xt.lib.fieldTutorialModalParagButtonStart,o.textContent=Xt.lib.fieldTutorialModalParagButtonEsc,va.tutorialOverlay=a,r.addEventListener("click",(()=>{va.createHintOne(),n.remove()})),o.addEventListener("click",(()=>{a.remove(),e()})),i.append(r,o),n.append(l,s,c,i),a.append(n),va.actionFunc=e,Xt.gameWrapper.append(a)}static tutorialHint(e,t,a,n,s,r){const{modal:l,modalText:c,button:o}=ua.modalElements(e);c.textContent=t,o.textContent=s||Xt.lib.fieldTutorialButtonNext,o.addEventListener("click",(()=>{n(),l.remove(),r&&va.tutorialOverlay.remove()})),l.append(c,o),a.append(l)}static createHintOne(){const e=Xt.lib.fieldTutorialHintOne;va.tutorialHint("hint-one",e,na.actionTotal,va.createHintTwo)}static createHintTwo(){const e=Xt.lib.fieldTutorialHintTwo;va.tutorialHint("hint-two",e,na.spellsPanel,va.createHintThree)}static createHintThree(){const e=Xt.lib.fieldTutorialHintThree;va.tutorialHint("hint-three",e,na.actionTotal,va.createHintFour)}static createHintFour(){const e=Xt.lib.fieldTutorialHintFour;va.tutorialHint("hint-four",e,na.beastPanel,va.createFinalHint)}static createFinalHint(){const e=Xt.lib.fieldTutorialHintFive,t=Xt.lib.fieldTutorialButtonDone;va.tutorialHint("hint-five",e,na.actionTotal,va.actionFunc,t,!0)}}const ha=va,ba={fire:"fire",огонь:"fire",water:"water",вода:"water",wind:"wind",ветер:"wind",light:"light",свет:"light",thunder:"thunder",гром:"thunder","heavy flame":"heavy-flame","сильное пламя":"heavy-flame",maelstrom:"maelstrom",водоворот:"maelstrom","whirl gale":"whirl-gale","завихрение ветра":"whirl-gale",soundwave:"soundwave","громовая волна":"soundwave","fiery hail":"fiery-hail","огненный град":"fiery-hail","radiant wall":"radiant-wall","стена света":"radiant-wall","blusting blow":"blusting-blow","удар грома":"blusting-blow","rising glow":"rising-glow","восход сияния":"rising-glow",cloudburst:"cloudburst","водяная буря":"cloudburst","shining vortex":"shining-vortex","сияющий вихрь":"shining-vortex","furious flow":"furious-flow","яростный поток":"furious-flow",flurryspout:"flurryspout","воздушный смерч":"flurryspout",aquaswirl:"aquaswirl","водяной смерч":"aquaswirl","massive tornado":"massive-tornado","гигантский торнадо":"massive-tornado","electrical discharge":"electrical-discharge","удар молнии":"electrical-discharge","volcanic hurricane":"volcanic-hurricane","пламенный ураган":"volcanic-hurricane","ferocious twister":"ferocious-twister","яростный шквал":"ferocious-twister","luminous pillar":"luminous-pillar","световой столп":"luminous-pillar","vortical typhoon":"vortical-typhoon","вихревой тайфун":"vortical-typhoon","burning onslaught":"burning-onslaught","огненный натиск":"burning-onslaught","elemental chars":"elemental-chars","стихийные чары":"elemental-chars","elemental high magic":"elemental-high-magic","высшая стихийная магия":"elemental-high-magic","elemental great enchantment":"elemental-great-enchantment","великое стихийное волшебство":"elemental-great-enchantment"},fa={"cave beast":"cave-beast","пещерное чудище":"cave-beast","swamp beast":"swamp-beast","болотное чудище":"swamp-beast","sand beast":"sand-beast","песчанное чудище":"sand-beast","stone beast":"stone-beast","каменное чудище":"stone-beast","forest beast":"forest-beast","лесное чудище":"forest-beast","cloud monster":"cloud-monster","облачный монстр":"cloud-monster","waterfall monster":"waterfall-monster","водопадный монстр":"waterfall-monster","lava monster":"lava-monster","лавовый монстр":"lava-monster","tornado monster":"tornado-monster","ураганный монстр":"tornado-monster"};class ya{static action(){na.FieldStatus?Xt.firstFieldAppearance?ya.launchTutorial():(ya.viewHeroSpells(),ya.randomBeastActions(),ya.viewBeastActions(),na.currentMove?ya.heroMove():ya.beastMove()):ya.clearPanels()}static launchTutorial(){na.actionTotal.textContent=Xt.lib.preparation,na.timer.textContent=Xt.lib.yourMove,ya.createCurrentSpellAction([Xt.spellsLib[oa.firstLvl].fire],na.heroPanel),ya.createCurrentSpellAction([Xt.beastMoves.physics,Xt.beastMoves.magic],na.beastPanel),ya.createCurrentSpellAction([Xt.spellsLib[oa.firstLvl].wind],na.spellsPanel),Xt.firstFieldAppearance=!1,ha.startModal(ya.action)}static heroMove(){na.timerCounter=oa.heroTimer;const e=ya.randomSpells();ya.createCurrentSpellAction(e,na.spellsPanel),na.actionTotal.textContent=Xt.lib.preparation,na.timer.textContent=Xt.lib.yourMove,na.currentMove=!1;const t=setTimeout((()=>{na.timer.textContent=`${na.timerCounter}`,na.actionTotal.textContent="",ya.timerChanger(),na.spellCapture=!0,ga.heroMoveAction(e)}),oa.startTimer);na.asyncId.push(t)}static beastMove(){na.timerCounter=oa.beastTimer,na.actionTotal.textContent=Xt.lib.preparation,na.timer.textContent=Xt.lib.beastMove,na.currentMove=!0;const e=setTimeout((()=>{na.timer.textContent=`${na.timerCounter}`,ya.nextBeastActions(),ya.timerChanger(),ga.beastMoveAction()}),oa.startTimer);na.asyncId.push(e)}static timerChanger(){const e=setTimeout((()=>{na.timerCounter-=1,na.timer.textContent=`${na.timerCounter}`,na.timerCounter>=0?ya.timerChanger():(ga.effectsHandler(),na.spellCapture=!1,ga.moveHandlerStop(),ya.action())}),1e3);na.asyncId.push(e)}static randomSpells(){const e=na.lvlSpells.length;return ta.createRandomNums(oa.randomSpellsAmount,e).map((e=>na.lvlSpells[e]))}static createCurrentSpellAction(e,a){const n=a;n.innerHTML="",e.forEach((e=>{const a=Gt.createElement(t.div,[{name:"class",value:"action-spell-wrapper"}]);if(e.name===Xt.beastMoves.physics.name||e.name===Xt.beastMoves.magic.name){const n=Gt.createElement(t.div,[{name:"class",value:"beast-action-wrapper"}]),s=Gt.createElement(t.par,[{name:"class",value:"beast-field-action"}]);a.classList.add("beast-action"),s.textContent=e.name,n.append(s),a.append(n)}else{const n=Gt.createElement(t.div,[{name:"class",value:`action-spell-image ${ba[e.name]}`}]),s=Gt.createElement(t.par,[{name:"class",value:`action-spell-name ${ba[e.name]}`}]);s.textContent=e.name,a.append(n,s)}n.append(a)}))}static viewHeroSpells(){na.heroSpells=Xt.userSpells,ya.createCurrentSpellAction(na.heroSpells,na.heroPanel)}static randomBeastActions(){const e=Xt.beastMoves.physics.name,t=Xt.beastMoves.magic.name;let a=+Xt.beastMoves.physics.damage,n=+Xt.beastMoves.magic.damage;na.beastInstance.lvl>1&&(a+=5*na.beastInstance.lvl,n+=5*na.beastInstance.lvl);const s=[{name:e,damage:`${a}`},{name:t,damage:`${n}`}],r=ta.createRandomNums(s.length,s.length).map((e=>s[e]));na.beastTypeAction.push(...r)}static viewBeastActions(){const e=na.beastTypeAction[oa.firstAction],t=na.beastTypeAction[oa.secondAction];ya.createCurrentSpellAction([e,t],na.beastPanel)}static nextBeastActions(){const e=na.beastTypeAction[oa.firstAction],t=na.beastTypeAction[oa.secondAction],a=na.beastTypeAction[oa.thirdAction];na.beastTypeAction.shift(),na.actionTotal.textContent=e.name,ga.totalEffects.push(e.damage),ya.createCurrentSpellAction([t,a],na.beastPanel)}static clearPanels(){na.timer.textContent="Finished",na.actionTotal.textContent=""}}const La=ya;class Ea{static createField(e){const a=Gt.createElement(t.div,[{name:"class",value:"field-wrapper"}]),n=Ea.createFieldHeader(e),s=Ea.createFieldMiddle(na.beastInstance),r=Ea.createFieldFooter();a.append(n,s,r),Xt.gameWrapper.innerHTML="",Xt.gameWrapper.append(a);const l=Object.values(Xt.spellsLib[na.beastInstance.lvl]);na.lvlSpells=l,na.FieldStatus=!0,na.beastTypeAction=[],La.action()}static createFieldHeader(e){const a=Gt.createElement(t.div,[{name:"class",value:"field-header"}]),n=Gt.createElement(t.div,[{name:"class",value:"field-header-wrapper"}]);na.spellsPanel=Gt.createElement(t.div,[{name:"class",value:"spells-field-panel"}]);const s=Gt.createElement(t.btn,[{name:"class",value:"field-header-menu-button"}]);return s.textContent=Xt.lib.layoutButton,s.addEventListener("click",(()=>{e(),na.asyncId.forEach((e=>clearTimeout(e))),na.currentMove=!0})),n.append(s,na.spellsPanel),a.append(n),a}static createFieldMiddle(e){const a=Gt.createElement(t.div,[{name:"class",value:"field-middle"}]),n=Gt.createElement(t.div,[{name:"class",value:"action-field-panel"}]);na.timer=Gt.createElement(t.div,[{name:"class",value:"field-timer"}]),na.actionTotal=Gt.createElement(t.div,[{name:"class",value:"action-field-total"}]);const s=Ea.createCharacterView("hero"),r=Ea.createCharacterView("beast",e);return n.append(na.timer,na.actionTotal),a.append(s,n,r),a}static createFieldFooter(){const e=Gt.createElement(t.div,[{name:"class",value:"field-footer"}]);return na.heroPanel=Gt.createElement(t.div,[{name:"class",value:"hero-field-panel"}]),e.append(na.heroPanel),e}static createCharacterView(e,a){const n=Gt.createElement(t.div,[{name:"class",value:`${e}-field-wrapper`}]),s=Gt.createElement(t.par,[{name:"class",value:`${e}-field-hp`}]);let r;if(r=a?Gt.createElement(t.par,[{name:"class",value:`${e}-field-view ${fa[a.beastType]}-field`}]):Gt.createElement(t.par,[{name:"class",value:`${e}-field-view`}]),a){na.beastPanel=Gt.createElement(t.div,[{name:"class",value:"beast-field-panel"}]);const e=Gt.createElement(t.par,[{name:"class",value:"beast-field-name"}]);e.textContent=a.beastType,s.textContent=a.hp.toString(),na.beastHp=s,na.beastView=n,n.append(s,r,e,na.beastPanel)}else s.textContent=(Xt.userHp*Xt.userLvl).toString(),na.heroHp=s,na.heroView=n,n.append(s,r);return n}}const wa=Ea,Ca=class{constructor(e,t,a,n,s){this.beastType=e,this.lvl=t,this.hp=a,this.renderCallback=n,this.done=s}createBeast(e){const a=Gt.createElement(t.div,[{name:"class",value:"beast-wrapper"}]),n=Gt.createElement(t.div,[{name:"class",value:"beast-title"}]),s=Gt.createElement(t.div,[{name:"class",value:`beast ${fa[this.beastType]}`}]);return n.innerHTML=`${Xt.lib.lvl} ${this.lvl}`,a.append(n,s),a.addEventListener("click",(()=>{na.beastInstance=this,wa.createField(e)})),a}};class xa{static setStatus(){Xt.achievementsCurrentStatus=xa.current}static createWindow(e,a){const n=Gt.createElement(t.div,[{name:"class",value:"adventure-achievement-modal"}]),s=Gt.createElement(t.div,[{name:"class",value:"adventure-achievement-title"}]),r=Gt.createElement(t.div,[{name:"class",value:"adventure-achievement-text"}]),l=Gt.createElement(t.img,[{name:"class",value:"achievement-img"},{name:"alt",value:"achievement-image"},{name:"src",value:a}]),c=Gt.createElement(t.div,[{name:"class",value:"adventure-achievement-text-wrapper"}]);let o=oa.achievementStyleTop;s.textContent=Xt.lib.achievementTitle,r.textContent=e,c.append(s,r),n.append(l,c);for(let e=0;e<xa.windowsCounter;e+=1)o+=oa.achievementAnotherModal;n.style.top=`${o}rem`,Xt.gameWrapper.append(n),xa.windowsCounter+=1,setTimeout((()=>{n.remove(),xa.windowsCounter-=1}),oa.achievementTimer)}static checker(){xa.current.tenSpells||xa.tenSpellsCheck(),xa.current.lvlUp||xa.lvlUpCheck(),xa.current.halfGame||xa.halfGameCheck(),xa.current.gameDone||xa.gameDoneCheck(),xa.current.thunderSpells||xa.thunderCheck(),xa.current.fireSpells||xa.fireCheck(),xa.current.waterSpells||xa.waterCheck(),xa.current.lightSpells||xa.lightCheck(),xa.current.windSpells||xa.windCheck(),xa.setStatus()}static tenSpellsCheck(){if(Xt.userSpells.length>=oa.tenSpells){const{text:e}=Ke[xa.achievementsNums.tenSpells][jt.currentLang];xa.createWindow(e,"./assets/images/badges/badge-2.svg"),xa.current.tenSpells=!0}}static lvlUpCheck(){if(Xt.userLvl===ra.firstLvlDone){const{text:e}=Ke[xa.achievementsNums.lvlUp][jt.currentLang];xa.createWindow(e,"./assets/images/badges/badge-1.svg"),xa.current.lvlUp=!0}}static halfGameCheck(){if(Xt.userLvl===ra.halfGame){const{text:e}=Ke[xa.achievementsNums.halfGame][jt.currentLang];xa.createWindow(e,"./assets/images/badges/badge-3.svg"),xa.current.halfGame=!0}}static gameDoneCheck(){if(Xt.userLvl===ra.fullGame){const{text:e}=Ke[xa.achievementsNums.gameDone][jt.currentLang];xa.createWindow(e,"./assets/images/badges/badge-4.svg"),xa.current.gameDone=!0}}static thunderCheck(){if(xa.elementalCheck("thunderSpells")){const{text:e}=Ke[xa.achievementsNums.thunderSpells][jt.currentLang];xa.createWindow(e,"./assets/images/badges/badge-5.svg"),xa.current.thunderSpells=!0}}static fireCheck(){if(xa.elementalCheck("fireSpells")){const{text:e}=Ke[xa.achievementsNums.fireSpells][jt.currentLang];xa.createWindow(e,"./assets/images/badges/badge-6.svg"),xa.current.fireSpells=!0}}static waterCheck(){if(xa.elementalCheck("waterSpells")){const{text:e}=Ke[xa.achievementsNums.waterSpells][jt.currentLang];xa.createWindow(e,"./assets/images/badges/badge-7.svg"),xa.current.waterSpells=!0}}static lightCheck(){if(xa.elementalCheck("lightSpells")){const{text:e}=Ke[xa.achievementsNums.lightSpells][jt.currentLang];xa.createWindow(e,"./assets/images/badges/badge-8.svg"),xa.current.lightSpells=!0}}static windCheck(){if(xa.elementalCheck("windSpells")){const{text:e}=Ke[xa.achievementsNums.lightSpells][jt.currentLang];xa.createWindow(e,"./assets/images/badges/badge-9.svg"),xa.current.windSpells=!0}}static elementalCheck(e){return Xt.elementalSpells[e].every((e=>Xt.userSpells.some((t=>t.name===e))))}}xa.current={thunderSpells:!1,fireSpells:!1,waterSpells:!1,lightSpells:!1,windSpells:!1,tenSpells:!1,lvlUp:!1,halfGame:!1,gameDone:!1},xa.achievementsNums={tenSpells:2,lvlUp:1,halfGame:3,gameDone:4,thunderSpells:5,fireSpells:6,waterSpells:7,lightSpells:8,windSpells:9},xa.windowsCounter=0;const Sa=xa;class Ta{static lvlSpells(e){const t=Object.keys(Xt.spellsLib[e]),a=Xt.userSpells.map((e=>e.name));return t.map((t=>Xt.spellsLib[e][t].name)).map((e=>a.includes(e)?Ta.createTextWrapper(e,"info-spell available"):Ta.createTextWrapper(e,"info-spell")))}static createInfoModal(){const{overlay:e,modal:t,button:a}=ua.modalElements("game-info"),n=Ta.createTextWrapper(Xt.lib.gameInfoTitle,"game-info-title"),s=Ta.createTextWrapper(Xt.lib.gameInfoLvl,"info-title"),r=Ta.createTextWrapper(Xt.userLvl.toString(),"info-lvl"),l=Ta.createTextWrapper(Xt.lib.gameInfoHeroSpells,"info-title");let c=Xt.userSpells.map((e=>Ta.createTextWrapper(e.name,"info-user-spell")));c.length||(c=[Ta.createTextWrapper(Xt.lib.gameInfoNullSpells,"info-user-spell")]);const o=Ta.createTextWrapper(Xt.lib.gameInfoAllSpells,"lvl-spells-title");a.textContent=Xt.lib.gameInfoButton,a.addEventListener("click",(()=>{e.remove()})),t.append(n,s,r,l,...c,o,...Ta.gameSpellsView(),a),e.append(t),Xt.gameWrapper.append(e)}static gameSpellsView(){return[Ta.createTextWrapper(`${Xt.lib.lvl} 1`,"lvl-spells-title"),...Ta.lvlSpells(1),Ta.createTextWrapper(`${Xt.lib.lvl} 2`,"lvl-spells-title"),...Ta.lvlSpells(2),Ta.createTextWrapper(`${Xt.lib.lvl} 3`,"lvl-spells-title"),...Ta.lvlSpells(3),Ta.createTextWrapper(`${Xt.lib.lvl} 4`,"lvl-spells-title"),...Ta.lvlSpells(4),Ta.createTextWrapper(`${Xt.lib.lvl} 5`,"lvl-spells-title"),...Ta.lvlSpells(5),Ta.createTextWrapper(`${Xt.lib.lvl} 6`,"lvl-spells-title"),...Ta.lvlSpells(6),Ta.createTextWrapper(`${Xt.lib.lvl} 7`,"lvl-spells-title"),...Ta.lvlSpells(7),Ta.createTextWrapper(`${Xt.lib.lvl} 8`,"lvl-spells-title"),...Ta.lvlSpells(8),Ta.createTextWrapper(`${Xt.lib.lvl} 9`,"lvl-spells-title"),...Ta.lvlSpells(9)]}static createTextWrapper(e,a){const n=Gt.createElement(t.par,[{name:"class",value:a}]);return n.textContent=e,n}}const ka=Ta;class Ba{static getData(e,t){if(Ba.userData=e,e.typingAdventure===f.noData)return;if(!e.typingAdventure)return;const a=Oe.getGameData(e.typingAdventure);if(void 0!==a.firstMapRender&&(Xt.firstAppearance=a.firstMapRender),void 0!==a.firstFieldRender&&(Xt.firstFieldAppearance=a.firstFieldRender),a.userLvl&&(Xt.userLvl=a.userLvl),a.achievements&&(Xt.achievementsCurrentStatus=a.achievements,Sa.current=a.achievements),a.gameBeasts&&(Xt.currentGameBeasts=a.gameBeasts.map((e=>new Ca(e.beastType,e.lvl,e.hp,t,e.done)))),a.userSpells){const e=a.userSpells;if(Xt.userSpells=[],!Xt.spellsLib)return;e.forEach((e=>{Ba.engageSpell(e.name)}))}}static engageSpell(e){Object.keys(Xt.spellsLib).forEach((t=>{const a=Xt.spellsLib[+t];Object.keys(a).forEach((t=>{if(a[t].name===e){const e=a[t];Xt.userSpells.push(e)}}))}))}static badgesHandler(){if(!Ba.userData||!Xt.achievementsCurrentStatus)return;const{badges:e}=Ba.userData,t=Object.keys(Xt.achievementsCurrentStatus),a=[];if(t.forEach((e=>{Xt.achievementsCurrentStatus[e]&&a.push(Sa.achievementsNums[e])})),e!==f.noData||a.length)if(e===f.noData)Ba.userData.badges=Ve.setBadges(a);else{const t=Ve.getBadges(e),n=Object.values(Sa.achievementsNums);let s=[];const r=[];a.forEach((e=>{t.includes(e)||t.push(e)})),n.forEach((e=>{if(t.includes(e)&&!a.includes(e)){const a=t.indexOf(e);r.push(a)}})),s=a.length?t.filter(((e,t)=>!r.includes(t))):t.filter((e=>!n.includes(e))),Ba.userData.badges=Ve.setBadges(s)}}static uniqueBeastsCounter(){if(!Xt.currentGameBeasts)return 0;const e=Xt.currentGameBeasts,t=[];return e.forEach((e=>{!t.includes(e.beastType)&&e.done&&t.push(e.beastType)})),t.length}static setData(){if(!Ba.userData)return;const e=Ba.uniqueBeastsCounter(),t={firstMapRender:Xt.firstAppearance,firstFieldRender:Xt.firstFieldAppearance,userLvl:Xt.userLvl,userSpells:Xt.userSpells,uniqueBeasts:e,gameBeasts:Xt.currentGameBeasts,achievements:Xt.achievementsCurrentStatus},a=Oe.setGameData(t);Ba.badgesHandler();const n={_id:Ba.userData._id,__v:Ba.userData.__v,login:Ba.userData.login,password:Ba.userData.password,avatar:Ba.userData.avatar,testing:Ba.userData.testing,lessonsEn:Ba.userData.lessonsEn,lessonsRu:Ba.userData.lessonsRu,typingAdventure:a,typingHero:Ba.userData.typingHero,badges:Ba.userData.badges};ke.updateUser(Ba.userData._id,n)}}const Ma=Ba;class Aa{static state(){Xt.firstAppearance=!0,Xt.firstFieldAppearance=!0,Xt.userLvl=1,Xt.userHp=100,Xt.userSpells=[],Xt.currentGameBeasts=[]}static achievementClear(){Object.keys(Sa.current).forEach((e=>{Sa.current[e]=!1}))}static resetMethod(e){const{overlay:a,modal:n,modalText:s,button:r}=ua.modalElements("reset-state"),l=Gt.createElement(t.btn,[{name:"class",value:"adventure-reset-buttons-wrapper"}]),c=Gt.createElement(t.btn,[{name:"class",value:"adventure-reset-close-button"}]);c.textContent=Xt.lib.layoutButton,s.textContent=Xt.lib.resetModalInfo,r.textContent=Xt.lib.resetButton,c.addEventListener("click",(()=>{a.remove()})),r.addEventListener("click",(()=>{Aa.state(),Aa.achievementClear(),a.remove(),e(),ua.createWelcomeModal(Ma.setData)})),l.append(c,r),n.append(s,l),a.append(n),Xt.gameWrapper.append(a)}}const Pa=Aa;class $a{static mapRender(){const e=Gt.createElement(t.div,[{name:"class",value:"game-map"}]),a=Gt.createElement(t.div,[{name:"class",value:"game-map-beasts-wrapper"}]),n=$a.createMapHeader(),s=$a.mapBeastsRender(),r=$a.createInactiveCells();return a.append(...s,...r),e.append(n,a),e}static mapBeastsRender(){return class{static createBeasts(e){if(Xt.userLvl===ra.fullGame)return;const t=Xt.userLvl,a=ta.createRandomNums(t,oa.allBeastsTypes);for(let n=Xt.currentGameBeasts.length;n<t;n+=1){const t=a[n],s=n+1,r=Xt.lib.beastTitle[t],l=ta.randomBeastHp(s),c=new Ca(r,s,l,e,!1);Xt.currentGameBeasts.push(c)}}}.createBeasts($a.innerGameMapRender),Xt.currentGameBeasts.map((e=>e.createBeast($a.innerGameMapRender)))}static innerGameMapRender(){const e=$a.mapRender();Xt.gameWrapper.innerHTML="",Xt.gameWrapper.append(e),Sa.checker(),Ma.setData()}static createMapHeader(){const e=Gt.createElement(t.div,[{name:"class",value:"map-header-wrapper"}]),a=Gt.createElement(t.btn,[{name:"class",value:"adventure-back-button"}]),n=Gt.createElement(t.btn,[{name:"class",value:"adventure-info-button"}]),s=Gt.createElement(t.btn,[{name:"class",value:"adventure-reset-state-button"}]),r=Gt.createElement(t.div,[{name:"class",value:"map-header-buttons-wrapper"}]),l=Gt.createElement(t.div,[{name:"class",value:"adventure-menu-title-wrapper"}]),c=Gt.createElement(t.par,[{name:"class",value:"adventure-menu-typing-title"}]),o=Gt.createElement(t.par,[{name:"class",value:"adventure-menu-adventure-title"}]);return c.textContent=ca.typingPart,o.textContent=ca.adventurePart,a.textContent=Xt.lib.layoutButton,s.textContent=Xt.lib.resetButton,n.textContent=Xt.lib.gameInfoTitle,a.addEventListener("click",(()=>{Xt.appCallbacks.switchPage(Xt.appCallbacks.page,Xt.appCallbacks.render),Xt.gameWrapper.remove()})),n.addEventListener("click",(()=>{ka.createInfoModal()})),s.addEventListener("click",(()=>{Pa.resetMethod($a.innerGameMapRender)})),l.append(c,o),r.append(s,n),e.append(a,l,r),e}static createInactiveCells(){const e=[];for(let a=Xt.currentGameBeasts.length+1;a<=oa.maxMapBeasts;a+=1){const a=Gt.createElement(t.div,[{name:"class",value:"beast-wrapper inactive-cell"}]);e.push(a)}return e}}const Ia=$a,Ra=e,Da=D,Ha=["Q","W","E","R","T","Y","U","I","O","P","A","S","D","F","G","H","J","K","L","Z","X","C","V","B","N","M"],Fa=["Й","Ц","У","К","Е","Н","Г","Ш","Щ","З","Х","Ъ","Ф","Ы","В","А","П","Р","О","Л","Д","Ж","Э","Я","Ч","С","М","И","Т","Ь","Б","Ю"],Wa={startModalTitle:"Welcome to the Typing Hero!",startModalParagOne:"Your task is to catch all the letters that appear on the playing field",startModalParagTwo:"Points are awarded for each letter caught. Throughout the level, you will also be shown your accuracy. If you have passed the level to the end - it is considered passed and falls into your thrift-box!",startModalParagThree:"Catch letters, score points, practice accuracy!",startModalButton:"Let's start!",appButton:"Back",sandboxButton:"Sandbox",resetButton:"Reset score",resetModalInfo:"Are you sure you want to reset the game progress and start over?",closeModal:"Close",sandboxMenuTitle:"Build your own custom level!",sandboxModalText:"In the sandbox you can choose the speed of the letters, the number of columns and the duration of the level. Sandbox points count towards the overall score, but, like levels, are overwritten with each replay.",sandboxInputSpeed:"Speed (in seconds): 1 to 10",sandboxInputDuration:"Duration (in seconds): 10 to 150",sandboxInputColumns:"Columns: 3 to 7",sandboxButtonStart:"Start",preparationContent:"Preparation!",level:"Level",levelButton:"Back",levelCompleted:"Level Completed!",score:"Score:",accuracy:"Accuracy:",currentScore:"Current",currentAccuracy:"Current",bestScore:"Best",bestAccuracy:"Best",total:"Total",totalScore:"Score:",average:"Average",achievementTitle:"New achievement"},Ua={startModalTitle:"Добро пожаловать в игру Typing Hero!",startModalParagOne:"Ваша задача - успеть поймать все буквы, появляющиеся на игровом поле.",startModalParagTwo:"За каждую пойманную букву начисляются очки. На протяжении уровня вам будет также выводиться ваша точность. Если вы прошли уровень до конца - он считается пройденным и падает вам в копилку!",startModalParagThree:"Ловите буквы, набирайте очки, практикуйтесь в точности!",startModalButton:"Вперед!",appButton:"Назад",sandboxButton:"Песочница",resetButton:"Сбросить прогресс",resetModalInfo:"Вы действительно хотите сбросить прогресс игры и начать заново?",closeModal:"Закрыть",sandboxMenuTitle:"Настройте уровень по-своему!",sandboxModalText:"В песочнице вы можете сами выбрать скорость букв, количество колонок и продолжительность уровня. Очки песочницы идут в общий зачет, но, как и у уровней, перезаписываются при каждом повторном перепрохождении.",sandboxInputSpeed:"Скорость (в секундах): от 1 до 10",sandboxInputDuration:"Продолжительность (в секундах): от 10 до 150",sandboxInputColumns:"Колонки: от 3 to 7",sandboxButtonStart:"Начать",preparationContent:"Подготовка!",level:"Уровень",levelButton:"Назад",levelCompleted:"Уровень пройден!",score:"очки:",accuracy:"точность:",currentScore:"Текущие",currentAccuracy:"Текущая",bestScore:"Лучшие",bestAccuracy:"Лучшая",total:"Всего",totalScore:"очков:",average:"Средняя",achievementTitle:"Новое достижение"};class Oa{static engageState(){Oa.keys="en"===Da.currentLang?Ha:Fa,Oa.lib="en"===Da.currentLang?Wa:Ua}}Oa.firstAppearance=!0;const Na=Oa;class Ga{}Ga.lvlScore=0,Ga.lvlAccuracy=0,Ga.currentFieldKeys=[],Ga.currentPressKeys=[],Ga.matchedKeys=[];const ja=Ga;var Ya,Va,za,qa,Ka;!function(e){e.typingPart="Typing",e.heroPart="Hero"}(Ya||(Ya={})),function(e){e[e.marginRoad=50]="marginRoad",e[e.keysStep=100]="keysStep",e[e.keyCheck=1]="keyCheck",e[e.keyCounterStep=1]="keyCounterStep",e[e.hundredPercent=100]="hundredPercent",e[e.resultTimeMultiplier=1.5]="resultTimeMultiplier",e[e.completeModal=5e3]="completeModal",e[e.msMultiplier=1e3]="msMultiplier",e[e.maxLvls=10]="maxLvls",e[e.startScore=0]="startScore",e[e.initialValue=0]="initialValue"}(Va||(Va={})),function(e){e.score="score",e.accuracy="accuracy",e[e.scorePoint=10]="scorePoint",e[e.basePoints=0]="basePoints",e.basePointsContent="0",e.best="best",e.total="total",e.average="average"}(za||(za={})),function(e){e[e.hero=10]="hero",e[e.legend=11]="legend",e[e.achievementStyleTop=2]="achievementStyleTop",e[e.achievementAnotherModal=17]="achievementAnotherModal",e[e.achievementTimer=7e3]="achievementTimer"}(qa||(qa={})),function(e){e[e.speedMin=1e3]="speedMin",e[e.speedMax=1e4]="speedMax",e[e.durationMin=1e4]="durationMin",e[e.durationMax=15e4]="durationMax",e[e.columnsMin=3]="columnsMin",e[e.columnsMax=7]="columnsMax"}(Ka||(Ka={}));class _a{static createArrOfPoints(e){const t=Object.keys(_a.levels).filter((t=>0!==_a.levels[t][e])),a=t.length;return{results:t.map((t=>_a.levels[t][e])),completeLvlsCount:a}}static userBestLvlPoints(e){const{results:t}=_a.createArrOfPoints(e);return Math.max(...t)}static userAllScore(){const{results:e}=_a.createArrOfPoints(za.score);return e.reduce(((e,t)=>e+t))}static userAverageAccuracy(){const{results:e}=_a.createArrOfPoints(za.accuracy),t=e.reduce(((e,t)=>e+t))/e.length;return Math.trunc(t)}static progressChecker(){const e=_a.userBestLvlPoints(za.score),t=_a.userBestLvlPoints(za.accuracy),{completeLvlsCount:a}=_a.createArrOfPoints(za.score),n=_a.userAllScore(),s=_a.userAverageAccuracy();_a.bestLvlScore=e,_a.bestLvlAccuracy=t,_a.lvlsDone=a,_a.totalScore=n,_a.averageAccuracy=s}static getData(e){if(_a.userData=e,e.typingHero===f.noData)return;if(!e.typingHero)return;const t=Ge.getGameData(e.typingHero);void 0!==t.firstAppearance&&(Na.firstAppearance=t.firstAppearance),t.levelsPoints&&(_a.levels=t.levelsPoints),t.levelsDone&&(_a.lvlsDone=t.levelsDone),t.bestScore&&(_a.bestLvlScore=t.bestScore),t.bestAccuracy&&(_a.bestLvlAccuracy=t.bestAccuracy),t.totalScore&&(_a.totalScore=t.totalScore),t.averageAccuracy&&(_a.averageAccuracy=t.averageAccuracy);const{badges:a}=e;if(a===f.noData)return;const n=Ve.getBadges(a),s={hero:!1,legend:!1};n.includes(qa.hero)&&(s.hero=!0),n.includes(qa.hero)&&(s.legend=!0),Na.achievementCurrentStatus=s}static badgeHandler(){if(!_a.userData||!Na.achievementCurrentStatus)return;const{badges:e}=_a.userData,t=[];if(Na.achievementCurrentStatus.hero&&t.push(qa.hero),Na.achievementCurrentStatus.legend&&t.push(qa.legend),e!==f.noData||t.length)if(e===f.noData)_a.userData.badges=Ve.setBadges(t);else{const a=Ve.getBadges(e),n=[qa.hero,qa.legend];let s=[];const r=[];t.forEach((e=>{a.includes(e)||a.push(e)})),n.forEach((e=>{if(a.includes(e)&&!t.includes(e)){const t=a.indexOf(e);r.push(t)}})),s=t.length?a.filter(((e,t)=>!r.includes(t))):a.filter((e=>!n.includes(e))),_a.userData.badges=Ve.setBadges(s)}}static setData(){if(!_a.userData)return;const e={firstAppearance:Na.firstAppearance,levelsPoints:_a.levels,levelsDone:_a.lvlsDone,bestScore:_a.bestLvlScore,bestAccuracy:_a.bestLvlAccuracy,totalScore:_a.totalScore,averageAccuracy:_a.averageAccuracy},t=Ge.setGameData(e);_a.badgeHandler();const a={_id:_a.userData._id,__v:_a.userData.__v,login:_a.userData.login,password:_a.userData.password,avatar:_a.userData.avatar,testing:_a.userData.testing,lessonsEn:_a.userData.lessonsEn,lessonsRu:_a.userData.lessonsRu,typingAdventure:_a.userData.typingAdventure,typingHero:t,badges:_a.userData.badges};ke.updateUser(_a.userData._id,a)}}_a.levels={1:{score:0,accuracy:0},2:{score:0,accuracy:0},3:{score:0,accuracy:0},4:{score:0,accuracy:0},5:{score:0,accuracy:0},6:{score:0,accuracy:0},7:{score:0,accuracy:0},8:{score:0,accuracy:0},9:{score:0,accuracy:0},10:{score:0,accuracy:0},sandbox:{score:0,accuracy:0}},_a.lvlsDone=0,_a.bestLvlScore=za.basePointsContent,_a.bestLvlAccuracy=za.basePointsContent,_a.totalScore=za.basePointsContent,_a.averageAccuracy=za.basePointsContent;const Ja=_a;class Qa{static createScoreAccuracyWrappers(){return{score:Qa.createCurrentPointsWrapper(za.score),accuracy:Qa.createCurrentPointsWrapper(za.accuracy)}}static createUserPointsWrappers(e){return{userScore:Qa.createUserPoints(e,"score"),userAccuracy:Qa.createUserPoints(e,"accuracy")}}static createPointsWrapper(e){return{wrapper:Ra.createElement(t.div,[{name:"class",value:`${e}`}]),title:Ra.createElement(t.par,[{name:"class",value:`${e}-title`}]),points:Ra.createElement(t.par,[{name:"class",value:`${e}-points`}])}}static createCurrentPointsWrapper(e){const{wrapper:t,title:a,points:n}=Qa.createPointsWrapper(`current-${e}`);return e===za.score&&(a.textContent=`${Na.lib.currentScore} ${Na.lib.score.slice(0,-1)}`,ja.scoreWrapper=n),e===za.accuracy&&(a.textContent=`${Na.lib.currentAccuracy} ${Na.lib.accuracy.slice(0,-1)}`,ja.accuracyWrapper=n),n.textContent=za.basePointsContent,t.append(a,n),t}static createUserPoints(e,t){const{wrapper:a,title:n,points:s}=Qa.createPointsWrapper("user-data"),r=Ja.levels[e][t];if(t===za.score&&(n.textContent=`${Na.lib.bestScore} ${Na.lib.score.slice(0,-1)}`),t===za.accuracy&&(n.textContent=`${Na.lib.bestAccuracy} ${Na.lib.accuracy.slice(0,-1)}`),r===Va.startScore)s.textContent=za.basePointsContent;else if(r>Va.startScore&&t===za.accuracy){const e=r.toString();s.textContent=`${e}%`}else s.textContent=r.toString();return a.append(n,s),a}static scoreHandler(){ja.lvlScore+=za.scorePoint,ja.scoreWrapper.textContent=ja.lvlScore.toString()}static accuracyHandler(){const e=ja.currentPressKeys.length,t=ja.matchedKeys.length/e*Va.hundredPercent,a=`${Math.trunc(t)}%`;ja.lvlAccuracy=t,ja.accuracyWrapper.textContent=a}static saveResult(e){const t=ja.lvlScore,a=ja.lvlAccuracy;Ja.levels[e].score<t&&(Ja.levels[e].score=t),Ja.levels[e].accuracy<a&&(Ja.levels[e].accuracy=Math.trunc(a)),Ja.progressChecker()}static clearPointsAndState(){ja.lvlScore=za.basePoints,ja.lvlAccuracy=za.basePoints,ja.currentFieldKeys=[],ja.currentPressKeys=[],ja.matchedKeys=[],ja.scoreWrapper.textContent=za.basePointsContent,ja.accuracyWrapper.textContent=za.basePointsContent}}const Za=Qa,Xa={1:{speed:5500,duration:3e4,columns:5},2:{speed:5e3,duration:35e3,columns:5},3:{speed:4500,duration:45e3,columns:5},4:{speed:4e3,duration:45e3,columns:5},5:{speed:4e3,duration:7e4,columns:5},6:{speed:5500,duration:55e3,columns:7},7:{speed:5e3,duration:75e3,columns:7},8:{speed:4500,duration:8e4,columns:7},9:{speed:4e3,duration:1e5,columns:7},10:{speed:4e3,duration:15e4,columns:7}},en={1:250,2:350,3:500,4:550,5:850,6:700,7:1050,8:1190,9:1750,10:2590};class tn{static lvlStartCompleted(e,a){const n=Ra.createElement(t.div,[{name:"class",value:"lvl-start-completed-modal"}]),s=Ra.createElement(t.par,[{name:"class",value:"lvl-start-completed-modal-content"}]);s.textContent=e,setTimeout((()=>{n.remove()}),a),n.append(s),ja.lvlWrapper.append(n)}static lvlComplete(){const e=Ra.createElement(t.div,[{name:"class",value:"lvl-complete-modal"}]),a=Ra.createElement(t.par,[{name:"class",value:"lvl-complete-modal-content"}]);a.textContent=Na.lib.levelCompleted,setTimeout((()=>{a.remove()}),Va.completeModal),e.append(a),ja.lvlWrapper.append(e)}static preparationModal(e){const a=Ra.createElement(t.div,[{name:"class",value:"lvl-complete-modal"}]),n=Ra.createElement(t.par,[{name:"class",value:"lvl-complete-modal-content"}]);n.textContent=Na.lib.preparation,setTimeout((()=>{n.remove()}),e),a.append(n),ja.lvlWrapper.append(a)}static startModal(){const e=Ra.createElement(t.div,[{name:"class",value:"hero-start-menu-overlay"}]),a=Ra.createElement(t.div,[{name:"class",value:"hero-start-menu-modal"}]),n=Ra.createElement(t.par,[{name:"class",value:"hero-start-menu-title"}]),s=Ra.createElement(t.par,[{name:"class",value:"hero-start-menu-text"}]),r=Ra.createElement(t.par,[{name:"class",value:"hero-start-menu-text"}]),l=Ra.createElement(t.par,[{name:"class",value:"hero-start-menu-text"}]),c=Ra.createElement(t.img,[{name:"class",value:"hero-start-menu-image"},{name:"alt",value:"buttons-image"},{name:"src",value:"./assets/games/typing-hero/letters-view.svg"}]),o=Ra.createElement(t.img,[{name:"class",value:"hero-start-menu-image"},{name:"alt",value:"completed-image"},{name:"src",value:"./assets/games/typing-hero/lvl-completed.svg"}]),i=Ra.createElement(t.btn,[{name:"class",value:"start-menu-button"}]);n.textContent=Na.lib.startModalTitle,s.textContent=Na.lib.startModalParagOne,r.textContent=Na.lib.startModalParagTwo,l.textContent=Na.lib.startModalParagThree,i.textContent=Na.lib.startModalButton,i.addEventListener("click",(()=>{e.remove()})),a.append(n,s,c,r,o,l,i),e.append(a),Na.firstAppearance=!1,Na.gameWrapper.append(e)}static sandboxModal(e,a){const n=Ra.createElement(t.div,[{name:"class",value:"sandbox-menu-overlay"}]),s=Ra.createElement(t.div,[{name:"class",value:"sandbox-menu-modal"}]),r=Ra.createElement(t.div,[{name:"class",value:"sandbox-modal-content"}]),l=Ra.createElement(t.div,[{name:"class",value:"sandbox-modal-buttons"}]),c=Ra.createElement(t.par,[{name:"class",value:"sandbox-menu-title"}]),o=Ra.createElement(t.btn,[{name:"class",value:"sandbox-close-modal-button"}]),i=Ra.createElement(t.par,[{name:"class",value:"sandbox-menu-title"}]),u=Ra.createElement(t.par,[{name:"class",value:"sandbox-menu-title"}]),d=Ra.createElement(t.par,[{name:"class",value:"sandbox-menu-title"}]);let p,m,g;const v=Ra.createElement(t.input,[{name:"class",value:"sandbox-input"}]),h=Ra.createElement(t.input,[{name:"class",value:"sandbox-input"}]),b=Ra.createElement(t.input,[{name:"class",value:"sandbox-input"}]),f=Ra.createElement(t.btn,[{name:"class",value:"sandbox-start-button"}]);f.disabled=!0,c.textContent=Na.lib.sandboxModalText,i.textContent=Na.lib.sandboxInputSpeed,u.textContent=Na.lib.sandboxInputDuration,d.textContent=Na.lib.sandboxInputColumns,f.textContent=Na.lib.sandboxButtonStart,o.textContent=Na.lib.closeModal,v.addEventListener("input",(()=>{p=+v.value*Va.msMultiplier,f.disabled=tn.sandboxValidChecker(p,m,g)})),h.addEventListener("input",(()=>{m=+h.value*Va.msMultiplier,f.disabled=tn.sandboxValidChecker(p,m,g)})),b.addEventListener("input",(()=>{g=+b.value,f.disabled=tn.sandboxValidChecker(p,m,g)})),f.addEventListener("click",(()=>{const t=e("sandbox",g,p,m,a);Na.gameWrapper.innerHTML="",Na.gameWrapper.append(t)})),o.addEventListener("click",(()=>n.remove())),l.append(o,f),r.append(c,i,v,u,h,d,b),s.append(r,l),n.append(s),Na.gameWrapper.append(n)}static sandboxValidChecker(e,t,a){return!(e>=Ka.speedMin&&e<=Ka.speedMax&&t>=Ka.durationMin&&t<=Ka.durationMax&&a>=Ka.columnsMin&&a<=Ka.columnsMax)}}const an=tn;class nn{static createLvlButton(e,a){const n=Ra.createElement(t.btn,[{name:"class",value:"lvl-section-button"}]),s=Ra.createElement(t.par,[{name:"class",value:"lvl-section-title"}]),r=Ja.levels[e].score;if(s.textContent=`${Na.lib.level} ${e}`,n.addEventListener("click",(()=>{Na.gameWrapper.innerHTML="",Na.gameWrapper.append(nn.createLvl(e,Xa[e].columns,Xa[e].speed,Xa[e].duration,a))})),r===Va.startScore)n.classList.add("basic"),n.append(s);else{const t=nn.createButtonContent(e,n);n.append(s,t)}return n}static createButtonContent(e,a){const n=Ra.createElement(t.div,[{name:"class",value:"lvl-button-content"}]),s=Ja.levels[e].score,r=Ja.levels[e].accuracy,l=Ra.createElement(t.par,[{name:"class",value:"lvl-button-score-title"}]),c=Ra.createElement(t.par,[{name:"class",value:"lvl-button-accuracy-title"}]),o=Ra.createElement(t.par,[{name:"class",value:"lvl-button-score"}]),i=Ra.createElement(t.par,[{name:"class",value:"lvl-button-accuracy"}]),u=Ra.createElement(t.div,[{name:"class",value:"lvl-button-score-wrapper"}]),d=Ra.createElement(t.div,[{name:"class",value:"lvl-button-accuracy-wrapper"}]);return l.textContent=`${Na.lib.score.slice(0,-1)}`,c.textContent=`${Na.lib.accuracy.slice(0,-1)}`,o.textContent=`${s}/${en[e]}`,i.textContent=`${r}%`,a.classList.add("completed"),u.append(l,o),d.append(c,i),n.append(u,d),n}static createLvl(e,a,n,s,r){const l=Ra.createElement(t.div,[{name:"class",value:"lvl-wrapper"}]),c=Ra.createElement(t.div,[{name:"class",value:"lvl-field"}]),o=Ra.createElement(t.div,[{name:"class",value:"current-points-wrapper"}]),i=Ra.createElement(t.div,[{name:"class",value:"user-points-wrapper"}]),u=Ra.createElement(t.div,[{name:"class",value:"field-points-wrapper"}]),{score:d,accuracy:p}=Za.createScoreAccuracyWrappers(),{userScore:m,userAccuracy:g}=Za.createUserPointsWrappers(e),v=Ra.createElement(t.btn,[{name:"class",value:"field-menu-button"}]),h=Ra.createElement(t.div,[{name:"class",value:"field-menu-button-wrapper"}]),b=n*Va.resultTimeMultiplier,f=[];v.textContent=Na.lib.levelButton;for(let e=0;e<a;e+=1){const e=Ra.createElement(t.div,[{name:"class",value:"lvl-field-column"}]);f.push(e)}ja.lvlColumns=f;const y=setInterval((()=>{nn.createKeys(n,ja.lvlColumns)}),n);window.addEventListener("keypress",nn.keyChecker);const L=setTimeout((()=>{clearInterval(y),setTimeout((()=>{Za.saveResult(e),an.lvlStartCompleted(Na.lib.levelCompleted,Va.completeModal)}),b)}),s);return v.addEventListener("click",(()=>{clearInterval(y),clearTimeout(L),window.removeEventListener("keypress",nn.keyChecker),r(),Za.clearPointsAndState()})),c.append(...f),h.append(v),o.append(d,p),i.append(m,g),u.append(i,o),l.append(h,u,c),ja.lvlWrapper=l,an.lvlStartCompleted(Na.lib.preparationContent,n),l}static createKeys(e,a){a.forEach((a=>{setTimeout((()=>{const n=Ra.createElement(t.btn,[{name:"class",value:"column-key"}]),s=nn.getKeyValue(),r=e+500;n.textContent=s,n.classList.add(s),ja.currentFieldKeys.push(n),setTimeout((()=>{n.style.transition=`margin ${e}ms linear, background-color 500ms`,n.style.margin=`${Va.marginRoad}rem auto`}),Va.keysStep),n.addEventListener("transitionend",(()=>n.remove())),setTimeout((()=>{ja.currentFieldKeys=ja.currentFieldKeys.map((e=>e===n?null:e)),n.remove()}),r),a.append(n)}),nn.randomValue(e))}))}static randomValue(e){const t=Math.random()*e;return Math.trunc(t)}static getKeyValue(){const e=Na.keys.length,t=nn.randomValue(e);return Na.keys[t]}static keyChecker(e){const t=e.key,a=e.key.toUpperCase();let n=Va.keyCounterStep;ja.currentPressKeys.push(t),ja.currentFieldKeys.forEach(((e,s)=>{null!==e&&(e.classList.contains(t)||e.classList.contains(a))&&n===Va.keyCounterStep&&(e.classList.add("select"),ja.matchedKeys.push(t),Za.scoreHandler(),ja.currentFieldKeys.splice(s,Va.keyCounterStep),n+=Va.keyCounterStep)})),Za.accuracyHandler()}}const sn=nn;class rn{static createModal(e,a){const n=Ra.createElement(t.div,[{name:"class",value:"achievement-modal"}]),s=Ra.createElement(t.div,[{name:"class",value:"achievement-title"}]),r=Ra.createElement(t.div,[{name:"class",value:"achievement-text"}]),l=Ra.createElement(t.img,[{name:"class",value:"achievement-img"},{name:"alt",value:"achievement-image"},{name:"src",value:a}]),c=Ra.createElement(t.div,[{name:"class",value:"achievement-text-wrapper"}]);let o=qa.achievementStyleTop;s.textContent=Na.lib.achievementTitle,r.textContent=e,c.append(s,r),n.append(l,c);for(let e=0;e<rn.windowsCounter;e+=1)o+=qa.achievementAnotherModal;n.style.top=`${o}rem`,Na.gameWrapper.append(n),rn.windowsCounter+=1,setTimeout((()=>{n.remove(),rn.windowsCounter-=1}),qa.achievementTimer)}static achievementChecker(){rn.current.hero||rn.achievementHero(),rn.current.legend||rn.achievementLegend(),rn.achievementSetStatus()}static achievementSetStatus(){Na.achievementCurrentStatus=rn.current}static achievementHero(){10===Ja.lvlsDone&&(rn.createModal(Ke[qa.hero][Da.currentLang].text,"./assets/images/badges/badge-10.svg"),rn.current.hero=!0)}static achievementLegend(){const e=Object.keys(Ja.levels).map((e=>Ja.levels[e].score));let t=!0;e.forEach(((e,a)=>{e!==en[a]&&(t=!1)})),t&&(rn.createModal(Ke[qa.legend][Da.currentLang].text,"./assets/images/badges/badge-11.svg"),rn.current.legend=!0)}}rn.windowsCounter=0,rn.current={hero:!1,legend:!1};const ln=rn;class cn{static state(){Na.firstAppearance=!0,Ja.lvlsDone=Va.initialValue,Ja.bestLvlScore=za.basePointsContent,Ja.bestLvlAccuracy=za.basePointsContent,Ja.totalScore=za.basePointsContent,Ja.averageAccuracy=za.basePointsContent}static resetLvlsPoints(){Object.keys(Ja.levels).forEach((e=>{Ja.levels[e].score=Va.initialValue,Ja.levels[e].accuracy=Va.initialValue}))}static achievementClear(){Object.keys(ln.current).forEach((e=>{ln.current[e]=!1}))}static resetMethod(e){const a=Ra.createElement(t.div,[{name:"class",value:"hero-reset-overlay"}]),n=Ra.createElement(t.div,[{name:"class",value:"hero-reset-modal"}]),s=Ra.createElement(t.div,[{name:"class",value:"hero-reset-content"}]),r=Ra.createElement(t.div,[{name:"class",value:"hero-reset-buttons"}]),l=Ra.createElement(t.btn,[{name:"class",value:"hero-reset-button"}]),c=Ra.createElement(t.btn,[{name:"class",value:"hero-reset-close-button"}]);s.textContent=Na.lib.resetModalInfo,l.textContent=Na.lib.resetButton,c.textContent=Na.lib.closeModal,l.addEventListener("click",(()=>{cn.state(),cn.resetLvlsPoints(),cn.achievementClear(),a.remove(),e(),an.startModal(),Ja.setData()})),c.addEventListener("click",(()=>{a.remove()})),r.append(l,c),n.append(s,r),a.append(n),Na.gameWrapper.append(a)}}const on=cn;class un{static createMenu(){const e=Ra.createElement(t.div,[{name:"class",value:"hero-menu-wrapper"}]),a=Ra.createElement(t.div,[{name:"class",value:"hero-menu-header"}]),n=Ra.createElement(t.div,[{name:"class",value:"hero-menu-title-wrapper"}]),s=Ra.createElement(t.par,[{name:"class",value:"hero-menu-typing-title"}]),r=Ra.createElement(t.par,[{name:"class",value:"hero-menu-hero-title"}]),l=Ra.createElement(t.div,[{name:"class",value:"hero-menu-points-wrapper"}]),c=Ra.createElement(t.div,[{name:"class",value:"hero-menu-best-points-wrapper"}]),o=Ra.createElement(t.div,[{name:"class",value:"hero-menu-overall-points-wrapper"}]),i=Ra.createElement(t.section,[{name:"class",value:"hero-menu-sandbox-wrapper"}]),u=Ra.createElement(t.div,[{name:"class",value:"hero-menu-lvls-wrapper"}]),d=un.createMenuPointsView(za.best,za.score),p=un.createMenuPointsView(za.best,za.accuracy),m=un.createMenuPointsView(za.total,za.score),g=un.createMenuPointsView(za.average,za.accuracy),v=un.createMenuButton(),h=Ra.createElement(t.h4,[{name:"class",value:"hero-menu-sandbox-title"}]),b=un.sandboxButton(),f=un.resetButton(),y=["1","2","3","4","5","6","7","8","9","10"].map((e=>sn.createLvlButton(e,un.updateMenu)));return s.textContent=Ya.typingPart,r.textContent=Ya.heroPart,h.textContent=Na.lib.sandboxMenuTitle,n.append(s,r),a.append(v,n,f),c.append(d,p),o.append(m,g),l.append(c,o),u.append(...y),i.append(h,b),e.append(a,l,u,i),e}static createMenuButton(){const e=Ra.createElement(t.btn,[{name:"class",value:"hero-menu-app-button"}]);return e.textContent=Na.lib.appButton,e.addEventListener("click",(()=>{Na.appCallbacks.switchPage(Na.appCallbacks.page,Na.appCallbacks.render),Na.gameWrapper.remove()})),e}static createMenuPointsView(e,t){const{wrapper:a,title:n,points:s}=Za.createPointsWrapper(`${e}-${t}`);return e===za.best&&t===za.score&&(n.textContent=`${Na.lib.bestScore} ${Na.lib.score}`),e===za.best&&t===za.accuracy&&(n.textContent=`${Na.lib.bestAccuracy} ${Na.lib.accuracy}`),e===za.total&&t===za.score&&(n.textContent=`${Na.lib.total} ${Na.lib.totalScore}`),e===za.average&&t===za.accuracy&&(n.textContent=`${Na.lib.average} ${Na.lib.accuracy}`),t===za.score&&(Na.bestScore=s,s.textContent=Ja.bestLvlScore.toString()),t===za.accuracy&&(Na.bestAccuracy=s,Ja.bestLvlAccuracy===za.basePointsContent?s.textContent=Ja.bestLvlAccuracy:s.textContent=`${Ja.bestLvlAccuracy.toString()}%`),e===za.total&&t===za.score&&(Na.totalScore=s,s.textContent=Ja.totalScore.toString()),e===za.average&&t===za.accuracy&&(Na.totalScore=s,Ja.averageAccuracy===za.basePointsContent?s.textContent=Ja.averageAccuracy:s.textContent=`${Ja.averageAccuracy}%`),a.append(n,s),a}static updateMenu(){const e=un.createMenu();Na.gameWrapper.innerHTML="",Na.gameWrapper.append(e),ln.achievementChecker(),Ja.setData()}static sandboxButton(){const e=Ra.createElement(t.btn,[{name:"class",value:"hero-menu-sandbox-button"}]);return e.textContent=Na.lib.sandboxButton,e.addEventListener("click",(()=>{an.sandboxModal(sn.createLvl,un.updateMenu)})),e}static resetButton(){const e=Ra.createElement(t.btn,[{name:"class",value:"hero-menu-reset-button"}]);return e.textContent=Na.lib.resetButton,e.addEventListener("click",(()=>{on.resetMethod(un.updateMenu)})),e}}const dn=un,pn=class{};class mn{static getStep(){let e;return e=D.currentLessonFontSize===C.normal?S.normal:D.currentLessonFontSize===C.small?S.small:S.big,e}static check(){const e=wt.lessonChars[wt.inputIndex].getBoundingClientRect().top,t=wt.lessonChars[wt.inputIndex].getBoundingClientRect().bottom,a=wt.contentWrapper.getBoundingClientRect().top,n=wt.contentWrapper.getBoundingClientRect().bottom,s=mn.getStep();if(t>n){const e=parseInt(wt.charsWrapper.style.marginTop||"0px",10),a=t-n;wt.charsWrapper.style.marginTop=e-a-2*s+"px"}if(e<a){const t=parseInt(wt.charsWrapper.style.marginTop||"0px",10),n=a-e;wt.charsWrapper.style.marginTop=`${t+n+s}px`}}static adjust(){const e=wt.lessonChars[wt.inputIndex].getBoundingClientRect().top,t=wt.lessonChars[wt.inputIndex].getBoundingClientRect().bottom,a=wt.charsWrapper.getBoundingClientRect().top,n=wt.contentWrapper.getBoundingClientRect().top,s=wt.contentWrapper.getBoundingClientRect().bottom,r=mn.getStep();if(t>s-r){const e=parseInt(wt.charsWrapper.style.marginTop||"0px",10);wt.charsWrapper.style.marginTop=e-r+"px"}if(e<n+r&&a<n){const e=parseInt(wt.charsWrapper.style.marginTop||"0px",10);wt.charsWrapper.style.marginTop=`${e+r}px`}}}const gn=mn,vn=class{static create(a){const n=e.createElement(t.btn,[{name:"class",value:a}]);return a===D.currentLessonFontSize&&(n.classList.add("active-font-size-option"),pn.fontSize=n),n.addEventListener("click",(()=>{pn.fontSize&&pn.fontSize.classList.remove("active-font-size-option"),pn.fontSize=n,n.classList.add("active-font-size-option"),wt.contentWrapper.classList.remove(`lesson-${D.currentLessonFontSize}`),wt.contentWrapper.classList.add(`lesson-${a}`),D.currentLessonFontSize=a,"hidden"!==wt.contentWrapper.style.visibility&&gn.check(),F.saveState()})),n}},hn=class{static create(a){const n=e.createElement(t.btn,[{name:"class",value:a}]);return a===D.currentLessonFontFamily&&(n.classList.add("active-font-family-option"),pn.fontFamily=n),n.addEventListener("click",(()=>{pn.fontFamily&&pn.fontFamily.classList.remove("active-font-family-option"),pn.fontFamily=n,n.classList.add("active-font-family-option"),wt.contentWrapper.classList.remove(`lesson-${D.currentLessonFontFamily}`),wt.contentWrapper.classList.add(`lesson-${a}`),D.currentLessonFontFamily=a,F.saveState()})),n}};class bn{static fillOptionPanel(a,n){const s=a,r=e.createElement(t.div,[{name:"class",value:"options-font"}]),l=e.createElement(t.div,[{name:"class",value:"options-font-size"}]),c=e.createElement(t.div,[{name:"class",value:"options-font-family"}]),o=vn.create(C.normal),i=vn.create(C.small),u=vn.create(C.big),d=hn.create(x.default),p=hn.create(x.serif);o.textContent="Aa",i.textContent="Aa",u.textContent="Aa",d.textContent="Font Sans Serif",p.textContent="Font Serif",c.append(d,p),l.append(i,o,u),r.append(l,c),s.classList.remove("hidden"),s.textContent="",s.append(r),n.classList.remove("hidden")}static createLessonFontBtn(a,n){const s=e.createElement(t.btn,[{name:"class",value:"lesson-font-btn"}]);return s.addEventListener("click",(()=>{if(s.classList.contains("active-option"))return s.classList.remove("active-option"),n.classList.add("hidden"),void a.classList.add("hidden");bn.fillOptionPanel(a,n),pn.option&&pn.option.classList.remove("active-option"),pn.option=s,pn.option.classList.add("active-option")})),s}}const fn=bn,yn=class{static create(a){const n=e.createElement(t.btn,[{name:"class",value:a}]);return a===D.currentLessonSound&&(n.classList.add("active-sound-option"),pn.sound=n),n.addEventListener("click",(()=>{pn.sound&&pn.sound.classList.remove("active-sound-option"),pn.sound=n,n.classList.add("active-sound-option"),D.currentLessonSound=a,F.saveState()})),n}};class Ln{static fillOptionPanel(a,n){const s=a,r=e.createElement(t.div,[{name:"class",value:"options-sound"}]),l=yn.create(T.silent),c=yn.create(T.soft),o=yn.create(T.hard),i=yn.create(T.mech);l.textContent=j.lessonSoundSilent[D.currentLang],c.textContent=j.lessonSoundSoft[D.currentLang],o.textContent=j.lessonSoundHard[D.currentLang],i.textContent=j.lessonSoundMech[D.currentLang],r.append(l,c,o,i),s.textContent="",s.classList.remove("hidden"),s.append(r),n.classList.remove("hidden")}static createLessonSoundBtn(a,n){const s=e.createElement(t.btn,[{name:"class",value:"lesson-sound-btn"}]);return s.addEventListener("click",(()=>{if(s.classList.contains("active-option"))return s.classList.remove("active-option"),n.classList.add("hidden"),void a.classList.add("hidden");Ln.fillOptionPanel(a,n),pn.option&&pn.option.classList.remove("active-option"),pn.option=s,pn.option.classList.add("active-option")})),s}}const En=Ln,wn=class{static createBgOption(a){const n=e.createElement(t.btn,[{name:"class",value:a}]);return a===D.currentLessonBg&&(n.classList.add("active-bg-option"),pn.bg=n),n.addEventListener("click",(()=>{pn.bg&&pn.bg.classList.remove("active-bg-option"),pn.bg=n,n.classList.add("active-bg-option"),wt.page.classList.remove(`lesson-${D.currentLessonBg}`),wt.page.classList.add(`lesson-${a}`),D.currentLessonBg=a,F.saveState()})),n}};class Cn{static fillOptionPanel(a,n){const s=a,r=e.createElement(t.div,[{name:"class",value:"options-bg"}]),l=wn.createBgOption(w.default),c=wn.createBgOption(w.one),o=wn.createBgOption(w.two);r.append(l,c,o),s.classList.remove("hidden"),s.textContent="",s.append(r),n.classList.remove("hidden")}static createLessonBgBtn(a,n){const s=e.createElement(t.btn,[{name:"class",value:"lesson-bg-btn"}]);return s.addEventListener("click",(()=>{if(s.classList.contains("active-option"))return s.classList.remove("active-option"),n.classList.add("hidden"),void a.classList.add("hidden");Cn.fillOptionPanel(a,n),pn.option&&pn.option.classList.remove("active-option"),pn.option=s,pn.option.classList.add("active-option")})),s}}const xn=Cn,Sn=class{static createSkinOption(a){const n=e.createElement(t.btn,[{name:"class",value:a}]);return a===D.currentLessonSkin&&(n.classList.add("active-skin-option"),pn.skin=n),n.addEventListener("click",(()=>{pn.skin&&pn.skin.classList.remove("active-skin-option"),pn.skin=n,n.classList.add("active-skin-option"),wt.keyboard.classList.remove(`lesson-${D.currentLessonSkin}`),wt.keyboard.classList.add(`lesson-${a}`),D.currentLessonSkin=a,F.saveState()})),n}};class Tn{static fillOptionPanel(a,n){const s=a,r=e.createElement(t.div,[{name:"class",value:"options-keyboard"}]),l=e.createElement(t.div,[{name:"class",value:"options-skin"}]),c=Sn.createSkinOption(k.default),o=Sn.createSkinOption(k.one),i=Sn.createSkinOption(k.two),u=Sn.createSkinOption(k.three),d=class{static create(){const a=e.createElement(t.btn,[{name:"class",value:"hands-option"}]);return D.currentLessonHands===B.hidden?(wt.hands.style.visibility="hidden",a.classList.add(B.hidden)):(wt.hands.style.visibility="visible",a.classList.add(B.visible)),a.addEventListener("click",(()=>{a.classList.contains(B.hidden)?(wt.hands.style.visibility="visible",a.classList.add(B.visible),a.classList.remove(B.hidden),D.currentLessonHands=B.visible):(wt.hands.style.visibility="hidden",a.classList.add(B.hidden),a.classList.remove(B.visible),D.currentLessonHands=B.hidden),F.saveState()})),a}}.create();r.append(l,d),l.append(c,o,i,u),s.classList.remove("hidden"),s.textContent="",s.append(r),n.classList.remove("hidden")}static createLessonSkinBtn(a,n){const s=e.createElement(t.btn,[{name:"class",value:"lesson-skin-btn"}]);return s.addEventListener("click",(()=>{if(s.classList.contains("active-option"))return s.classList.remove("active-option"),n.classList.add("hidden"),void a.classList.add("hidden");Tn.fillOptionPanel(a,n),pn.option&&pn.option.classList.remove("active-option"),pn.option=s,pn.option.classList.add("active-option")})),s}}const kn=Tn,Bn=[[{type:"Symbol",downEng:"`",upEng:"~",downRu:"ё"},{type:"Symbol",downEng:"1",upEng:"!",downRu:"1",upRu:"!"},{type:"Symbol",downEng:"2",upEng:"@",downRu:"2",upRu:'"'},{type:"Symbol",downEng:"3",upEng:"#",downRu:"3",upRu:"№"},{type:"Symbol",downEng:"4",upEng:"$",downRu:"4",upRu:";"},{type:"Symbol",downEng:"5",upEng:"%",downRu:"5",upRu:"%"},{type:"Symbol",downEng:"6",upEng:"^",downRu:"6",upRu:":"},{type:"Symbol",downEng:"7",upEng:"&",upRu:"?",downRu:"7"},{type:"Symbol",downEng:"8",upEng:"*",downRu:"8",upRu:"*"},{type:"Symbol",downEng:"9",upEng:"(",downRu:"9",upRu:"("},{type:"Symbol",downEng:"0",upEng:")",downRu:"0",upRu:")"},{type:"Symbol",downEng:"-",upEng:"_",downRu:"-",upRu:"_"},{type:"Symbol",downEng:"=",upEng:"+",downRu:"=",upRu:"+"},{type:"Function",down:"Backspace",specialSize:1}],[{type:"Function",down:"Tab",specialSize:1},{type:"Symbol",downEng:"q",downRu:"й",letter:!0},{type:"Symbol",downEng:"w",downRu:"ц",letter:!0},{type:"Symbol",downEng:"e",downRu:"у",letter:!0},{type:"Symbol",downEng:"r",downRu:"к",letter:!0},{type:"Symbol",downEng:"t",downRu:"е",letter:!0},{type:"Symbol",downEng:"y",downRu:"н",letter:!0},{type:"Symbol",downEng:"u",downRu:"г",letter:!0},{type:"Symbol",downEng:"i",downRu:"ш",letter:!0},{type:"Symbol",downEng:"o",downRu:"щ",letter:!0},{type:"Symbol",downEng:"p",downRu:"з",letter:!0},{type:"Symbol",upEng:"{",downEng:"[",downRu:"х"},{type:"Symbol",downEng:"]",downRu:"ъ",upEng:"}"},{type:"Symbol",downEng:"\\",downRu:"\\",upEng:"|",upRu:"/"}],[{type:"Function",down:"CapsLock",specialSize:2},{type:"Symbol",downEng:"a",downRu:"ф",letter:!0},{type:"Symbol",downEng:"s",downRu:"ы",letter:!0},{type:"Symbol",downEng:"d",downRu:"в",letter:!0},{type:"Symbol",downEng:"f",downRu:"а",letter:!0},{type:"Symbol",downEng:"g",downRu:"п",letter:!0},{type:"Symbol",downEng:"h",downRu:"р",letter:!0},{type:"Symbol",downEng:"j",downRu:"о",letter:!0},{type:"Symbol",downEng:"k",downRu:"л",letter:!0},{type:"Symbol",downEng:"l",downRu:"д",letter:!0},{type:"Symbol",downEng:";",downRu:"ж",upEng:":"},{type:"Symbol",upEng:'"',downEng:"'",downRu:"э"},{type:"Function",down:"Enter",specialSize:1}],[{type:"Function",down:"Shift",specialSize:3},{type:"Symbol",downEng:"z",downRu:"я",letter:!0},{type:"Symbol",downEng:"x",downRu:"ч",letter:!0},{type:"Symbol",downEng:"c",downRu:"с",letter:!0},{type:"Symbol",downEng:"v",downRu:"м",letter:!0},{type:"Symbol",downEng:"b",downRu:"и",letter:!0},{type:"Symbol",downEng:"n",downRu:"т",letter:!0},{type:"Symbol",downEng:"m",downRu:"ь",letter:!0},{code:"Comma",type:"Symbol",downEng:",",downRu:"б",upEng:"<"},{code:"Period",type:"Symbol",downEng:".",downRu:"ю",upEng:">"},{type:"Symbol",downEng:"/",downRu:".",upEng:"?",upRu:","},{type:"Function",down:"Shift",specialSize:2}],[{type:"Function",down:"Ctrl",specialSize:2},{type:"Function",down:"Alt",specialSize:2},{type:"Function",down:"",specialSize:4},{type:"Function",down:"Alt",specialSize:2},{type:"Function",down:"Ctrl",specialSize:3}]];class Mn{static createKey(a,n){const s=e.createElement(t.span);s.textContent=n,a.append(s)}static createLessonKeyboard(){const a=e.createElement(t.div,[{name:"class",value:`lesson-keyboard lesson-${D.currentLessonSkin}`}]);return Bn.forEach((n=>{const s=e.createElement(t.div,[{name:"class",value:"keyboard-row"}]);n.forEach((a=>{const n=e.createElement(t.div,[{name:"class",value:"keyboard-key"}]);if("Function"===a.type&&(n.classList.add("key-function"),n.textContent=`${a.down}`),a.specialSize)switch(a.specialSize){case 1:n.classList.add("key-size-one-half");break;case 2:n.classList.add("key-size-double"),"Shift"===a.down&&(Mn.shiftRight=n);break;case 3:n.classList.add("key-size-two-half"),"Shift"===a.down&&(Mn.shiftLeft=n);break;default:n.classList.add("key-size-space"),Mn.space=n}"Symbol"===a.type&&(D.currentLayout===i.en?(a.upEng&&(Mn.createKey(n,a.upEng),Mn.virtualKeys[a.upEng]=n),a.downEng&&(Mn.createKey(n,a.downEng),Mn.virtualKeys[a.downEng]=n),a.upEng&&a.downEng&&n.classList.add("key-two-symbols")):(a.upRu&&(Mn.createKey(n,a.upRu),Mn.virtualKeys[a.upRu]=n),a.downRu&&(Mn.createKey(n,a.downRu),Mn.virtualKeys[a.downRu]=n),a.upRu&&a.downRu&&n.classList.add("key-two-symbols"))),a.letter&&n.classList.add("key-letter"),s.append(n)})),a.append(s)})),a}}Mn.virtualKeys={};const An=Mn;class Pn{static create(a,n){const s=e.createElement(t.div,[{name:"class",value:"lesson-badge"}]),r=e.createElement(t.img,[{name:"src",value:`./assets/images/badges/badge-${a}.svg`},{name:"alt",value:"Badge Image"},{name:"height",value:"80px"},{name:"width",value:"80px"}]),l=e.createElement(t.div,[{name:"class",value:"lesson-badge-text"}]),c=e.createElement(t.par,[{name:"class",value:"lesson-badge-title"}]),o=e.createElement(t.par,[{name:"class",value:"lesson-badge-content"}]);return c.textContent=j.lessonBadgeTitle[D.currentLang],o.textContent=n,l.append(c,o),s.append(r,l),s}static checkCompletedBadges(e,t){const a=Ct.getAllLessons(wt.user),n=Object.values(a).filter((e=>0===e.lastScore)).length;return Object.keys(a).length!==wt.lessonsNumber||n||(D.currentLayout===i.en?e.includes(E.twelve)||(t.append(Pn.create(E.twelve,j.lessonBadgeCompletedAllLessons[D.currentLang])),e.push(E.twelve),e.includes(E.thirteen)&&(t.append(Pn.create(E.twenty,j.lessonBadgeEyesUp[D.currentLang])),e.push(E.twenty))):e.includes(E.thirteen)||(t.append(Pn.create(E.thirteen,j.lessonBadgeCompletedAllLessons[D.currentLang])),e.push(E.thirteen),e.includes(E.twelve)&&(t.append(Pn.create(E.twenty,j.lessonBadgeEyesUp[D.currentLang])),e.push(E.twenty)))),e}static checkSpeedBadges(e,t){return wt.accuracy>=90&&wt.speed>=20&&(D.currentLayout===i.en?e.includes(E.fourteen)||(t.append(Pn.create(E.fourteen,j.lessonBadgeSpeed20[D.currentLang])),e.push(E.fourteen)):e.includes(E.fifteen)||e.includes(E.fifteen)||(t.append(Pn.create(E.fifteen,j.lessonBadgeSpeed20[D.currentLang])),e.push(E.fifteen)),wt.speed>=60&&(D.currentLayout===i.en?e.includes(E.sixteen)||(t.append(Pn.create(E.sixteen,j.lessonBadgeSpeed60[D.currentLang])),e.push(E.sixteen)):e.includes(E.seventeen)||e.includes(E.seventeen)||(t.append(Pn.create(E.seventeen,j.lessonBadgeSpeed60[D.currentLang])),e.push(E.seventeen))),wt.speed>=100&&(D.currentLayout===i.en?e.includes(E.eighteen)||(t.append(Pn.create(E.eighteen,j.lessonBadgeSpeed100[D.currentLang])),e.push(E.eighteen)):e.includes(E.nineteen)||e.includes(E.nineteen)||(t.append(Pn.create(E.nineteen,j.lessonBadgeSpeed100[D.currentLang])),e.push(E.nineteen)))),e}static checkBadges(){let a=[];const n=e.createElement(t.div,[{name:"class",value:"lesson-badges-wrapper"}]);return wt.user.badges!==f.noData&&(a=Ve.getBadges(wt.user.badges)),a=Pn.checkCompletedBadges(a,n),a=Pn.checkSpeedBadges(a,n),wt.user.badges=Ve.setBadges(a),n}}const $n=Pn;class In{static getScore(){let e;const t=Math.floor((wt.accuracy-wt.lessonData.minAccuracy)/((100-wt.lessonData.minAccuracy)/5)),a=Math.floor(wt.speed/wt.lessonData.starSpeed);return e=t+a>5?5:t+a,(wt.accuracy<wt.lessonData.minAccuracy||wt.speed<wt.lessonData.minSpeed)&&(e=0),e}static saveResult(e){const t={lastSpeed:wt.speed,lastAccuracy:wt.accuracy,lastScore:In.getScore()},a=Ct.getAllLessons(wt.user);a[wt.lessonData.index]=t;const n=je.setLessons(a);D.currentLayout===i.en?wt.user.lessonsEn=n:wt.user.lessonsRu=n,e.append($n.checkBadges());const s=new Be(wt.user.login,wt.user.password,wt.user.avatar,wt.user.testing,wt.user.lessonsEn,wt.user.lessonsRu,wt.user.typingAdventure,wt.user.typingHero,wt.user.badges);ke.updateUser(wt.user._id,s)}static createAccuracyReq(){const a=e.createElement(t.span,[{name:"class",value:"lesson-result-accuracy-wrapper"}]),n=e.createElement(t.span,[{name:"class",value:"lesson-result-accuracy"}]),s=e.createElement(t.span,[{name:"class",value:"lesson-result-accuracy-num"}]);return n.textContent=j.lessonResultsReqAccuracy[D.currentLang],s.textContent=`${wt.lessonData.minAccuracy}%`,a.append(n,s),a}static createSpeedReq(){const a=e.createElement(t.span,[{name:"class",value:"lesson-result-speed-wrapper"}]),n=e.createElement(t.span,[{name:"class",value:"lesson-result-speed"}]),s=e.createElement(t.span,[{name:"class",value:"lesson-result-speed-num"}]);return n.textContent=j.lessonResultsReqSpeed[D.currentLang],s.textContent=`${wt.lessonData.minSpeed}${j.testWpmSub[D.currentLang]}`,a.append(n,s),a}static createSpeedStarReq(){const a=e.createElement(t.span,[{name:"class",value:"lesson-result-speed-star-wrapper"}]),n=e.createElement(t.span,[{name:"class",value:"lesson-result-speed-star"}]),s=e.createElement(t.span,[{name:"class",value:"lesson-result-speed-star-num"}]);return n.textContent=j.lessonResultsReqSpeedStar[D.currentLang],s.textContent=`${wt.lessonData.starSpeed}${j.testWpmSub[D.currentLang]}`,a.append(n,s),a}static createLessonResult(){const a=e.createElement(t.div,[{name:"class",value:"lesson-result"}]),n=e.createElement(t.h5,[{name:"class",value:"lesson-result-title"}]),s=e.createElement(t.span,[{name:"class",value:"lesson-result-score-text"}]),r=e.createElement(t.div,[{name:"class",value:"lesson-score"}]),l=e.createElement(t.div,[{name:"class",value:"lesson-score-wrapper"}]),c=In.getScore(),o=e.createElement(t.h5,[{name:"class",value:"lesson-result-req"}]),i=In.createAccuracyReq(),u=In.createSpeedReq(),d=In.createSpeedStarReq();if(5-c)for(let a=0;a<5-c;a+=1){const a=e.createElement(t.div,[{name:"class",value:"lesson-btn-star-empty"}]);r.append(a)}for(let a=0;a<c;a+=1){const a=e.createElement(t.div,[{name:"class",value:"lesson-btn-star"}]);r.append(a)}switch(c){case 1:n.textContent=j.lessonResults1[D.currentLang];break;case 2:n.textContent=j.lessonResults2[D.currentLang];break;case 3:n.textContent=j.lessonResults3[D.currentLang];break;case 4:n.textContent=j.lessonResults4[D.currentLang];break;case 5:n.textContent=j.lessonResults5[D.currentLang];break;default:n.textContent=j.lessonResults0[D.currentLang]}return o.textContent=j.lessonResultsReq[D.currentLang],s.textContent=j.lessonResultsScoreText[D.currentLang],l.append(s,r),a.append(n,l,o,i,u,d),a}static createNextBtn(a){const s=e.createElement(t.btn,[{name:"class",value:"lesson-next-btn"}]),r=wt.lessonsId.indexOf(wt.lessonData._id);return r<wt.lessonsId.length-1?(s.textContent=j.lessonNextBtn[D.currentLang],s.addEventListener("click",(()=>{ke.getLesson(wt.lessonsId[r+1]).then((e=>{wt.lessonData=e,wt.clearState(),N.applyPage(n.lesson,a)}))}))):(s.textContent=j.lessonNextLastBtn[D.currentLang],s.addEventListener("click",(()=>{wt.clearState(),N.applyPage(n.lessons,a)}))),s}static showLessonResult(a){const n=e.createElement(t.div,[{name:"class",value:"lesson-result-wrapper"}]);wt.contentWrapper.style.visibility="hidden",wt.keyboard.style.visibility="hidden",wt.hands.classList.add("hidden"),wt.progressWrapper.style.visibility="hidden",n.append(In.createLessonResult()),n.append(In.createNextBtn(a)),wt.page.append(n),Q.checkIfUserAuthorised()&&In.saveResult(n)}}const Rn=In,Dn={ё:"backquote",й:"q",ц:"w",у:"e",к:"r",е:"t",н:"y",г:"u",ш:"i",щ:"o",з:"p",х:"left-bracket",ъ:"right-bracket",ф:"a",ы:"s",в:"d",а:"f",п:"g",р:"h",о:"j",л:"k",д:"l",ж:"semicolon",э:"single-quote",я:"z",ч:"x",с:"c",м:"v",и:"b",т:"n",ь:"m",б:"comma",ю:"dot",Ё:"tilda",Х:"left-brace",Ъ:"right-brace",Ж:"colon",Э:"double-quote",Б:"shift-comma",Ю:"shift-dot"};class Hn{static checkMatch(e){if(wt.lessonChars[wt.inputIndex].textContent===e)if(wt.historyMistakes.includes(wt.inputIndex)){wt.lessonChars[wt.inputIndex].classList.add("correction");const e=wt.mistakes.indexOf(wt.inputIndex);e>-1&&wt.mistakes.splice(e,1)}else wt.lessonChars[wt.inputIndex].classList.add("correct");else wt.mistakes.includes(wt.inputIndex)||wt.mistakes.push(wt.inputIndex),wt.historyMistakes.includes(wt.inputIndex)||wt.historyMistakes.push(wt.inputIndex),wt.lessonChars[wt.inputIndex].classList.add("incorrect")}static getCorrections(){return Math.floor(wt.historyMistakes.length-wt.mistakes.length)}static getAccuracy(){const e=wt.typedChars+1-wt.mistakes.length,t=wt.historyMistakes.length-wt.mistakes.length,a=Math.floor((e-t/2)/(wt.typedChars+1)*100);return wt.accuracy=a,a}static hideRibbon(){wt.ribbon.style.top="-5rem"}static highlightKey(e){if(e<wt.lessonChars.length){let t=wt.lessonChars[e].textContent;" "===t?An.space.classList.add("current-char"):((t===t.toLocaleUpperCase()&&t.match(Hn.charLetter)||D.currentLayout===i.ru&&t.match(Hn.charShiftRu)||t.match(Hn.charSymbols))&&(t.match(Hn.rightShift)||D.currentLayout===i.ru&&t.match(Hn.rightShiftRu)?An.shiftRight.classList.add("current-char"):An.shiftLeft.classList.add("current-char")),t=t.toLocaleLowerCase(),An.virtualKeys[t].classList.add("current-char"))}}static removeKeyHighlight(e){if(e<wt.lessonChars.length){let t=wt.lessonChars[e].textContent;" "===t?An.space.classList.remove("current-char"):((t===t.toLocaleUpperCase()&&t.match(Hn.charLetter)||D.currentLayout===i.ru&&t.match(Hn.charShiftRu)||t.match(Hn.charSymbols))&&(t.match(Hn.rightShift)||D.currentLayout===i.ru&&t.match(Hn.rightShiftRu)?An.shiftRight.classList.remove("current-char"):An.shiftLeft.classList.remove("current-char")),t=t.toLocaleLowerCase(),An.virtualKeys[t].classList.remove("current-char"))}}static turnOnSound(){if(D.currentLessonSound===T.silent)return;let e=new Audio(`./assets/audio/${T.soft}.wav`);D.currentLessonSound===T.hard&&(e=new Audio(`./assets/audio/${T.hard}.wav`)),D.currentLessonSound===T.mech&&(e=new Audio(`./assets/audio/${T.mech}.wav`)),e.currentTime=0,e.play()}static addHandsRu(e,t,a,n){e===e.toLocaleLowerCase()?wt.hands.setAttribute("src",`${t}-${Dn[e.toLocaleLowerCase()]}-${n}.svg`):e!==e.toLocaleUpperCase()||e.match(Hn.charRuSpecial)?e.match(Hn.charRuSpecial)&&wt.hands.setAttribute("src",`${t}-${Dn[e]}-${n}.svg`):wt.hands.setAttribute("src",`${a}-${Dn[e.toLocaleLowerCase()]}-${n}.svg`)}static addHands(){const e=wt.lessonChars[wt.inputIndex].textContent,t=D.currentTheme,a="./assets/images/hands/hand",n="./assets/images/hands/hand-shift";e.match(Hn.charRu)?Hn.addHandsRu(e,a,n,t):e.match(Hn.charEn)?e===e.toLocaleLowerCase()?wt.hands.setAttribute("src",`${a}-${e.toLocaleLowerCase()}-${t}.svg`):wt.hands.setAttribute("src",`${n}-${e.toLocaleLowerCase()}-${t}.svg`):e.match(Hn.charNum)?wt.hands.setAttribute("src",`${a}-${e}-${t}.svg`):"`"===e?wt.hands.setAttribute("src",`${a}-backquote-${t}.svg`):"~"===e?wt.hands.setAttribute("src",`${a}-tilda-${t}.svg`):"'"===e?wt.hands.setAttribute("src",`${a}-single-quote-${t}.svg`):'"'===e?D.currentLayout===i.en?wt.hands.setAttribute("src",`${a}-double-quote-${t}.svg`):wt.hands.setAttribute("src",`${n}-2-${t}.svg`):"\\"===e?wt.hands.setAttribute("src",`${a}-back-slash-${t}.svg`):"|"===e?wt.hands.setAttribute("src",`${a}-or-${t}.svg`):"-"===e?wt.hands.setAttribute("src",`${a}-dash-${t}.svg`):"_"===e?wt.hands.setAttribute("src",`${n}-dash-${t}.svg`):","===e?D.currentLayout===i.en?wt.hands.setAttribute("src",`${a}-comma-${t}.svg`):wt.hands.setAttribute("src",`${a}-question-${t}.svg`):"<"===e?wt.hands.setAttribute("src",`${n}-comma-${t}.svg`):"/"===e?D.currentLayout===i.en?wt.hands.setAttribute("src",`${a}-slash-${t}.svg`):wt.hands.setAttribute("src",`${a}-or-${t}.svg`):"="===e?wt.hands.setAttribute("src",`${a}-equality-${t}.svg`):"+"===e?wt.hands.setAttribute("src",`${n}-equality-${t}.svg`):"["===e?wt.hands.setAttribute("src",`${a}-left-bracket-${t}.svg`):"{"===e?wt.hands.setAttribute("src",`${a}-left-brace-${t}.svg`):"]"===e?wt.hands.setAttribute("src",`${a}-right-bracket-${t}.svg`):"}"===e?wt.hands.setAttribute("src",`${a}-right-brace-${t}.svg`):";"===e?D.currentLayout===i.en?wt.hands.setAttribute("src",`${a}-semicolon-${t}.svg`):wt.hands.setAttribute("src",`${n}-4-${t}.svg`):":"===e?D.currentLayout===i.en?wt.hands.setAttribute("src",`${a}-colon-${t}.svg`):wt.hands.setAttribute("src",`${n}-6-${t}.svg`):" "===e?wt.hands.setAttribute("src",`${a}-space-${t}.svg`):">"===e?wt.hands.setAttribute("src",`${n}-dot-${t}.svg`):")"===e?wt.hands.setAttribute("src",`${n}-0-${t}.svg`):"("===e?wt.hands.setAttribute("src",`${n}-9-${t}.svg`):"!"===e?wt.hands.setAttribute("src",`${n}-1-${t}.svg`):"@"===e?wt.hands.setAttribute("src",`${n}-2-${t}.svg`):"%"===e?wt.hands.setAttribute("src",`${n}-5-${t}.svg`):"^"===e?wt.hands.setAttribute("src",`${n}-6-${t}.svg`):"*"===e?wt.hands.setAttribute("src",`${n}-8-${t}.svg`):"$"===e?wt.hands.setAttribute("src",`${n}-4-${t}.svg`):"&"===e?wt.hands.setAttribute("src",`${n}-7-${t}.svg`):"#"===e||"№"===e?wt.hands.setAttribute("src",`${n}-3-${t}.svg`):"?"===e?D.currentLayout===i.en?wt.hands.setAttribute("src",`${a}-question-${t}.svg`):wt.hands.setAttribute("src",`${n}-7-${t}.svg`):"."===e&&(D.currentLayout===i.en?wt.hands.setAttribute("src",`${a}-dot-${t}.svg`):wt.hands.setAttribute("src",`${a}-slash-${t}.svg`))}static createLessonInput(a){const n=e.createElement(t.input,[{name:"class",value:"lesson-input"},{name:"autocomplete",value:"off"}]);return wt.lessonChars[0].classList.add("active-char"),Hn.highlightKey(0),Hn.addHands(),n.addEventListener("input",(()=>{if(Hn.turnOnSound(),wt.inputIndex<wt.lessonChars.length&&wt.lessonChars[wt.inputIndex].classList.remove("active-char"),Hn.removeKeyHighlight(wt.inputIndex),wt.inputIndex>=wt.lessonChars.length)return;const e=n.value.split("")[wt.inputIndex];if(e&&Hn.highlightKey(wt.inputIndex+1),wt.inputIndex||Hn.hideRibbon(),gn.adjust(),wt.typedChars=wt.typedChars>wt.inputIndex?wt.typedChars:wt.inputIndex,wt.typing||(Rt.stopTimer=!1,wt.typing=!0,Rt.startTimer()),null==e)return wt.inputIndex&&(wt.inputIndex-=1),Hn.highlightKey(wt.inputIndex),wt.lessonChars[wt.inputIndex].classList.remove("correct","incorrect","correction"),wt.lessonChars[wt.inputIndex].classList.add("active-char"),Hn.addHands(),void(wt.progress.style.width=wt.inputIndex/wt.lessonChars.length*100+"%");Hn.checkMatch(e),wt.correctionsCount.textContent=`${Hn.getCorrections()}`,wt.accuracyCount.textContent=`${Hn.getAccuracy()} %`,wt.mistakesCount.textContent=`${wt.mistakes.length}`,wt.inputIndex===wt.lessonChars.length-1&&(Rt.stopTimer=!0,Rn.showLessonResult(a)),wt.inputIndex+=1,wt.inputIndex<wt.lessonChars.length&&(Hn.addHands(),wt.lessonChars[wt.inputIndex].classList.add("active-char")),wt.progress.style.width=wt.inputIndex/wt.lessonChars.length*100+"%"})),n}}Hn.charLetter=/[a-zA-Zа-яА-ЯЁё]/,Hn.charRu=/[а-яА-ЯЁё]/,Hn.charEn=/[a-zA-Z]/,Hn.charNum=/\d/,Hn.charSymbols=/[():*%"!?~"#№_+|<>{}^@$&]/,Hn.charShiftRu=/[,;/]/,Hn.charRuSpecial=/[ЁХЪЖЭБЮ]/,Hn.rightShift=/[~!@#$%Ё№ЙЦУКЕФЫВАПЯЧСМИQWERTASDFGZXCVB]/,Hn.rightShiftRu=/[";]/;const Fn=Hn;class Wn{static remove(e,t){e.remove(),t.remove(),Wn.currentTip=P.first}static createLastTip(a){const n=a,s=e.createElement(t.span,[{name:"class",value:"intro-text-accent"}]),r=e.createElement(t.span,[{name:"class",value:"intro-text"}]);s.textContent=j.lessonTipFifth1[D.currentLang],r.textContent=j.lessonTipFifth2[D.currentLang],n.textContent="",n.classList.add("intro-text-wrapper"),n.append(s,r)}static show(){const a=e.createElement(t.div,[{name:"class",value:"lesson-intro"}]),n=e.createElement(t.div,[{name:"class",value:"intro-overlay"}]),s=e.createElement(t.img,[{name:"class",value:"intro-img"}]),r=e.createElement(t.par,[{name:"class",value:"intro-text"}]),l=e.createElement(t.btn,[{name:"class",value:"intro-skip-btn"}]),c=e.createElement(t.btn,[{name:"class",value:"intro-next-btn"}]),o="./assets/images/lesson/lesson-tip",i=e.createElement(t.span,[{name:"class",value:"intro-text-key"}]),u=e.createElement(t.span,[{name:"class",value:"intro-text-key"}]),d=e.createElement(t.span,[{name:"class",value:"intro-text"}]),p=e.createElement(t.span,[{name:"class",value:"intro-text"}]),m=e.createElement(t.span,[{name:"class",value:"intro-text"}]),g=e.createElement(t.div,[{name:"class",value:"intro-btns-wrapper"}]);s.src=`${o}-${P.first}-${D.currentTheme}.svg`,r.textContent=j.lessonTipFirst[D.currentLang],l.textContent=j.lessonTipSkip[D.currentLang],c.textContent=j.lessonTipNext[D.currentLang],i.textContent=j.lessonTipF[D.currentLang],u.textContent=j.lessonTipJ[D.currentLang],d.textContent=j.lessonTipSecond[D.currentLang],p.textContent=j.lessonTipSecondMiddle[D.currentLang],m.textContent=j.lessonTipSecondEnd[D.currentLang],g.append(l,c),a.append(r,s,g),wt.page.append(a,n),c.addEventListener("click",(()=>{switch(Wn.currentTip){case 1:s.src=`${o}-${P.second}-${D.currentTheme}.svg`,r.textContent="",r.append(d,i,p,u,m),Wn.currentTip=P.second;break;case 2:s.src=`${o}-${P.third}-${D.currentTheme}.svg`,r.textContent=j.lessonTipThird[D.currentLang],Wn.currentTip=P.third;break;case 3:s.src=`${o}-${P.fourth}-${D.currentTheme}.svg`,r.textContent=j.lessonTipFourth[D.currentLang],Wn.currentTip=P.fourth;break;case 4:s.remove(),Wn.createLastTip(r),Wn.currentTip=P.fifth;break;default:Wn.remove(n,a)}})),l.addEventListener("click",(()=>{Wn.remove(n,a)})),n.addEventListener("click",(()=>{Wn.remove(n,a)}))}}Wn.currentTip=P.first;const Un=Wn,On=class{static createAboutDesc(a,n,s){const r=e.createElement(t.div,[{name:"class",value:"about-desc"}]),l=e.createElement(t.par,[{name:"class",value:"about-text"}]),c=e.createElement(t.span),o=e.createElement(t.link,[{name:"class",value:"about-link"},{name:"href",value:s},{name:"target",value:"_blank"}]);return c.textContent=a,o.textContent=n,l.append(c,o),r.append(l),r}},Nn=class{static createTechDesc(a,n){const s=e.createElement(t.div,[{name:"class",value:"about-desc"}]),r=e.createElement(t.par,[{name:"class",value:"about-text"}]),l=e.createElement(t.span),c=e.createElement(t.span,[{name:"class",value:"about-link"}]);return l.innerHTML=a,c.textContent=n,r.append(l,c),s.append(r),s}},Gn={greeting:{en:"Hello everyone!",ru:"Всем привет!"},project:{en:"The project was created as a final task of the Rolling Scopes School front-end development course. The working process and the full feature list of our application can be found by the ",ru:"Проект был создан в рамках финального задания курса front-end разработки Rolling Scopes School. С ходом работ и полным списком особенностей нашего приложения можно ознакомиться по "},features:{en:"link.",ru:"ссылке."},technologies:{en:"Technologies",ru:"Технологии"},textFront:{en:"Technologies used for front-end: ",ru:"Использованые front-end технологии: "},textBack:{en:"Technologies used for back-end: ",ru:"Использованые back-end технологии: "},techFront:{en:"HTML, SCSS, TypeScript",ru:"HTML, SCSS, TypeScript"},techBack:{en:"NodeJS, Express, Mongoose, MongoDB, Heroku",ru:"NodeJS, Express, Mongoose, MongoDB, Heroku"},developers:{en:"Developers",ru:"Разработчики"},nameOxana:{en:"Oxana",ru:"Оксана"},taskOneOxana:{en:"design",ru:"дизайн"},taskTwoOxana:{en:"tests/lessons content",ru:"содержимое тестов/уроков"},taskThreeOxana:{en:"layout: home, lessons layout choice, list of lessons, test, lesson, games choice",ru:"верстка: главная, выбор раскладки для уроков, список уроков, тест, урок, выбор игр"},taskFourOxana:{en:"logic: test, lesson, lesson customization",ru:"логика: тест, урок, кастомизация урока"},taskFiveOxana:{en:"back-end development",ru:"разработка back-end"},nameNikita:{en:"Nikita",ru:"Никита"},taskOneNikita:{en:"games concepts",ru:"концепты игр"},taskTwoNikita:{en:"layout: footer, Typing Adventure game, Typing Hero game",ru:"верстка: подвал, игра Typing Adventure, игра Typing Hero"},taskThreeNikita:{en:"logic: Typing Adventure game, Typing Hero game",ru:"логика: игра Typing Adventure, игра Typing Hero"},taskFourNikita:{en:"back-end deploy",ru:"развертывание back-end"},nameIrina:{en:"Irina",ru:"Ирина"},taskOneIrina:{en:'layout: header, registration/profile modals, "About Us"',ru:'верстка: шапка, модальные окна логина/профиля, "О нас"'},taskTwoIrina:{en:"logic: registration/authorization, data change/logout/profile deletion, display of statistics/badges in a profile",ru:"логика: регистрация/авторизация, смена данных/выход/удаление профиля, отображение статистики/достижений в профиле"},taskThreeIrina:{en:"work with local storage",ru:"работа с local storage"},taskFourIrina:{en:"back-end development",ru:"разработка back-end"},credits:{en:"Credits",ru:"Благодарности"},inspyredBy:{en:"The idea and content are taken from ",ru:"Идея и контент проекта взяты с сайта "},typingClub:{en:"TypingClub",ru:"TypingClub"},illustrationsBy:{en:"All illustrations are created by ",ru:"Все иллюстрации созданы "},and:{en:" and ",ru:" и "},comma:{en:", ",ru:", "},illustratorOne:{en:"Spectrum UI",ru:"Spectrum UI"},illustratorTwo:{en:"Alzea Arafat",ru:"Alzea Arafat"},illustratorThree:{en:"Upklyak",ru:"Upklyak"}},jn=class{static createDevTask(a){const n=e.createElement(t.listItem,[{name:"class",value:"about-dev-task"}]);return n.textContent=a,n}},Yn=class{static createDevDesc(a){const n=e.createElement(t.div,[{name:"class",value:"about-dev"}]),s=class{static createDevAvatar(a){const n=e.createElement(t.div,[{name:"class",value:"about-dev-avatar-wrapper"}]),s=e.createElement(t.img,[{name:"class",value:"about-dev-avatar-image"},{name:"src",value:a},{name:"alt",value:"Developer avatar"}]);return n.append(s),n}}.createDevAvatar(a.avatar),r=class{static createDevTitle(a){const n=e.createElement(t.h5,[{name:"class",value:"about-dev-title"}]);return n.textContent=a,n}}.createDevTitle(Gn[`name${a.name}`][D.currentLang]),l=class{static createDevLink(a,n){const s=e.createElement(t.link,[{name:"href",value:n},{name:"target",value:"_blank"}]);return s.append(a),s}}.createDevLink(r,a.gitHubLink),c=class{static createDevTasks(a){const n=e.createElement(t.list,[{name:"class",value:"about-dev-tasks"}]),s=jn.createDevTask(Gn[`taskOne${a}`][D.currentLang]),r=jn.createDevTask(Gn[`taskTwo${a}`][D.currentLang]),l=jn.createDevTask(Gn[`taskThree${a}`][D.currentLang]),c=jn.createDevTask(Gn[`taskFour${a}`][D.currentLang]);if(n.append(s,r,l,c),`taskFive${a}`in Gn){const e=jn.createDevTask(Gn[`taskFive${a}`][D.currentLang]);n.append(s,r,l,c,e)}return n}}.createDevTasks(a.name);return n.append(s,l,c),n}};class Vn{static renderInteractivePage(){const a=I.getPage();let r;switch(D.currentPage){case n.lesson:r=class{static createLessonMain(a){let s;if(!wt.lessonData)return D.currentPage=n.lessons,s=Ht.createLessonsMain(a),s;s=e.createElement(t.main,[{name:"class",value:`lesson lesson-${D.currentLessonBg}`}]),wt.page=s;const r=e.createElement(t.div,[{name:"class",value:"lesson-top"}]),l=Dt.createBackBtn(n.lessons,a),c=class{static createLessonSettings(){const a=e.createElement(t.div,[{name:"class",value:"lesson-settings"}]),n=e.createElement(t.div,[{name:"class",value:"options-panel hidden"}]),s=class{static create(a){const n=e.createElement(t.div,[{name:"class",value:"options-panel-overlay hidden"}]),s=a;return wt.page.append(n),n.addEventListener("click",(()=>{n.classList.add("hidden"),s.textContent="",s.classList.add("hidden"),pn.option.classList.remove("active-option")})),n}}.create(n),r=fn.createLessonFontBtn(n,s),l=En.createLessonSoundBtn(n,s),c=xn.createLessonBgBtn(n,s),o=kn.createLessonSkinBtn(n,s);return a.append(r,l,o,c,n),a}}.createLessonSettings(),o=e.createElement(t.div,[{name:"class",value:"lesson-ribbon"}]),i=e.createElement(t.div,[{name:"class",value:"lesson-wrapper"}]),u=e.createElement(t.div,[{name:"class",value:"content-top-wrapper"}]),d=class{static createLessonStats(){const a=e.createElement(t.div,[{name:"class",value:"lesson-stats"}]),n=e.createElement(t.div,[{name:"class",value:"test-mistakes-wrapper"}]),s=e.createElement(t.par,[{name:"class",value:"test-mistakes"}]),r=e.createElement(t.span,[{name:"class",value:"test-mistakes-count"}]),l=e.createElement(t.div,[{name:"class",value:"test-corrections-wrapper"}]),c=e.createElement(t.par,[{name:"class",value:"test-corrections"}]),o=e.createElement(t.span,[{name:"class",value:"test-corrections-count"}]),i=e.createElement(t.div,[{name:"class",value:"lesson-wpm-wrapper"}]),u=e.createElement(t.par,[{name:"class",value:"lesson-wpm"}]),d=e.createElement(t.span,[{name:"class",value:"lesson-wpm-count"}]),p=e.createElement(t.div,[{name:"class",value:"lesson-accuracy-wrapper"}]),m=e.createElement(t.par,[{name:"class",value:"lesson-accuracy"}]),g=e.createElement(t.span,[{name:"class",value:"lesson-accuracy-count"}]);return wt.mistakesCount=r,wt.correctionsCount=o,wt.wpmCount=d,wt.accuracyCount=g,c.textContent=j.testCorrectionsText[D.currentLang],s.textContent=j.testMistakesText[D.currentLang],u.textContent=j.testWpmText[D.currentLang],m.textContent=j.testAccuracyText[D.currentLang],r.textContent="0",o.textContent="0",d.textContent="0",g.textContent="0",n.append(s,r),l.append(c,o),i.append(u,d),p.append(m,g),a.append(n,l,i,p),a}}.createLessonStats(),p=class{static createRestartBtn(a){const s=e.createElement(t.btn,[{name:"class",value:"lesson-restart-btn"}]);return s.addEventListener("click",(()=>{wt.clearState(),Rt.stopTimer=!0,N.applyPage(n.lesson,a)})),s}}.createRestartBtn(a),m=class{static createLessonContent(){const a=e.createElement(t.div,[{name:"class",value:`lesson-content lesson-${D.currentLessonFontSize} lesson-${D.currentLessonFontFamily}`}]),n=[],s=e.createElement(t.div,[{name:"class",value:"chars-wrapper"}]);return wt.lessonData.content.split("").forEach((a=>{const r=e.createElement(t.span,[{name:"class",value:"lesson-char"}]);r.textContent=a,n.push(r),s.append(r)})),a.append(s),wt.lessonChars=n,wt.charsWrapper=s,wt.contentWrapper=a,a}}.createLessonContent(),g=e.createElement(t.div,[{name:"class",value:"progress-bar-wrapper"}]),v=e.createElement(t.div,[{name:"class",value:"progress-bar-done"}]),h=e.createElement(t.div,[{name:"class",value:"progress-bar-all"}]),b=An.createLessonKeyboard(),f=e.createElement(t.img,[{name:"class",value:"lesson-hands"},{name:"alt",value:"Hands tip"},{name:"height",value:"500px"},{name:"width",value:"900px"}]);wt.hands=f,D.currentLessonHands===B.hidden&&(f.style.visibility="hidden");const y=Fn.createLessonInput(a);return o.textContent=j.testRibbonText[D.currentLang],wt.ribbon=o,wt.keyboard=b,r.append(l,c),u.append(d,p),i.append(u,m,y),h.append(v),g.append(h),wt.progress=v,wt.progressWrapper=g,s.append(r,o,i,g,b,f),document.addEventListener("keydown",(()=>{y.focus()})),1===wt.lessonData.index&&Un.show(),s}}.createLessonMain(Vn.renderPage);break;case n.test:r=class{static createTestMain(a){kt.clearState(),$t.stopTimer=!0;const r=e.createElement(t.main,[{name:"class",value:"test"}]),l=e.createElement(t.div,[{name:"class",value:"test-nav"}]),c=Dt.createBackBtn(n.layout,a),o=e.createElement(t.div,[{name:"class",value:"test-btns"}]),i=e.createElement(t.par,[{name:"class",value:"test-btns-text"}]),u=Ft.createTestLangBtn(s.en,a),d=Ft.createTestLangBtn(s.ru,a),p=e.createElement(t.div,[{name:"class",value:"test-ribbon"}]),m=class{static createTestTop(a){const s=e.createElement(t.div,[{name:"class",value:"test-top"}]),r=e.createElement(t.div,[{name:"class",value:"test-stats"}]),l=e.createElement(t.div,[{name:"class",value:"test-mistakes-wrapper"}]),c=e.createElement(t.par,[{name:"class",value:"test-mistakes"}]),o=e.createElement(t.span,[{name:"class",value:"test-mistakes-count"}]),i=e.createElement(t.div,[{name:"class",value:"test-corrections-wrapper"}]),u=e.createElement(t.par,[{name:"class",value:"test-corrections"}]),d=e.createElement(t.span,[{name:"class",value:"test-corrections-count"}]),p=e.createElement(t.div,[{name:"class",value:"test-wpm-wrapper"}]),m=e.createElement(t.par,[{name:"class",value:"test-wpm"}]),g=e.createElement(t.span,[{name:"class",value:"test-wpm-count"}]),v=e.createElement(t.div,[{name:"class",value:"test-accuracy-wrapper"}]),h=e.createElement(t.par,[{name:"class",value:"test-accuracy"}]),b=e.createElement(t.span,[{name:"class",value:"test-accuracy-count"}]),f=class{static createTestRestartBtn(a){const s=e.createElement(t.btn,[{name:"class",value:"test-restart"}]);return s.addEventListener("click",(()=>{kt.clearState(),$t.stopTimer=!0,N.applyPage(n.test,a)})),s}}.createTestRestartBtn(a);return kt.mistakesCount=o,kt.correctionsCount=d,kt.wpmCount=g,kt.accuracyCount=b,u.textContent=j.testCorrectionsText[D.currentLang],c.textContent=j.testMistakesText[D.currentLang],m.textContent=j.testWpmText[D.currentLang],h.textContent=j.testAccuracyText[D.currentLang],o.textContent="0",d.textContent="0",g.textContent="0",b.textContent="0",l.append(c,o),i.append(u,d),p.append(m,g),v.append(h,b),r.append(l,i,p,v),s.append(r,f),s}}.createTestTop(a),g=e.createElement(t.div,[{name:"class",value:"test-time"}]),v=e.createElement(t.span,[{name:"class",value:"test-time-text"}]),h=e.createElement(t.span,[{name:"class",value:"test-time-count"}]);p.textContent=j.testRibbonText[D.currentLang],kt.ribbon=p,i.textContent=j.testBtnsText[D.currentLang],v.textContent=j.testTimeText[D.currentLang],h.textContent="60",kt.timeCount=h,o.append(u,d),l.append(c,i,o),g.append(v,h),r.append(l,p,g,m),ke.getTest(kt.lang).then((a=>{if(r.append(class{static createTestContent(a){const n=e.createElement(t.div,[{name:"class",value:"test-text-wrapper"}]),s=[],r=e.createElement(t.div,[{name:"class",value:"test-spans-wrapper"}]);return a.split("").forEach((a=>{const n=e.createElement(t.span,[{name:"class",value:"char"}]);n.textContent=a,s.push(n),r.append(n)})),n.append(r),kt.testChars=s,kt.charsWrapper=r,kt.contentWrapper=n,n}}.createTestContent(a[0].text)),Q.checkIfUserAuthorised()){const e=Nt.createTestLastResult();r.append(e)}}));const b=Ut.createTestInput();return document.addEventListener("keydown",(()=>{b.focus()})),m.append(b),kt.page=r,r}}.createTestMain(Vn.renderPage);break;case n.gameOne:r=class{static start(e,a,n){const s={page:e,switchPage:a,render:n},r=Gt.createElement(t.div,[{name:"class",value:"game-wrapper"}]);if(Xt.gameWrapper=r,jt.currentUser.login!==jt.notAuthorised)ke.getUser(jt.currentUser.login).then((e=>{Xt.clearState(),Pa.achievementClear(),Xt.engageState(),Ma.getData(e,Ia.innerGameMapRender),Xt.appCallbacks=s;const t=Ia.mapRender();Xt.firstAppearance&&ua.createWelcomeModal(Ma.setData),r.append(t)}));else{Xt.clearState(),Pa.achievementClear(),Xt.engageState(),Xt.appCallbacks=s;const e=Ia.mapRender();Xt.firstAppearance&&ua.createWelcomeModal(Ma.setData),r.append(e)}return r}}.start(n.games,N.applyPage,Vn.renderPage);break;case n.gameTwo:r=class{static start(e,a,n){const s={page:e,switchPage:a,render:n},r=Ra.createElement(t.div,[{name:"class",value:"game-wrapper"}]);if(Na.gameWrapper=r,Da.currentUser.login!==Da.notAuthorised)ke.getUser(Da.currentUser.login).then((e=>{Na.engageState(),on.state(),on.resetLvlsPoints(),on.achievementClear(),Ja.getData(e),Na.appCallbacks=s;const t=dn.createMenu();Na.firstAppearance&&an.startModal(),Na.achievementCurrentStatus&&(ln.current=Na.achievementCurrentStatus),r.append(t)}));else{Na.engageState(),on.state(),on.resetLvlsPoints(),on.achievementClear(),Na.appCallbacks=s;const e=dn.createMenu();Na.firstAppearance&&an.startModal(),r.append(e)}return r}}.start(n.games,N.applyPage,Vn.renderPage);break;default:r=Ht.createLessonsMain(Vn.renderPage)}a.append(r)}static renderStaticPage(){const a=I.getPage(),s=class{static createHeader(a){const s=e.createElement(t.header,[{name:"class",value:"header"}]),r=e.createElement(t.div,[{name:"class",value:"header-wrapper"}]),l=e.createElement(t.div,[{name:"class",value:"menu-wrapper"}]),c=class{static createAppBtn(a,n){const s=e.createElement(t.btn,[{name:"class",value:"app-btn"}]),r=class{static createAppLogo(){const a=e.createElement(t.h1,[{name:"class",value:"app-logo"}]);return a.textContent="EyesUp logo",a}}.createAppLogo();return s.append(r),s.addEventListener("click",(()=>{N.applyPage(a,n)})),s}}.createAppBtn(n.home,a),o=Y.createMenu("menu header-menu",a),i=e.createElement(t.div,[{name:"class",value:"controls-wrapper"}]),u=e.createElement(t.div,[{name:"class",value:"theme-lang-wrapper"}]),d=class{static createThemeBtn(){const e=V.createSmallBtn("small-btn small-btn-bg theme-btn","Theme switcher");return e.addEventListener("click",(()=>{U.applyTheme()})),e}}.createThemeBtn(),p=class{static createLangBtn(e){const t=V.createSmallBtn("small-btn small-btn-bg",j.themeSwitcher[D.currentLang]);return t.addEventListener("click",(()=>{q.applyLang(e)})),t}}.createLangBtn(a);let m;const g=class{static createBurgerMenuBtn(a){const n=e.createElement(t.btn,[{name:"class",value:"burger-menu-btn"}]);return n.addEventListener("click",(()=>{_.openModal(ee.createModalWrapper(class{static createBurgerMenu(a,n){const s=e.createElement(t.div,[{name:"class",value:"burger-menu"}]),r=J.createCloseBtn("small-btn close-btn",a),l=Y.createMenu("menu modal-menu",n);let c;return c=Q.checkIfUserAuthorised()?Ze.createBurgerMenuProfileBtn(a,s,Je.createProfileModal(a,n)):at.createBurgerMenuRegistrationBtn(a,s,et.createRegistrationModal(a,n)),c.classList.add("burger-menu-user-btn"),s.append(r,l,c),s}}.createBurgerMenu,a))})),n}}.createBurgerMenuBtn(a);return m=Q.checkIfUserAuthorised()?Ze.createHeaderProfileBtn(a):at.createHeaderRegistrationBtn(a),m.classList.add("header-user-btn"),u.append(d,p),i.append(u,m,g),l.append(c,o),r.append(l,i),s.append(r),s}}.createHeader(Vn.renderPage);let r;const l=class{static createFooter(){const a=e.createElement(t.footer,[{name:"class",value:"footer"}]),n=dt.createContentWrapper();return a.append(n),a}}.createFooter();switch(D.currentPage){case n.layout:r=class{static createLayoutMain(a){const s=e.createElement(t.main,[{name:"class",value:"layout"}]),r=te.createMainTitle(j.lessonsTitle[D.currentLang]),l=bt.createLayoutBtn(j.lessonsEnLayoutTitle[D.currentLang],a,i.en),c=bt.createLayoutBtn(j.lessonsRuLayoutTitle[D.currentLang],a,i.ru),o=class{static createLessonsTest(a){const s=e.createElement(t.section,[{name:"class",value:"layout-test"}]),r=e.createElement(t.h4,[{name:"class",value:"section-title"}]),l=xe.createBigBtn(j.lessonsTestBtn[D.currentLang]);return l.addEventListener("click",(()=>{N.applyPage(n.test,a)})),r.textContent=j.lessonsTestTitle[D.currentLang],s.append(r,l),s}}.createLessonsTest(a),u=vt.createLessonsTest(),d=e.createElement(t.div,[{name:"class",value:"section-btns-wrapper"}]);return r.classList.add("lessons-title"),d.append(l,c),s.append(r,d,o,u),s}}.createLayoutMain(Vn.renderPage);break;case n.games:r=class{static createGamesMain(a){const s=e.createElement(t.main,[{name:"class",value:"games"}]),r=te.createMainTitle(j.gamesTitle[D.currentLang]),l=e.createElement(t.div,[{name:"class",value:"games-section-wrapper"}]);return yt.createGameSection(l,"game-one",u.one,n.gameOne,a),yt.createGameSection(l,"game-two",u.two,n.gameTwo,a),s.append(r,l),s}}.createGamesMain(Vn.renderPage);break;case n.about:r=class{static createAboutMain(){const a=e.createElement(t.main,[{name:"class",value:"about"}]),n=Re.createSubtitle("subtitle about-subtitle",Gn.greeting[D.currentLang]),s=On.createAboutDesc(Gn.project[D.currentLang],Gn.features[D.currentLang],st),r=Re.createSubtitle("subtitle about-subtitle",Gn.technologies[D.currentLang]),l=class{static createTechBlock(){const a=e.createElement(t.div,[{name:"class",value:"about-wrapper"}]),n=Nn.createTechDesc(Gn.textFront[D.currentLang],Gn.techFront[D.currentLang]),s=Nn.createTechDesc(Gn.textBack[D.currentLang],Gn.techBack[D.currentLang]);return a.append(n,s),a}}.createTechBlock(),c=Re.createSubtitle("subtitle about-subtitle",Gn.developers[D.currentLang]),o=class{static createDevBlock(){const a=e.createElement(t.div,[{name:"class",value:"about-wrapper"}]),n=Yn.createDevDesc(it.Irina),s=Yn.createDevDesc(it.Nikita),r=Yn.createDevDesc(it.Oxana);return a.append(n,s,r),a}}.createDevBlock(),i=Re.createSubtitle("subtitle about-subtitle",Gn.credits[D.currentLang]),u=class{static createCreditsBlock(){const a=e.createElement(t.div,[{name:"class",value:"about-wrapper"}]),n=On.createAboutDesc(Gn.inspyredBy[D.currentLang],Gn.typingClub[D.currentLang],rt),s=class{static createIllustrationsDesc(){const a=e.createElement(t.div,[{name:"class",value:"about-desc"}]),n=e.createElement(t.par,[{name:"class",value:"about-text"}]),s=e.createElement(t.span),r=e.createElement(t.span),l=e.createElement(t.span),c=e.createElement(t.link,[{name:"class",value:"about-link"},{name:"href",value:lt},{name:"target",value:"_blank"}]),o=e.createElement(t.link,[{name:"class",value:"about-link"},{name:"href",value:ct},{name:"target",value:"_blank"}]),i=e.createElement(t.link,[{name:"class",value:"about-link"},{name:"href",value:ot},{name:"target",value:"_blank"}]);return s.textContent=Gn.illustrationsBy[D.currentLang],r.textContent=Gn.and[D.currentLang],l.textContent=Gn.comma[D.currentLang],c.textContent=Gn.illustratorOne[D.currentLang],o.textContent=Gn.illustratorTwo[D.currentLang],i.textContent=Gn.illustratorThree[D.currentLang],n.append(s,c,l,o,r,i),a.append(n),a}}.createIllustrationsDesc();return a.append(n,s),a}}.createCreditsBlock();return a.append(n,s,r,l,c,o,i,u),a}}.createAboutMain();break;default:r=class{static createHomeMain(a){const s=e.createElement(t.main,[{name:"class",value:"home"}]),r=class{static createHomePromo(a){const s=e.createElement(t.section,[{name:"class",value:"home-promo"}]),r=e.createElement(t.h2,[{name:"class",value:"promo-title"}]),l=e.createElement(t.par,[{name:"class",value:"promo-text"}]),c=class{static createPromoBtn(e,t){const a=xe.createBigBtn(e);return a.addEventListener("click",(()=>{N.applyPage(n.layout,t)})),a}}.createPromoBtn(j.promoBtn[D.currentLang],a),o=e.createElement(t.div,[{name:"class",value:"home-promo-bg"}]),i=e.createElement(t.div,[{name:"class",value:"promo-content-container"}]);return r.textContent=j.promoTitle[D.currentLang],l.textContent=j.promoText[D.currentLang],i.append(r,l,c),s.append(i,o),s}}.createHomePromo(a),l=pt.createHomeSection("lessons",j.homeLessonsTitle[D.currentLang],j.homeLessonsText[D.currentLang]),c=pt.createHomeSection("games",j.homeGamesTitle[D.currentLang],j.homeGamesText[D.currentLang]),o=pt.createHomeSection("progress",j.homeProgressTitle[D.currentLang],j.homeProgressText[D.currentLang]),i=class{static createHomeRegistration(a){const n=e.createElement(t.section,[{name:"class",value:"home-registration"}]),s=te.createMainTitle(j.homeRegistrationTitle[D.currentLang]),r=e.createElement(t.par,[{name:"class",value:"home-text-registration"}]),l=class{static createHomeRegistrationWrapper(a){const n=e.createElement(t.div,[{name:"class",value:"home-registration-wrapper"}]),s=class{static createHomeLogoutConfirmation(a,n){const s=e.createElement(t.div,[{name:"class",value:"logout-confirmation-content hidden"}]),r=class{static createLoggedText(){const a=e.createElement(t.par,[{name:"class",value:"confirmation-question"}]);return a.textContent=De.loggedText[D.currentLang],a}}.createLoggedText(),l=class{static createLogoutText(){const a=e.createElement(t.par,[{name:"class",value:"confirmation-text"}]);return a.textContent=De.logoutText[D.currentLang],a}}.createLogoutText(),c=e.createElement(t.div,[{name:"class",value:"confirmation-btns-wrapper"}]),o=class{static createLogoutBtn(a){const n=e.createElement(t.par,[{name:"class",value:"confirmation-yes-btn"}]);return n.textContent=De.logoutBtn[D.currentLang],n.addEventListener("click",(()=>{Ae.logoutFromProfile(a)})),n}}.createLogoutBtn(n),i=class{static createCancelBtn(a){const n=e.createElement(t.par,[{name:"class",value:"confirmation-no-btn"}]);return n.textContent=De.cancelBtn[D.currentLang],n.addEventListener("click",(()=>{Ie.hideConfirmation(a)})),n}}.createCancelBtn(a);return c.append(o,i),s.append(r,l,c),s}}.createHomeLogoutConfirmation(n,a),r=class{static createHomeRegBtn(e,t){const a=xe.createBigBtn(j.homeRegistrationBtn[D.currentLang]);return a.addEventListener("click",(()=>{(class{static homeRegistrationHandler(e,t){D.currentUser.login===D.notAuthorised?_.openModal(ee.createModalWrapper(et.createRegistrationModal,t)):Ie.showConfirmation(e)}}).homeRegistrationHandler(e,t)})),a}}.createHomeRegBtn(n,a);return n.append(s,r),n}}.createHomeRegistrationWrapper(a);return r.textContent=j.homeRegistrationText[D.currentLang],n.append(s,r,l),n}}.createHomeRegistration(a),u=e.createElement(t.div,[{name:"class",value:"home-wrapper"}]);return u.append(r,l,c,o,i),s.append(u),s}}.createHomeMain(Vn.renderPage)}a.append(s,r,l)}static renderPage(){F.updateState(),I.clearPage(),U.swapTheme(),window.addEventListener("resize",(()=>{_.closeBurgerMenuHandler()})),D.currentPage===n.lesson||D.currentPage===n.gameOne||D.currentPage===n.gameTwo||D.currentPage===n.lessons||D.currentPage===n.test?Vn.renderInteractivePage():Vn.renderStaticPage()}}const zn=Vn;(class{static start(){zn.renderPage()}}).start()})();